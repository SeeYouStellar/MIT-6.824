=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 95993 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 46873 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8415207638751670148 (index 1) to leader 2
flag 27387 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 13974 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
flag 89507 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13570 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
flag 11755 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64715 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
flag 37202 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33378 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
flag 39163 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45649 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
flag 46668 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 41429 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8415207638751670148 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6272750017602560461 (index 2) to leader 2
flag 71946 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 66571 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8415207638751670148 1 1} {6272750017602560461 1 2}]
------------------------------------------------------
flag 54282 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 69506 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8415207638751670148 1 1} {6272750017602560461 1 2}]
------------------------------------------------------
client write log 2321174892669172301 (index 3) to leader 2
client write log 3149761051102387941 (index 4) to leader 2
client write log 84250912328409223 (index 5) to leader 2
client write log 8561451534461260940 (index 6) to leader 2
client write log 6708201939042526197 (index 7) to leader 2
client write log 1531800909932559633 (index 8) to leader 2
client write log 243021466115493104 (index 9) to leader 2
client write log 5287051035303089560 (index 10) to leader 2
flag 34350 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 94428 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {8415207638751670148 1 1} {6272750017602560461 1 2} {2321174892669172301 1 3} {3149761051102387941 1 4} {84250912328409223 1 5} {8561451534461260940 1 6} {6708201939042526197 1 7} {1531800909932559633 1 8} {243021466115493104 1 9} {5287051035303089560 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 10456 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1977336979779834384 (index 11) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 92190 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 88990 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 80590 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 67178 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 5452 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 70925 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 11913 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 45055 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 33359 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 90970 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 136 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 2893 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 88966 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 39353 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 85401 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 2081 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 93044 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 85538 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 32544 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 25574 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 5448 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 50410 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 25495 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 25324 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 53249 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 6887 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 62985 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 15750 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 73532 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 67065 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 61438 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 55626 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 82914 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 40708 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 87375 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 15528 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
flag 15371 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 85818 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11}]
------------------------------------------------------
client write log 1977336979779834384 (index 12) to leader 2
flag 31004 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 27658 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
flag 63195 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 38827 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
flag 46290 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 24541 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
flag 37730 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 26425 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
flag 25911 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 47415 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
flag 459 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 14008 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
flag 24805 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 11293 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 36122 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 28340 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
flag 77221 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 55601 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 52213 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 44344 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 74478 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
client write log 3828620826189836171 (index 13) to leader 0
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12} {3828620826189836171 4 13}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22572 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 3126 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 30044 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12} {3828620826189836171 4 13}]
------------------------------------------------------
flag 95023 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 8028 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 71568 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12} {3828620826189836171 4 13}]
------------------------------------------------------
client write log 4449375403722548995 (index 14) to leader 0
client write log 9051026521033127210 (index 15) to leader 0
client write log 6729797598518106941 (index 16) to leader 0
client write log 6559941027153792845 (index 17) to leader 0
client write log 2525334421105065360 (index 18) to leader 0
client write log 3321531570166554807 (index 19) to leader 0
client write log 9072289823065239279 (index 20) to leader 0
client write log 3797299300597511693 (index 21) to leader 0
client write log 1863328991698247389 (index 22) to leader 0
client write log 8008083252480878321 (index 23) to leader 0
client write log 4911524068261497902 (index 24) to leader 0
client write log 7106590198950043791 (index 25) to leader 0
flag 29737 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 39124 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 45959 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {5287051035303089560 1 10} {1977336979779834384 1 11} {1977336979779834384 3 12} {3828620826189836171 4 13} {4449375403722548995 4 14} {9051026521033127210 4 15} {6729797598518106941 4 16} {6559941027153792845 4 17} {2525334421105065360 4 18} {3321531570166554807 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
flag 96479 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 13073 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 226652708449273887 (index 13) to leader 2
flag 7391 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70284 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 7261 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 61681 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 26->25
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 99526 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 86589 term 6 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94795 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 85569 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 20437 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 40809 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 83061 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69165 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 87227 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 45159 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 73850 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 35894 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87653 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 27565 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 62618 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 28117 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 20957 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 94332 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 10066 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 84761 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 55056 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 13620 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38715 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 27380 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68551 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 81130 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 3467 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 77185 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66253 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 75263 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 32808 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 82641 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 92571 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 61202 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
flag 48381 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 67240 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25}]
------------------------------------------------------
client write log 226652708449273887 (index 26) to leader 0
flag 33717 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 20521 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76832 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 97214 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
flag 3522 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 72003 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39099 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 70401 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
flag 31172 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 87468 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42610 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 73870 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5919021207544772024 (index 27) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74973 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 19012 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26} {5919021207544772024 6 27}]
------------------------------------------------------
flag 44329 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 57758 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26} {5919021207544772024 6 27}]
------------------------------------------------------
client write log 2890520076753599879 (index 28) to leader 0
client write log 778961820831104527 (index 29) to leader 0
client write log 1031027524281410663 (index 30) to leader 0
client write log 134869511527460309 (index 31) to leader 0
client write log 8692022680038371065 (index 32) to leader 0
client write log 8027669931843282307 (index 33) to leader 0
client write log 4204207064647280408 (index 34) to leader 0
client write log 418653475260047782 (index 35) to leader 0
client write log 961569541477835009 (index 36) to leader 0
client write log 4792146208463315613 (index 37) to leader 0
client write log 9132673421810364955 (index 38) to leader 0
client write log 3307051462993000069 (index 39) to leader 0
client write log 4504541841767384414 (index 40) to leader 0
client write log 4036494464141716913 (index 41) to leader 0
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 572 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 51282 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 19} {9072289823065239279 4 20} {3797299300597511693 4 21} {1863328991698247389 4 22} {8008083252480878321 4 23} {4911524068261497902 4 24} {7106590198950043791 4 25} {226652708449273887 6 26} {5919021207544772024 6 27} {2890520076753599879 6 28} {778961820831104527 6 29} {1031027524281410663 6 30} {134869511527460309 6 31} {8692022680038371065 6 32} {8027669931843282307 6 33} {4204207064647280408 6 34} {418653475260047782 6 35} {961569541477835009 6 36} {4792146208463315613 6 37} {9132673421810364955 6 38} {3307051462993000069 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=41
-------------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=41
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 62366 term 6 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=41
-------------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7504056124209162808 (index 42) to leader 0
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 95572 term 6 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 13164 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 37468 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 43->42
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 85794 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 96597 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 79364 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34112 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 20793 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
flag 66874 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 13075 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
flag 65244 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 80145 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7136 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 44431 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47567 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 17389 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6444980745712510938 (index 43) to leader 0
flag 4448 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 29002 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42} {6444980745712510938 8 43}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51401 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 93186 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42} {6444980745712510938 8 43}]
------------------------------------------------------
client write log 6485389551403771318 (index 44) to leader 0
client write log 9082601649516652312 (index 45) to leader 0
client write log 1198437665742138644 (index 46) to leader 0
client write log 5739772388002182342 (index 47) to leader 0
client write log 4705542657800008608 (index 48) to leader 0
client write log 4541062101232002756 (index 49) to leader 0
client write log 3569626780729478226 (index 50) to leader 0
client write log 57144134290919543 (index 51) to leader 0
client write log 504180667818153287 (index 52) to leader 0
client write log 3505702774156235108 (index 53) to leader 0
client write log 8911480715613650844 (index 54) to leader 0
client write log 5580680969254641853 (index 55) to leader 0
client write log 4747476855537733111 (index 56) to leader 0
client write log 7740366633920503707 (index 57) to leader 0
client write log 508387147565222834 (index 58) to leader 0
flag 72394 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 88091 term 8 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 39} {4504541841767384414 6 40} {4036494464141716913 6 41} {7504056124209162808 6 42} {6444980745712510938 8 43} {6485389551403771318 8 44} {9082601649516652312 8 45} {1198437665742138644 8 46} {5739772388002182342 8 47} {4705542657800008608 8 48} {4541062101232002756 8 49} {3569626780729478226 8 50} {57144134290919543 8 51} {504180667818153287 8 52} {3505702774156235108 8 53} {8911480715613650844 8 54} {5580680969254641853 8 55} {4747476855537733111 8 56} {7740366633920503707 8 57} {508387147565222834 8 58}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=58
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 25764 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {3569626780729478226 8 50} {57144134290919543 8 51} {504180667818153287 8 52} {3505702774156235108 8 53} {8911480715613650844 8 54} {5580680969254641853 8 55} {4747476855537733111 8 56} {7740366633920503707 8 57} {508387147565222834 8 58}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=58
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2715074684498955626 (index 59) to leader 0
term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 92492 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 49} {3569626780729478226 8 50} {57144134290919543 8 51} {504180667818153287 8 52} {3505702774156235108 8 53} {8911480715613650844 8 54} {5580680969254641853 8 55} {4747476855537733111 8 56} {7740366633920503707 8 57} {508387147565222834 8 58} {2715074684498955626 8 59}]
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 1 vote for server 0
term 10 server 0 get outdate rpc reply from server 1
flag 59732 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 34568 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 leader 0 nextIndex[1]: 43  matchIndex[1]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 39536 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 8 rf.commitIndex 59 rf.lastApplied 59
flag 38096 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 92979 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 78888 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 70928 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 19852 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 6243 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66618 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 93544 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
flag 36324 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 44362 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 10 server 2 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 2
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 25439 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 37733 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42526 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 38874 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 82457 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 70803 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 60->59
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
client write log 1809002505806322217 (index 60) to leader 1
flag 7444 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 47871 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 59} {1809002505806322217 11 60}]
------------------------------------------------------
flag 30577 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 95275 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 60 
------------------------------------------------------
flag 95810 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 59} {1809002505806322217 11 60}]
------------------------------------------------------
client write log 1622538037216288527 (index 61) to leader 1
client write log 5119454639510779138 (index 62) to leader 1
client write log 4405078901889632782 (index 63) to leader 1
client write log 4261496226243410169 (index 64) to leader 1
client write log 8077641236922972612 (index 65) to leader 1
client write log 2319078066584514399 (index 66) to leader 1
client write log 780249059634690600 (index 67) to leader 1
client write log 5980831216640707317 (index 68) to leader 1
client write log 4489677743089788876 (index 69) to leader 1
client write log 4960890266683281300 (index 70) to leader 1
flag 98597 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 29647 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 60 
------------------------------------------------------
flag 15495 term 11 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 8 59} {1809002505806322217 11 60} {1622538037216288527 11 61} {5119454639510779138 11 62} {4405078901889632782 11 63} {4261496226243410169 11 64} {8077641236922972612 11 65} {2319078066584514399 11 66} {780249059634690600 11 67} {5980831216640707317 11 68} {4489677743089788876 11 69} {4960890266683281300 11 70}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54797 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 57582 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {4960890266683281300 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6763311667180634949 (index 71) to leader 1
flag 68232 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 59
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
term 11 server 1 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
term 11 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 84432 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
flag 49721 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 5895 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
flag 24905 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 92320 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
flag 84385 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 15019 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 75222 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 75693 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
flag 92839 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 25743 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57304 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 2864 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
flag 69667 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 87122 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8856905676026624608 (index 72) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47440 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 36830 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71} {8856905676026624608 11 72}]
------------------------------------------------------
flag 42138 term 11 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 6971 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71} {8856905676026624608 11 72}]
------------------------------------------------------
client write log 3761899672906523136 (index 73) to leader 1
client write log 6925318817637775852 (index 74) to leader 1
client write log 9210594594608802931 (index 75) to leader 1
client write log 4199254439645611034 (index 76) to leader 1
client write log 2148649356059526019 (index 77) to leader 1
client write log 5554365372064027391 (index 78) to leader 1
client write log 4655969936688811561 (index 79) to leader 1
client write log 6812262964933021053 (index 80) to leader 1
client write log 3774035415040868851 (index 81) to leader 1
client write log 740861940398796452 (index 82) to leader 1
client write log 8620623908437914584 (index 83) to leader 1
client write log 3833283773257264 (index 84) to leader 1
client write log 4455296221092752296 (index 85) to leader 1
client write log 4775262219383926350 (index 86) to leader 1
client write log 8362418925163408086 (index 87) to leader 1
flag 49525 term 11 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 48434 term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 69} {4960890266683281300 11 70} {6763311667180634949 11 71} {8856905676026624608 11 72} {3761899672906523136 11 73} {6925318817637775852 11 74} {9210594594608802931 11 75} {4199254439645611034 11 76} {2148649356059526019 11 77} {5554365372064027391 11 78} {4655969936688811561 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=87
-------------------------------------------------------------
flag 82649 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=87
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2106324842690257666 (index 88) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 1768 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 91870 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 89->88
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 89->88
------------------------------------------------------
flag 8107 term 13 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88681 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 35008 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 9110 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 62708 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 62752 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 78742 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 47265 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 17862 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 12768 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 77937 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 19999 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 41112 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 4461 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 14001 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 28205 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 66272 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 28994 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 11614 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30077 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 88071 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42112 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 36058 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 1089 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 89043 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 29336 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 39868 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91025 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 28301 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 7544 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 62466 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 90164 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 51516 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 91820 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 88343 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
flag 30309 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 92017 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88}]
------------------------------------------------------
client write log 2106324842690257666 (index 89) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66397 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 53020 term 13 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88} {2106324842690257666 13 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {6812262964933021053 11 80} {3774035415040868851 11 81} {740861940398796452 11 82} {8620623908437914584 11 83} {3833283773257264 11 84} {4455296221092752296 11 85} {4775262219383926350 11 86} {8362418925163408086 11 87} {2106324842690257666 11 88} {2106324842690257666 13 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 Server1 start snapshot! index=89
term 13 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 86474 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 928 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 Server2 start snapshot! index=89
term 13 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 13 Server0 start snapshot! index=89
term 13 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52920 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 42371 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88876 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 90733 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 13 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
flag 21979 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 50604 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3902 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 6986 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4045323125489575878 (index 90) to leader 1
flag 39080 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 77245 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4045323125489575878 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14320 term 13 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
flag 88074 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4045323125489575878 13 90}]
------------------------------------------------------
client write log 3133108925124511386 (index 91) to leader 1
client write log 3002256759450296948 (index 92) to leader 1
client write log 8152927082234556796 (index 93) to leader 1
client write log 2398903405769112778 (index 94) to leader 1
client write log 667826805136462600 (index 95) to leader 1
client write log 2049095063673112634 (index 96) to leader 1
flag 45741 term 13 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
flag 54691 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96}]
------------------------------------------------------
flag 13688 term 13 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 13 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 30894 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6937168903566984402 (index 97) to leader 1
flag 15886 term 13 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 13 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 48606 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 13 server 0 not vote for server 2, 日志不够新
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get outdate rpc reply from server 0
flag 7227 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 38124 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 98342 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 79362 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 67328 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 88372 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 54413 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 64266 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44937 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 88816 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 10872 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 20187 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 91346 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 56920 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24845 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 64682 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 87279 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 36261 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21799 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 44889 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 85297 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 78510 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 41703 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 8040 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3124 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 98118 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 35810 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 91649 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98424 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 52914 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
flag 73068 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 40933 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97}]
------------------------------------------------------
client write log 6937168903566984402 (index 98) to leader 1
flag 84558 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
flag 22192 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 13 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
flag 57749 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 77464 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59611 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 79807 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
flag 59624 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 85704 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
flag 15310 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 19223 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38928 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 93577 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
flag 3264 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 54553 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 67249 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 22572 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 19136 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 60574 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 45512 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 73439 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 99->98
------------------------------------------------------
flag 38921 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 0
term 17 server 2 become leader
------------------------------------------------------
client write log 810299603668272346 (index 99) to leader 2
flag 59005 term 17 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 93128 term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 13 89} {4045323125489575878 13 90} {3133108925124511386 13 91} {3002256759450296948 13 92} {8152927082234556796 13 93} {2398903405769112778 13 94} {667826805136462600 13 95} {2049095063673112634 13 96} {6937168903566984402 13 97} {6937168903566984402 16 98} {810299603668272346 17 99}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 11379 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 70296 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 17 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 7064437799720999822 (index 100) to leader 2
client write log 7968362848955959448 (index 101) to leader 2
client write log 8964542349481624502 (index 102) to leader 2
client write log 7696881513204152050 (index 103) to leader 2
client write log 8022049598286725068 (index 104) to leader 2
client write log 1025595843141149374 (index 105) to leader 2
client write log 964330827409282965 (index 106) to leader 2
client write log 5211953135255827218 (index 107) to leader 2
client write log 8818319599182719674 (index 108) to leader 2
client write log 1211738799765444691 (index 109) to leader 2
client write log 5429825837213175075 (index 110) to leader 2
client write log 5271597427443049391 (index 111) to leader 2
client write log 108386885585824019 (index 112) to leader 2
client write log 5197726009204203757 (index 113) to leader 2
flag 14144 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 98609 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 99 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 99} {7064437799720999822 17 100} {7968362848955959448 17 101} {8964542349481624502 17 102} {7696881513204152050 17 103} {8022049598286725068 17 104} {1025595843141149374 17 105} {964330827409282965 17 106} {5211953135255827218 17 107} {8818319599182719674 17 108} {1211738799765444691 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
flag 90152 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 24539 term 17 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 17 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 17 Server0 start snapshot! index=109
term 17 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8606787096287742074 (index 99) to leader 1
flag 55429 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 server 0 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5093 term 17 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 17 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
term 17 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 17 server 2 not vote for server 1, 日志不够新
term 17 server 0 not vote for server 1, 日志不够新
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 0
flag 78516 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 4420 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 92018 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 5082 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16902 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 10837 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 14835 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 91162 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 48492 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 43237 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 88820 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 83550 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 90111 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 6856 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 28809 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 90972 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3608 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 98855 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 18332 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 67277 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 4955 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 42008 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 47580 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 82296 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 17812 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 19413 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 27382 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 55788 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 27130 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 92608 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 18930 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 15686 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
flag 38508 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 46281 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71732 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 49219 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33707 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 86561 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113}]
------------------------------------------------------
client write log 8606787096287742074 (index 114) to leader 2
flag 12056 term 19 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 13824 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
flag 7687 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 60073 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
flag 26245 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 68860 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90083 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 96932 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95248 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 76339 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
flag 34056 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 17248 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5720091683982808429 (index 115) to leader 2
flag 29345 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 37614 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114} {5720091683982808429 19 115}]
------------------------------------------------------
flag 84504 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 52855 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114} {5720091683982808429 19 115}]
------------------------------------------------------
client write log 654164393409719524 (index 116) to leader 2
client write log 2706808105919523442 (index 117) to leader 2
client write log 723852850602940225 (index 118) to leader 2
client write log 1672251429022362680 (index 119) to leader 2
client write log 5119874887114093239 (index 120) to leader 2
client write log 4029706607739017805 (index 121) to leader 2
client write log 1090430746284598133 (index 122) to leader 2
client write log 6460583437871344410 (index 123) to leader 2
client write log 980197765291038462 (index 124) to leader 2
client write log 3317039256459281114 (index 125) to leader 2
client write log 1782775341641330633 (index 126) to leader 2
client write log 4011978437074215363 (index 127) to leader 2
client write log 7418201232452803296 (index 128) to leader 2
client write log 4685151030266856208 (index 129) to leader 2
client write log 8969144048856828433 (index 130) to leader 2
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46232 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 38013 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 17 109} {5429825837213175075 17 110} {5271597427443049391 17 111} {108386885585824019 17 112} {5197726009204203757 17 113} {8606787096287742074 19 114} {5720091683982808429 19 115} {654164393409719524 19 116} {2706808105919523442 19 117} {723852850602940225 19 118} {1672251429022362680 19 119} {5119874887114093239 19 120} {4029706607739017805 19 121} {1090430746284598133 19 122} {6460583437871344410 19 123} {980197765291038462 19 124} {3317039256459281114 19 125} {1782775341641330633 19 126} {4011978437074215363 19 127} {7418201232452803296 19 128} {4685151030266856208 19 129} {8969144048856828433 19 130}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=130
-------------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=130
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 6036 term 19 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 19 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=130
-------------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=130
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8058311397465906139 (index 131) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 2 get outdate rpc reply from server 0
flag 2134 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 88031 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 132->131
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 132->131
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 115  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 30188 term 21 leader 2 nextIndex[1]: 131  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
flag 35742 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 32789 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 47897 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 31705 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 12165 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 70654 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37883 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 71002 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 97715 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 22093 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 91972 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 71832 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 78790 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 29745 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 12106 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 48154 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 51563 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 77138 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85811 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 88811 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37405 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 13788 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 77624 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 50829 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 64622 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 27541 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 74136 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 70729 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3026 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 29776 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 51932 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 27060 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
flag 41532 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 93156 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131}]
------------------------------------------------------
client write log 8058311397465906139 (index 132) to leader 2
flag 85080 term 21 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 11710 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
flag 70352 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 23894 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
flag 14377 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 91360 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
flag 60973 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 78266 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
flag 75915 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 60718 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42439 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 67740 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 1265960584142610288 (index 133) to leader 2
flag 86746 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 18420 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132} {1265960584142610288 21 133}]
------------------------------------------------------
flag 13398 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 79756 term 21 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132} {1265960584142610288 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2350829928229952136 (index 134) to leader 2
client write log 3002397531207884332 (index 135) to leader 2
client write log 5468158014908242176 (index 136) to leader 2
client write log 3140042407598218119 (index 137) to leader 2
client write log 468335746410071119 (index 138) to leader 2
client write log 1946778779750051307 (index 139) to leader 2
client write log 1775490190050288801 (index 140) to leader 2
client write log 867460831023277835 (index 141) to leader 2
client write log 7258857335593697559 (index 142) to leader 2
client write log 235006937375250531 (index 143) to leader 2
client write log 7973126732563962348 (index 144) to leader 2
client write log 2550580683906903667 (index 145) to leader 2
client write log 3660883433440971895 (index 146) to leader 2
client write log 7618871957467470040 (index 147) to leader 2
flag 51441 term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 33731 term 21 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 129} {8969144048856828433 19 130} {8058311397465906139 19 131} {8058311397465906139 21 132} {1265960584142610288 21 133} {2350829928229952136 21 134} {3002397531207884332 21 135} {5468158014908242176 21 136} {3140042407598218119 21 137} {468335746410071119 21 138} {1946778779750051307 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=147
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 1835 term 21 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 21 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=147
-------------------------------------------------------------
!!!!!!connect server 0
client write log 250441298882823022 (index 148) to leader 2
term 21 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 10668 term 21 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 21 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 66516 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 69951 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 149->148
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 133  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 9927 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
flag 63392 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 2907 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77206 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 97821 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40094 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 84183 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
flag 83248 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 17488 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
flag 10644 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 40182 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
flag 79363 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 13488 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
flag 18514 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 72139 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 28335 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 17963 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52613 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 17305 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 43275 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 98474 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 149->148
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 148
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 90134 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
flag 26953 term 24 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 2258 term 24 leader 0 nextIndex[2]: 149  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148}]
------------------------------------------------------
client write log 8287938984998601326 (index 149) to leader 0
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 148
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 22364 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 87393 term 24 leader 0 nextIndex[1]: 149  matchIndex[1]: 148
term 24 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 55581 term 24 leader 0 nextIndex[2]: 149  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 139} {1775490190050288801 21 140} {867460831023277835 21 141} {7258857335593697559 21 142} {235006937375250531 21 143} {7973126732563962348 21 144} {2550580683906903667 21 145} {3660883433440971895 21 146} {7618871957467470040 21 147} {250441298882823022 21 148} {8287938984998601326 24 149}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 148
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 63221 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 61913 term 24 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 149 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 149  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 24 149}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 7825676955357838097 (index 150) to leader 0
client write log 2078084670664951187 (index 151) to leader 0
client write log 4489047150302118662 (index 152) to leader 0
client write log 2082814094464988874 (index 153) to leader 0
client write log 6798665934718311452 (index 154) to leader 0
client write log 2425645044720744456 (index 155) to leader 0
client write log 3083757742380645585 (index 156) to leader 0
client write log 7387984319941326850 (index 157) to leader 0
client write log 130350903879147286 (index 158) to leader 0
client write log 6383877483675311342 (index 159) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 149->148
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 148
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 41999 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 95479 term 24 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 149 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 149} {7825676955357838097 24 150} {2078084670664951187 24 151} {4489047150302118662 24 152} {2082814094464988874 24 153} {6798665934718311452 24 154} {2425645044720744456 24 155} {3083757742380645585 24 156} {7387984319941326850 24 157} {130350903879147286 24 158} {6383877483675311342 24 159}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 148
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 76094 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 15067 term 24 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5439964952014450748 (index 149) to leader 2
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 148
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 5536 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51400 term 24 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 25 server 1 vote for server 2
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 2 get outdate rpc reply from server 0
flag 41345 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 6122 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 18546 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 57503 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 27143 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 42397 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 55064 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 42819 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 85659 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 77378 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 60854 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 88604 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41883 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 96769 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60160 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 41624 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 75295 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 25473 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14250 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 85621 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 33440 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 32417 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48949 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 40820 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38266 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 18571 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 16744 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 17074 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 31836 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 98238 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2726 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 88040 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 1 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 1
flag 45631 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 17777 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26308 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 96604 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 84366 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 91586 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
client write log 5439964952014450748 (index 160) to leader 2
flag 87153 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 43451 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
flag 97468 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 98405 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
flag 69513 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 55254 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
flag 33398 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 60280 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38220 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 9012 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
flag 97859 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 10178 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
flag 83459 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 57457 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5439964952014450748 25 160}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 529274487220914555 (index 161) to leader 2
flag 73861 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 65077 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5439964952014450748 25 160} {529274487220914555 25 161}]
------------------------------------------------------
flag 26643 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 24263 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5439964952014450748 25 160} {529274487220914555 25 161}]
------------------------------------------------------
client write log 1544122548604254292 (index 162) to leader 2
client write log 4366504618943200972 (index 163) to leader 2
client write log 2589932936832599242 (index 164) to leader 2
client write log 7597194848390329481 (index 165) to leader 2
client write log 83027279003637555 (index 166) to leader 2
client write log 1677530259550518203 (index 167) to leader 2
client write log 8840229759593398494 (index 168) to leader 2
client write log 2685636612594477635 (index 169) to leader 2
client write log 2773193874453238449 (index 170) to leader 2
client write log 707931202743226365 (index 171) to leader 2
client write log 4352315277693289372 (index 172) to leader 2
client write log 9048946330708656269 (index 173) to leader 2
client write log 4955240883253644100 (index 174) to leader 2
client write log 7861324381997390455 (index 175) to leader 2
flag 37007 term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 43097 term 25 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 25 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 159} {5439964952014450748 25 160} {529274487220914555 25 161} {1544122548604254292 25 162} {4366504618943200972 25 163} {2589932936832599242 25 164} {7597194848390329481 25 165} {83027279003637555 25 166} {1677530259550518203 25 167} {8840229759593398494 25 168} {2685636612594477635 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175}]
------------------------------------------------------
term 25 Server2 start snapshot! index=169
term 25 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
flag 44032 term 25 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 25 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175}]
------------------------------------------------------
term 25 Server1 start snapshot! index=169
term 25 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7498537481355959431 (index 176) to leader 2
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 2 get outdate rpc reply from server 0
flag 2115 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 94563 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 161  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
flag 57706 term 27 leader 2 nextIndex[1]: 176  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 25 rf.commitIndex 169 rf.lastApplied 169
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52726 term 27 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 18194 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42102 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 93817 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 31489 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 23657 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 98532 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 35367 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 29056 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 99654 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 49593 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 70368 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64121 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 11300 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 81134 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 59409 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 66463 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 27870 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 72176 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 33962 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 36758 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 11914 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 69896 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 6435 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 44596 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 35585 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 58335 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 3628 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9894 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 2064 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 21956 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 18227 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
flag 88329 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 67575 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 server 2 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 2
flag 68016 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 95171 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7498537481355959431 (index 177) to leader 2
flag 71124 term 27 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
flag 51519 term 27 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 27 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 25 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
flag 23645 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 13253 term 27 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32868 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 88492 term 27 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
flag 41576 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 95763 term 27 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
update nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76916 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 80123 term 27 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
flag 95650 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 84021 term 27 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1269593036759167883 (index 178) to leader 2
flag 90284 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 30974 term 27 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177} {1269593036759167883 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53317 term 27 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 178 
------------------------------------------------------
flag 76850 term 27 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 27 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 178 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177} {1269593036759167883 27 178}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7402585970402626535 (index 179) to leader 2
client write log 3464259516333527846 (index 180) to leader 2
client write log 7075188699557104368 (index 181) to leader 2
client write log 3861709415345064098 (index 182) to leader 2
client write log 4981311851689212137 (index 183) to leader 2
client write log 8395983968931803063 (index 184) to leader 2
client write log 5151476745931395787 (index 185) to leader 2
client write log 3612304051749206263 (index 186) to leader 2
client write log 8659362037769546057 (index 187) to leader 2
client write log 8467586388817893123 (index 188) to leader 2
client write log 3909404205112566146 (index 189) to leader 2
client write log 1741167037601704036 (index 190) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
flag 84255 term 27 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 27 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 178 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 169} {2773193874453238449 25 170} {707931202743226365 25 171} {4352315277693289372 25 172} {9048946330708656269 25 173} {4955240883253644100 25 174} {7861324381997390455 25 175} {7498537481355959431 25 176} {7498537481355959431 27 177} {1269593036759167883 27 178} {7402585970402626535 27 179} {3464259516333527846 27 180} {7075188699557104368 27 181} {3861709415345064098 27 182} {4981311851689212137 27 183} {8395983968931803063 27 184} {5151476745931395787 27 185} {3612304051749206263 27 186} {8659362037769546057 27 187} {8467586388817893123 27 188} {3909404205112566146 27 189} {1741167037601704036 27 190}]
------------------------------------------------------
term 27 Server2 start snapshot! index=179
term 27 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=190
-------------------------------------------------------------
term 27 Server2 start snapshot! index=189
term 27 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
flag 23002 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190}]
------------------------------------------------------
term 27 Server1 start snapshot! index=179
term 27 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=190
-------------------------------------------------------------
term 27 Server1 start snapshot! index=189
term 27 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2631119633424038282 (index 191) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get outdate rpc reply from server 0
flag 93269 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 53067 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 192->191
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
flag 14538 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 27 rf.commitIndex 189 rf.lastApplied 189
flag 49011 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 82195 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 33917 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 4590 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 55554 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 99362 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 70210 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 13616 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 52136 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 10220 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 38503 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 87351 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 10059 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 38290 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85816 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 24660 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50350 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 90037 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 733 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 85023 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 66425 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 59083 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 63965 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 75691 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 59627 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 77666 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49850 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 42693 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 37641 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 70534 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 59765 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 39901 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
flag 679 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 11890 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191}]
------------------------------------------------------
client write log 2631119633424038282 (index 192) to leader 2
flag 93889 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 44198 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
flag 76817 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 26075 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
flag 58108 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 71580 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
flag 23590 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 93260 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
flag 63854 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 36922 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
flag 20352 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 16249 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 79376 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 13799 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 75671 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 6991 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 77296 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 20460 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 54198 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 82522 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 0
term 30 server 1 become leader
------------------------------------------------------
flag 23219 term 30 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 98465 term 30 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192}]
------------------------------------------------------
client write log 8748111081391605156 (index 193) to leader 1
flag 85674 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 1514 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 79049 term 30 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 21171 term 30 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193}]
------------------------------------------------------
flag 91471 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 40754 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 86995 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 32255 term 30 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193}]
------------------------------------------------------
client write log 2945244930948794156 (index 194) to leader 1
flag 43035 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 18787 term 29 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 3651 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 75763 term 30 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
flag 41187 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 192
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
flag 50340 term 30 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 30 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 71801 term 30 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
!!!!!!connect server 2
client write log 729955550674860201 (index 195) to leader 1
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 192
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 192
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98005 term 30 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 30 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 73868 term 30 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
flag 99449 term 30 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
flag 41359 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19922 term 30 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
flag 86465 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
flag 97462 term 30 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
flag 51607 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
flag 49681 term 30 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
flag 34807 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
flag 1842 term 30 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
flag 6012 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3724372501209242586 (index 196) to leader 1
flag 24638 term 30 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
flag 54443 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 195 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195} {3724372501209242586 30 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70481 term 30 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 30 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 71492 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195} {3724372501209242586 30 196}]
------------------------------------------------------
client write log 8864661616994496464 (index 197) to leader 1
client write log 7594739060958738817 (index 198) to leader 1
client write log 1316136822113096867 (index 199) to leader 1
client write log 6260727122912473058 (index 200) to leader 1
client write log 6821220273586556375 (index 201) to leader 1
client write log 1633309024933698950 (index 202) to leader 1
client write log 2855601800426637 (index 203) to leader 1
client write log 528590959572823913 (index 204) to leader 1
client write log 4351376807529162424 (index 205) to leader 1
client write log 2027303526703871604 (index 206) to leader 1
flag 61111 term 30 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 30 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 33807 term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 27 189} {1741167037601704036 27 190} {2631119633424038282 27 191} {2631119633424038282 29 192} {8748111081391605156 30 193} {2945244930948794156 30 194} {729955550674860201 30 195} {3724372501209242586 30 196} {8864661616994496464 30 197} {7594739060958738817 30 198} {1316136822113096867 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206}]
------------------------------------------------------
term 30 Server1 start snapshot! index=199
term 30 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
flag 92849 term 30 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 30 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206}]
------------------------------------------------------
term 30 Server0 start snapshot! index=199
term 30 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7293340624467266622 (index 207) to leader 1
term 30 server 1 not vote for server 2, 日志不够新
term 30 server 0 not vote for server 2, 日志不够新
term 32 server 2 vote for server 1
term 32 server 0 vote for server 1
term 32 server 1 get vote from server 0
term 32 server 1 become leader
------------------------------------------------------
term 32 server 1 get outdate rpc reply from server 2
flag 85407 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 22959 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 208->207
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62280 term 32 leader 1 nextIndex[0]: 207  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 30 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 53798 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 84611 term 32 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34485 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 14909 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59000 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 97985 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
flag 75365 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 6859 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 64884 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 3046 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 56099 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 47735 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 83715 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 1010 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57016 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 63964 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 81095 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 64570 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98333 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 94364 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 34403 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 48789 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 12251 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 91993 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 71549 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 51211 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 76403 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 52528 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
flag 41472 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 80342 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33289 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 53318 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86857 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 91496 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207}]
------------------------------------------------------
client write log 7293340624467266622 (index 208) to leader 1
flag 60325 term 32 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 41852 term 32 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
flag 3898 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 53005 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
flag 51312 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 74345 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15322 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 64918 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17074 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 61118 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
flag 97844 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 25152 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
flag 85854 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 43443 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1470617842455051048 (index 209) to leader 1
flag 59123 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 35567 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 30 199} {6260727122912473058 30 200} {6821220273586556375 30 201} {1633309024933698950 30 202} {2855601800426637 30 203} {528590959572823913 30 204} {4351376807529162424 30 205} {2027303526703871604 30 206} {7293340624467266622 30 207} {7293340624467266622 32 208} {1470617842455051048 32 209}]
------------------------------------------------------
term 32 Server1 start snapshot! index=209
term 32 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 47927 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 Server0 start snapshot! index=209
term 32 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 440857217680170499 (index 210) to leader 1
client write log 7433552754264982582 (index 211) to leader 1
client write log 5112729062929806170 (index 212) to leader 1
client write log 1887392205320181074 (index 213) to leader 1
client write log 845515141081495165 (index 214) to leader 1
client write log 5808223190213562667 (index 215) to leader 1
client write log 2445312607393095609 (index 216) to leader 1
client write log 7071161389547341254 (index 217) to leader 1
client write log 8696908271467405366 (index 218) to leader 1
client write log 4963393885325910219 (index 219) to leader 1
client write log 7384174933341208129 (index 220) to leader 1
client write log 4467309312724623427 (index 221) to leader 1
client write log 151479164731274021 (index 222) to leader 1
flag 67193 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 32 209} {440857217680170499 32 210} {7433552754264982582 32 211} {5112729062929806170 32 212} {1887392205320181074 32 213} {845515141081495165 32 214} {5808223190213562667 32 215} {2445312607393095609 32 216} {7071161389547341254 32 217} {8696908271467405366 32 218} {4963393885325910219 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222}]
------------------------------------------------------
term 32 Server1 start snapshot! index=219
term 32 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=222
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 209->208
------------------------------------------------------
flag 82053 term 32 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 32 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 32 leaderCommit: 222 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 208
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222}]
------------------------------------------------------
term 32 Server0 start snapshot! index=219
term 32 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=222
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1342646617784909245 (index 223) to leader 1
flag 27468 term 32 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 32 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 32 leaderCommit: 222 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 208
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
term 33 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 0
term 34 server 1 become leader
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get outdate rpc reply from server 2
flag 26012 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 67525 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 224->223
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35048 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 209  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 32 rf.commitIndex 219 rf.lastApplied 219
flag 7971 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 99621 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
flag 70972 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 38554 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65446 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 93433 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81471 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 51844 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1824 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 94436 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
flag 6927 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 3862 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30151 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 44175 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 58698 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 21889 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72074 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 44259 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 0
term 35 server 2 become leader
------------------------------------------------------
flag 41490 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 14000 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 61389 term 35 leader 2 nextIndex[0]: 224  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 37300 term 35 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223}]
------------------------------------------------------
client write log 5061822649719468084 (index 224) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99246 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 52672 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 52285 term 35 leader 2 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 45384 term 35 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223} {5061822649719468084 35 224}]
------------------------------------------------------
flag 32104 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 60372 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 80663 term 35 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 53492 term 35 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 224 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223} {5061822649719468084 35 224}]
------------------------------------------------------
client write log 6714568454066789640 (index 225) to leader 2
client write log 3178664607887253819 (index 226) to leader 2
client write log 6363349088906522792 (index 227) to leader 2
client write log 2420739210364853659 (index 228) to leader 2
client write log 2104531452062755703 (index 229) to leader 2
client write log 4352709608280313460 (index 230) to leader 2
client write log 1100296369734845938 (index 231) to leader 2
client write log 964369830614673245 (index 232) to leader 2
client write log 4025302586208699841 (index 233) to leader 2
client write log 241987610419642285 (index 234) to leader 2
client write log 2806211495504647919 (index 235) to leader 2
flag 372 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 79202 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 25540 term 35 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 20327 term 35 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 224 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 219} {7384174933341208129 32 220} {4467309312724623427 32 221} {151479164731274021 32 222} {1342646617784909245 32 223} {5061822649719468084 35 224} {6714568454066789640 35 225} {3178664607887253819 35 226} {6363349088906522792 35 227} {2420739210364853659 35 228} {2104531452062755703 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 Server2 start snapshot! index=229
term 35 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
flag 23249 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 88167 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 29328 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 Server0 start snapshot! index=229
term 35 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1651767469073189530 (index 224) to leader 1
flag 53706 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
flag 76581 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 32 leaderCommit: 223 
------------------------------------------------------
term 35 server 0 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70720 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 72596 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 66055 term 35 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 42063 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 3942 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 36566 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 75589 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 40826 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 35284 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22818 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 235
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 235 args.LastIncludedIndex 229
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 44283 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 28217 term 35 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42248 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 38506 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 9483 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 72127 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 41949 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 89932 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65746 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 82164 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 97725 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 85869 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 86514 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 31908 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59969 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 82119 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72942 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 9042 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 92332 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 16407 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75697 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 88546 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90210 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 71245 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
flag 2879 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 42965 term 35 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
flag 99045 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 235
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 235 args.LastIncludedIndex 229
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235}]
------------------------------------------------------
client write log 1651767469073189530 (index 236) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98720 term 35 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 35 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
flag 53234 term 35 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 235 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
flag 1413 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 12327 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
flag 79629 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 91208 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
flag 18307 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 78073 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84610 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 47582 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26657 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 58877 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
flag 43273 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 78940 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8684389536872306357 (index 237) to leader 2
flag 7294 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 61269 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236} {8684389536872306357 35 237}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68551 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 237 
------------------------------------------------------
flag 59172 term 35 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 35 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 237 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236} {8684389536872306357 35 237}]
------------------------------------------------------
client write log 1687467498824702997 (index 238) to leader 2
client write log 7493455578095387377 (index 239) to leader 2
client write log 2289073817362731192 (index 240) to leader 2
client write log 1470671736678409275 (index 241) to leader 2
client write log 4452171727592663299 (index 242) to leader 2
client write log 8148699821764735993 (index 243) to leader 2
flag 5023 term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 237 
------------------------------------------------------
flag 75778 term 35 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 35 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 237 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 35 229} {4352709608280313460 35 230} {1100296369734845938 35 231} {964369830614673245 35 232} {4025302586208699841 35 233} {241987610419642285 35 234} {2806211495504647919 35 235} {1651767469073189530 35 236} {8684389536872306357 35 237} {1687467498824702997 35 238} {7493455578095387377 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243}]
------------------------------------------------------
term 35 Server2 start snapshot! index=239
term 35 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 26882 term 35 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 35 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243}]
------------------------------------------------------
term 35 Server1 start snapshot! index=239
term 35 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3913168300139480037 (index 244) to leader 2
term 35 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 98716 term 35 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 35 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 75024 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 53687 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 245->244
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 32041 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 35 rf.commitIndex 239 rf.lastApplied 239
term 37 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24888 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 29750 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
flag 10846 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 30891 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
flag 51135 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 71619 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
flag 66556 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 28018 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
flag 94371 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 36754 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58313 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 37461 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72258 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 8623 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 49916829516488971 (index 245) to leader 2
flag 88034 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 77613 term 37 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244} {49916829516488971 37 245}]
------------------------------------------------------
flag 82986 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 58943 term 37 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 37 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 37 leaderCommit: 245 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244} {49916829516488971 37 245}]
------------------------------------------------------
client write log 1535152138117209448 (index 246) to leader 2
client write log 7173062040684837109 (index 247) to leader 2
client write log 1036011883536778802 (index 248) to leader 2
client write log 7693314569740635675 (index 249) to leader 2
client write log 6926920995396655164 (index 250) to leader 2
client write log 6961180821871948180 (index 251) to leader 2
client write log 7970039713211432159 (index 252) to leader 2
client write log 8199613846229304159 (index 253) to leader 2
client write log 5385889996390594291 (index 254) to leader 2
client write log 2970967016158659465 (index 255) to leader 2
client write log 366696051479429443 (index 256) to leader 2
client write log 1623102419454586228 (index 257) to leader 2
flag 26863 term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 70415 term 37 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 37 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 37 leaderCommit: 245 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 35 239} {2289073817362731192 35 240} {1470671736678409275 35 241} {4452171727592663299 35 242} {8148699821764735993 35 243} {3913168300139480037 35 244} {49916829516488971 37 245} {1535152138117209448 37 246} {7173062040684837109 37 247} {1036011883536778802 37 248} {7693314569740635675 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257}]
------------------------------------------------------
term 37 Server2 start snapshot! index=249
term 37 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=257
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 54704 term 37 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 37 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257}]
------------------------------------------------------
term 37 Server1 start snapshot! index=249
term 37 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=257
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3022468468600106134 (index 258) to leader 2
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 21394 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 34816 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 259->258
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
term 39 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
term 39 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 50485 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
flag 72502 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 86022 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90275 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 25691 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 72558 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 52704 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 5568 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 19692 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93631 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 34582 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
flag 20116 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 86694 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 80724 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 13702 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 98178 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 67060 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 19322 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 66197 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62839 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 21475 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 83940 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 96329 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89147 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 43771 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 48759 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 18792 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25276 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 89681 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 8378 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 87568 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 45178 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 33687 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 70018 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 4852 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
flag 31445 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 83303 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258}]
------------------------------------------------------
client write log 3022468468600106134 (index 259) to leader 2
flag 70699 term 39 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 11547 term 39 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 39 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258} {3022468468600106134 39 259}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 37 249} {6926920995396655164 37 250} {6961180821871948180 37 251} {7970039713211432159 37 252} {8199613846229304159 37 253} {5385889996390594291 37 254} {2970967016158659465 37 255} {366696051479429443 37 256} {1623102419454586228 37 257} {3022468468600106134 37 258} {3022468468600106134 39 259}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 59347 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 12912 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 Server1 start snapshot! index=259
term 39 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 57958 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 35055 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61632 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 24460 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 79479 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 86327 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42467 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 33433 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
flag 70811 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 18139 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 79530 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 93635 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70017 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 31642 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 260->259
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 259
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 34214 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get vote from server 1
term 40 server 0 become leader
------------------------------------------------------
client write log 1068555531296820643 (index 260) to leader 0
flag 72626 term 40 leader 0 nextIndex[1]: 260  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 65064 term 40 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {1068555531296820643 40 260}]
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 259
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 69956 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 30140 term 40 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 18948 term 40 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {1068555531296820643 40 260}]
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 259
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 61703 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
client write log 1477829962700778396 (index 261) to leader 0
client write log 6723544962791744150 (index 262) to leader 0
client write log 3869949191175389039 (index 263) to leader 0
client write log 4415318605987770104 (index 264) to leader 0
client write log 972829439485990472 (index 265) to leader 0
client write log 3853557228345326866 (index 266) to leader 0
client write log 2637383044099146239 (index 267) to leader 0
client write log 2108508570066166264 (index 268) to leader 0
client write log 4023383720016518652 (index 269) to leader 0
client write log 4977478583361501530 (index 270) to leader 0
client write log 7425408006124688559 (index 271) to leader 0
client write log 3000303034150535346 (index 272) to leader 0
client write log 1829948086266348566 (index 273) to leader 0
client write log 544922406600068394 (index 274) to leader 0
client write log 5891118594024624502 (index 275) to leader 0
flag 33146 term 40 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 39164 term 40 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 259} {1068555531296820643 40 260} {1477829962700778396 40 261} {6723544962791744150 40 262} {3869949191175389039 40 263} {4415318605987770104 40 264} {972829439485990472 40 265} {3853557228345326866 40 266} {2637383044099146239 40 267} {2108508570066166264 40 268} {4023383720016518652 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 259
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 77534 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
flag 9645 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 Server1 start snapshot! index=269
term 40 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
flag 93627 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 13027 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
!!!!!!connect server 2
client write log 2898105158930927216 (index 260) to leader 2
flag 44792 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 40 rf.commitIndex 269 rf.lastApplied 269
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 15397 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 39391 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75607 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 69319 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 82383 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 50065 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 97190 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 8692 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 49744 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 47847 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 16478 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 5284 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34565 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 12416 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 70064 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 39806 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 12577 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 15088 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 346 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 15222 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33233 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 7114 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 78409 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 3835 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9548 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 20128 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21239 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 40779 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81974 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 533 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87340 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 46798 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 34902 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 49716 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
flag 21781 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 275 args.LastIncludedIndex 269
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
flag 30930 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 73606 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275}]
------------------------------------------------------
client write log 2898105158930927216 (index 276) to leader 0
flag 36656 term 40 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
flag 76617 term 40 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 40 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 277->276
------------------------------------------------------
flag 60965 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 276
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 275 args.LastIncludedIndex 269
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
flag 42078 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 92783 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
flag 10980 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 67562 term 40 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
flag 21521 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 10295 term 40 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
flag 20437 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 97768 term 40 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
flag 67421 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 6156 term 40 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4309826935245748487 (index 277) to leader 0
flag 15270 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 21393 term 40 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276} {4309826935245748487 40 277}]
------------------------------------------------------
flag 36661 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
flag 10546 term 40 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 40 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276} {4309826935245748487 40 277}]
------------------------------------------------------
client write log 6645788561138276916 (index 278) to leader 0
client write log 264282492793724972 (index 279) to leader 0
client write log 5460875968718257392 (index 280) to leader 0
client write log 1402346495025361097 (index 281) to leader 0
client write log 5705032751120710337 (index 282) to leader 0
client write log 4593430488370408321 (index 283) to leader 0
client write log 6649101802030792106 (index 284) to leader 0
client write log 2253713051410890301 (index 285) to leader 0
client write log 605288871595326723 (index 286) to leader 0
flag 28417 term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
flag 32924 term 40 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 40 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 40 269} {4977478583361501530 40 270} {7425408006124688559 40 271} {3000303034150535346 40 272} {1829948086266348566 40 273} {544922406600068394 40 274} {5891118594024624502 40 275} {2898105158930927216 40 276} {4309826935245748487 40 277} {6645788561138276916 40 278} {264282492793724972 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286}]
------------------------------------------------------
term 40 Server0 start snapshot! index=279
term 40 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
term 40 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 53614 term 40 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 40 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286}]
------------------------------------------------------
term 40 Server2 start snapshot! index=279
term 40 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7926143575049705729 (index 287) to leader 0
term 40 server 2 not vote for server 1, 日志不够新
term 40 server 0 not vote for server 1, 日志不够新
term 42 server 2 vote for server 0
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 1
flag 2793 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 32125 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 22149 term 42 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 40 rf.commitIndex 279 rf.lastApplied 279
flag 95386 term 42 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 42 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 41678 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 96487 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 31570 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31868 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 73410 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 98715 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 35312 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 43772 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 7900 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 62889 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 86440 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 33856 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 11137 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 25810 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 58443 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 94299 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 60621 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 50928 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 22706 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13435 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 45743 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 59008 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 54765 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82953 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 79708 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 14221 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 1179 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 38357 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 21913 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 32971 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 74011 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16114 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 23960 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
flag 86575 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 62319 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287}]
------------------------------------------------------
client write log 7926143575049705729 (index 288) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6264 term 42 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
flag 21661 term 42 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 42 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 286 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
flag 59810 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 49219 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
flag 54541 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 78858 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
flag 71278 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 79358 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64127 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 358 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
flag 28878 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 34884 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
flag 62276 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 27758 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7540717585230820147 (index 289) to leader 0
flag 88044 term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
flag 20716 term 42 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 40 279} {5460875968718257392 40 280} {1402346495025361097 40 281} {5705032751120710337 40 282} {4593430488370408321 40 283} {6649101802030792106 40 284} {2253713051410890301 40 285} {605288871595326723 40 286} {7926143575049705729 40 287} {7926143575049705729 42 288} {7540717585230820147 42 289}]
------------------------------------------------------
term 42 Server0 start snapshot! index=289
term 42 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 42
------------------------------------------------------
flag 80093 term 42 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 42 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 42 leaderCommit: 289 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 42 289}]
------------------------------------------------------
term 42 Server2 start snapshot! index=289
term 42 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 4227975708357310436 (index 290) to leader 0
client write log 5329091349701320456 (index 291) to leader 0
client write log 1400932427465047190 (index 292) to leader 0
client write log 2648283953309030788 (index 293) to leader 0
client write log 2907553210801090687 (index 294) to leader 0
client write log 5545743027135077986 (index 295) to leader 0
client write log 3986921519098979250 (index 296) to leader 0
client write log 7916565391598377809 (index 297) to leader 0
client write log 3278702166525253981 (index 298) to leader 0
client write log 2185598652904519118 (index 299) to leader 0
client write log 3183362304230580831 (index 300) to leader 0
client write log 8734676316197806411 (index 301) to leader 0
client write log 1567063238848458877 (index 302) to leader 0
client write log 5509101236659709134 (index 303) to leader 0
term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 42
------------------------------------------------------
flag 81772 term 42 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 42 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 42 leaderCommit: 289 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 42 289} {4227975708357310436 42 290} {5329091349701320456 42 291} {1400932427465047190 42 292} {2648283953309030788 42 293} {2907553210801090687 42 294} {5545743027135077986 42 295} {3986921519098979250 42 296} {7916565391598377809 42 297} {3278702166525253981 42 298} {2185598652904519118 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303}]
------------------------------------------------------
term 42 Server0 start snapshot! index=299
term 42 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=303
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
flag 9280 term 42 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 42 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303}]
------------------------------------------------------
term 42 Server2 start snapshot! index=299
term 42 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=303
-------------------------------------------------------------
!!!!!!connect server 1
client write log 745974892766239659 (index 304) to leader 0
term 42 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
flag 82930 term 42 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 42 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:303 
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 62121 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 17579 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 305->304
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
flag 42352 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 42 rf.commitIndex 299 rf.lastApplied 299
flag 73474 term 44 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 44 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 75263 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 45549 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 65264 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 98673 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 87152 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65871 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 4000 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 34856 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 51266 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8482 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 86975 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 12173 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 57676 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 41550 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 39997 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20042 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 45525 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64673 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 59922 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15250 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 4396 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 17396 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 38215 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 705 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 2521 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 48929 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 32311 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 10143 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 57107 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27143 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 46449 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
flag 59093 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 43148 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=303
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304}]
------------------------------------------------------
client write log 745974892766239659 (index 305) to leader 0
flag 44341 term 44 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
flag 54814 term 44 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 44 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 42 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
flag 41391 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 13384 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
flag 25719 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 4479 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
term 44 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
flag 94635 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 31610 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
flag 16333 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 83747 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
flag 99507 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 45563 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
flag 52282 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 55552 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 21023 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 52625 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 78673 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 164 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 69645 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 43309 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
flag 13636 term 45 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 17242 term 45 leader 1 nextIndex[2]: 306  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305}]
------------------------------------------------------
client write log 1719301323878225321 (index 306) to leader 1
flag 74085 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 56274 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 78393 term 45 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 80407 term 45 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 45 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305} {1719301323878225321 45 306}]
------------------------------------------------------
flag 97445 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 92864 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 65825 term 45 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 52245 term 45 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 45 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 45 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305} {1719301323878225321 45 306}]
------------------------------------------------------
client write log 1822634606384547059 (index 307) to leader 1
client write log 5636361590654022425 (index 308) to leader 1
client write log 7484028324890790767 (index 309) to leader 1
client write log 3945841697357607033 (index 310) to leader 1
client write log 1785350471367921938 (index 311) to leader 1
client write log 505847474188597173 (index 312) to leader 1
client write log 736413571731782156 (index 313) to leader 1
client write log 4976225196020370090 (index 314) to leader 1
client write log 8821665256288981092 (index 315) to leader 1
client write log 365164299503039863 (index 316) to leader 1
client write log 7444767896471316178 (index 317) to leader 1
client write log 1509601861078047408 (index 318) to leader 1
client write log 6885359514864875531 (index 319) to leader 1
flag 82383 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 81684 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 67535 term 45 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 97335 term 45 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 45 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 45 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 42 299} {3183362304230580831 42 300} {8734676316197806411 42 301} {1567063238848458877 42 302} {5509101236659709134 42 303} {745974892766239659 42 304} {745974892766239659 44 305} {1719301323878225321 45 306} {1822634606384547059 45 307} {5636361590654022425 45 308} {7484028324890790767 45 309} {3945841697357607033 45 310} {1785350471367921938 45 311} {505847474188597173 45 312} {736413571731782156 45 313} {4976225196020370090 45 314} {8821665256288981092 45 315} {365164299503039863 45 316} {7444767896471316178 45 317} {1509601861078047408 45 318} {6885359514864875531 45 319}]
------------------------------------------------------
term 45 Server1 start snapshot! index=309
term 45 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=319
-------------------------------------------------------------
term 45 Server1 start snapshot! index=319
term 45 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 79112 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 1729 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 46644 term 45 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 45 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 45 319}]
------------------------------------------------------
term 45 Server2 start snapshot! index=309
term 45 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=319
-------------------------------------------------------------
term 45 Server2 start snapshot! index=319
term 45 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1948014868473343197 (index 320) to leader 1
flag 48398 term 44 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
flag 73466 term 44 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 45 server 1 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 45 server 2 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 2345 term 45 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 45 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 45 rf.commitIndex 319 rf.lastApplied 319
term 45 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
flag 63620 term 45 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 45 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 87066 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
term 45 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 日志不够新
term 45 server 1 get outdate rpc reply from server 0
flag 31605 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 38165 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
flag 74363 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 50689 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
flag 91845 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 19082 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
flag 99237 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 31150 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
flag 77618 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 51788 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
flag 40233 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 49415 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 45 319} {1948014868473343197 45 320}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6593838316465271746 (index 321) to leader 1
flag 90204 term 45 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
flag 17990 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 320 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1948014868473343197 45 320} {6593838316465271746 45 321}]
------------------------------------------------------
flag 48957 term 45 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 45 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 45 leaderCommit: 321 
------------------------------------------------------
flag 9343 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 321 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1948014868473343197 45 320} {6593838316465271746 45 321}]
------------------------------------------------------
client write log 2018590330069646950 (index 322) to leader 1
client write log 7605055639889378096 (index 323) to leader 1
client write log 4948854454052506829 (index 324) to leader 1
client write log 6572058765079457639 (index 325) to leader 1
client write log 6451302701832932316 (index 326) to leader 1
client write log 3173045299729570709 (index 327) to leader 1
client write log 6174903037026513388 (index 328) to leader 1
client write log 3029752065317981403 (index 329) to leader 1
client write log 5664065635447342614 (index 330) to leader 1
client write log 8194574754745447998 (index 331) to leader 1
flag 37334 term 45 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 45 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 45 leaderCommit: 321 
------------------------------------------------------
flag 31757 term 45 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 45 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 321 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 45 319} {1948014868473343197 45 320} {6593838316465271746 45 321} {2018590330069646950 45 322} {7605055639889378096 45 323} {4948854454052506829 45 324} {6572058765079457639 45 325} {6451302701832932316 45 326} {3173045299729570709 45 327} {6174903037026513388 45 328} {3029752065317981403 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331}]
------------------------------------------------------
term 45 Server1 start snapshot! index=329
term 45 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
flag 83288 term 45 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 45 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 320
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331}]
------------------------------------------------------
term 45 Server0 start snapshot! index=329
term 45 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5601629976735435259 (index 332) to leader 1
term 45 server 1 not vote for server 2, 日志不够新
term 45 server 0 not vote for server 2, 日志不够新
term 47 server 2 vote for server 1
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67562 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 1342 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 333->332
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 333->332
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34515 term 47 leader 1 nextIndex[0]: 332  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 321  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 45 rf.commitIndex 329 rf.lastApplied 329
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95498 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 40691 term 47 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 47 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 59616 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 18892 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 96999 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 23148 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
flag 96140 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 46670 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 1423 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 18777 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74082 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 27420 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 78286 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 78812 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 38820 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 19865 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20906 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 77090 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 1621 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 58375 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10613 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 79346 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 31545 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 39450 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86964 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 93680 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 13012 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 19332 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 67596 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 24800 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 92117 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 83084 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
flag 4076 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 18836 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332}]
------------------------------------------------------
client write log 5601629976735435259 (index 333) to leader 1
flag 69328 term 47 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
flag 78672 term 47 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 47 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 45 leaderCommit: 331 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10461 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 53808 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28319 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 22594 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
flag 44545 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 69879 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
flag 53574 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 96059 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
flag 4882 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 41197 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
flag 67725 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 66954 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1697330337546261050 (index 334) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42971 term 47 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
flag 89086 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 333 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333} {1697330337546261050 47 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3362 term 47 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 47 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 47 leaderCommit: 334 
------------------------------------------------------
flag 84090 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 334 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333} {1697330337546261050 47 334}]
------------------------------------------------------
client write log 5291006200642320010 (index 335) to leader 1
client write log 7650825716247112958 (index 336) to leader 1
client write log 3185681610881202810 (index 337) to leader 1
client write log 6067583400818689233 (index 338) to leader 1
client write log 18537714353358443 (index 339) to leader 1
client write log 6230379260942251525 (index 340) to leader 1
client write log 7222164019885505629 (index 341) to leader 1
client write log 7114563455603077667 (index 342) to leader 1
flag 13432 term 47 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 47 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 47 leaderCommit: 334 
------------------------------------------------------
flag 81523 term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 47 leaderCommit: 334 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 45 329} {5664065635447342614 45 330} {8194574754745447998 45 331} {5601629976735435259 45 332} {5601629976735435259 47 333} {1697330337546261050 47 334} {5291006200642320010 47 335} {7650825716247112958 47 336} {3185681610881202810 47 337} {6067583400818689233 47 338} {18537714353358443 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342}]
------------------------------------------------------
term 47 Server1 start snapshot! index=339
term 47 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71838 term 47 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 47 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342}]
------------------------------------------------------
term 47 Server0 start snapshot! index=339
term 47 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5027429491722830734 (index 343) to leader 1
flag 89585 term 47 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 47 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 47
------------------------------------------------------
term 48 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get outdate rpc reply from server 0
flag 29233 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 87739 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 344->343
------------------------------------------------------
flag 78525 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 334  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 47 rf.commitIndex 339 rf.lastApplied 339
flag 38565 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 98460 term 49 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17468 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 97555 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45220 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 43702 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 64821 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 57548 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 96503 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 62156 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9323 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 70365 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 66845 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 74063 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37224 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 99264 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 8329 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 27133 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 95046 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 38753 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 1 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 1
flag 69941 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 83315 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 84221 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 22882 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 15876 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 49151 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82806 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 35080 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 15774 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 12276 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
flag 79211 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 97723 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73987 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 79913 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343}]
------------------------------------------------------
client write log 5027429491722830734 (index 344) to leader 1
flag 31908 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
flag 93418 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 47 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
flag 74947 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 7779 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
flag 39736 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 45006 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
flag 6025 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 94638 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
flag 67764 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 37739 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29112 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 29335 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
flag 34563 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 35706 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 60247 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 42340 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 34839 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 48893 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 99606 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 5325 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
flag 93317 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 82589 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 22909 term 50 leader 2 nextIndex[0]: 345  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 72226 term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344}]
------------------------------------------------------
client write log 7171231212705637478 (index 345) to leader 2
flag 98287 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 56757 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 53819 term 50 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 23273 term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344} {7171231212705637478 50 345}]
------------------------------------------------------
flag 82049 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 8502 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 57865 term 50 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 50 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 345 
------------------------------------------------------
flag 15574 term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 345 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344} {7171231212705637478 50 345}]
------------------------------------------------------
client write log 806937416451957585 (index 346) to leader 2
client write log 2818556835761261180 (index 347) to leader 2
client write log 5712264367416232525 (index 348) to leader 2
client write log 2729108430045546888 (index 349) to leader 2
client write log 278935256399833787 (index 350) to leader 2
client write log 8723963556748050051 (index 351) to leader 2
flag 35356 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 45062 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 45463 term 50 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 50 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 345 
------------------------------------------------------
flag 37033 term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 345 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 47 339} {6230379260942251525 47 340} {7222164019885505629 47 341} {7114563455603077667 47 342} {5027429491722830734 47 343} {5027429491722830734 49 344} {7171231212705637478 50 345} {806937416451957585 50 346} {2818556835761261180 50 347} {5712264367416232525 50 348} {2729108430045546888 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 Server2 start snapshot! index=349
term 50 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=351
-------------------------------------------------------------
flag 17537 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 42737 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 60658 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 Server0 start snapshot! index=349
term 50 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=351
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4801162428537324852 (index 345) to leader 1
flag 84550 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 473 term 49 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 50 server 2 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17691 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 50 rf.commitIndex 349 rf.lastApplied 349
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 85437 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 1739 term 50 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 50 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 47984 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 62801 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 29654 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 86797 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59825 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 46841 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 84680 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 73554 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 72309 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 14237 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 29461 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 61441 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 82839 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 28925 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65670 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 19183 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 20493 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 64532 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 14039 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 7469 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 70469 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 94694 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70923 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 7938 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 47816 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 95512 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39388 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 95342 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 617 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 7397 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26580 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 93478 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
flag 63989 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 18235 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87377 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 84978 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351}]
------------------------------------------------------
client write log 4801162428537324852 (index 352) to leader 2
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 40 term 50 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
flag 97206 term 50 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 50 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 50 leaderCommit: 351 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6523 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
flag 39701 term 50 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
flag 56007 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
flag 2728 term 50 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
flag 5918 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
flag 11907 term 50 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
flag 29515 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
flag 69183 term 50 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
flag 45934 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
flag 63309 term 50 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 353->352
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2175259089187116609 (index 353) to leader 2
flag 98851 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 352
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot fail
rf.commitIndex 352 args.LastIncludedIndex 349
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44797 term 50 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 50 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
flag 22561 term 50 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 50 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 352 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352} {2175259089187116609 50 353}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 353->352
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 352
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
flag 70167 term 50 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 50 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 50 leaderCommit: 353 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352} {2175259089187116609 50 353}]
------------------------------------------------------
client write log 315470573117331008 (index 354) to leader 2
client write log 2208696052062837819 (index 355) to leader 2
client write log 2037457272318954977 (index 356) to leader 2
client write log 4712200520167478386 (index 357) to leader 2
client write log 3729158087563353357 (index 358) to leader 2
client write log 6329262334805307214 (index 359) to leader 2
client write log 1604164880395996487 (index 360) to leader 2
client write log 4817032971770524444 (index 361) to leader 2
client write log 215736650476433448 (index 362) to leader 2
client write log 1194457083840522735 (index 363) to leader 2
client write log 4036988712358163204 (index 364) to leader 2
client write log 4124323108266837590 (index 365) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 354->353
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 352
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 353
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot fail
rf.commitIndex 353 args.LastIncludedIndex 349
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 352
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
flag 36466 term 50 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 50 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 353 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 50 349} {278935256399833787 50 350} {8723963556748050051 50 351} {4801162428537324852 50 352} {2175259089187116609 50 353} {315470573117331008 50 354} {2208696052062837819 50 355} {2037457272318954977 50 356} {4712200520167478386 50 357} {3729158087563353357 50 358} {6329262334805307214 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365}]
------------------------------------------------------
term 50 Server2 start snapshot! index=359
term 50 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=365
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 352
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 50
------------------------------------------------------
flag 9153 term 50 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 50 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 50 leaderCommit: 365 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365}]
------------------------------------------------------
term 50 Server1 start snapshot! index=359
term 50 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=365
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6529789314173571357 (index 366) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 352
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 50
------------------------------------------------------
flag 80433 term 50 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 50 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 50 leaderCommit: 365 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 0 vote for server 2
term 52 server 2 get outdate rpc reply from server 0
flag 49721 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 40518 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 367->366
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 353  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 50
------------------------------------------------------
flag 5843 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 360 matchIndex[0] 359 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 50 rf.commitIndex 359 rf.lastApplied 359
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
flag 23147 term 52 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 52 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 25330 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
term 52 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77276 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 13231 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
flag 68783 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 73974 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
term 52 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
flag 25717 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 60530 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
flag 94756 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 99679 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
flag 15032 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 79266 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33338 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 49780 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1151380482839868715 (index 367) to leader 2
flag 76092 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
flag 76321 term 52 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 366 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366} {1151380482839868715 52 367}]
------------------------------------------------------
flag 17398 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 367 
------------------------------------------------------
flag 37768 term 52 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 52 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 52 leaderCommit: 367 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366} {1151380482839868715 52 367}]
------------------------------------------------------
client write log 6833352335824489979 (index 368) to leader 2
client write log 1850706912881783958 (index 369) to leader 2
client write log 1183165276017063552 (index 370) to leader 2
client write log 6815044451275621334 (index 371) to leader 2
client write log 7452130836887370772 (index 372) to leader 2
client write log 780788109576327511 (index 373) to leader 2
client write log 8455231109244869862 (index 374) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51215 term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 50 leaderCommit: 367 
------------------------------------------------------
flag 97954 term 52 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 52 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 52 leaderCommit: 367 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=374
leader log:
[{snapshot 50 359} {1604164880395996487 50 360} {4817032971770524444 50 361} {215736650476433448 50 362} {1194457083840522735 50 363} {4036988712358163204 50 364} {4124323108266837590 50 365} {6529789314173571357 50 366} {1151380482839868715 52 367} {6833352335824489979 52 368} {1850706912881783958 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374}]
------------------------------------------------------
term 52 Server2 start snapshot! index=369
term 52 server2 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=374
-------------------------------------------------------------
term 52 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 52
------------------------------------------------------
flag 15615 term 52 leader 2 nextIndex[1]: 375  matchIndex[1]: 374
term 52 leader 2 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374}]
------------------------------------------------------
term 52 Server1 start snapshot! index=369
term 52 server1 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=374
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7263853249758193296 (index 375) to leader 2
term 52 server 2 not vote for server 0, 日志不够新
term 52 server 1 not vote for server 0, 日志不够新
term 54 server 1 vote for server 2
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 0
term 54 server 2 become leader
------------------------------------------------------
term 54 server 2 get outdate rpc reply from server 1
flag 66064 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 9863 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 376->375
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 376->375
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 367  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 52
------------------------------------------------------
flag 93498 term 54 leader 2 nextIndex[1]: 375  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 370 matchIndex[0] 369 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 52 rf.commitIndex 369 rf.lastApplied 369
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52554 term 54 leader 2 nextIndex[0]: 370  matchIndex[0]: 369
term 54 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 19245 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 81179 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 44365 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 95995 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 88024 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 96277 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 37149 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 73956 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 71723 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94900 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 29718 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 13091 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 96615 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72122 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 29112 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63531 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 64518 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 54032 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 37117 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76693 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 14247 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73756 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 88990 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 628 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 16830 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49877 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 41338 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38581 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 21709 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 41694 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 78030 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
flag 49634 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 66796 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
flag 69152 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 35883 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=376
update matchIndex[0]=375
update leader CommitIndex=374
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375}]
------------------------------------------------------
client write log 7263853249758193296 (index 376) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68977 term 54 leader 2 nextIndex[0]: 376  matchIndex[0]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
flag 24216 term 54 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 52 leaderCommit: 374 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
flag 94955 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 72642 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
flag 18441 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 65212 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
flag 61871 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 29621 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51056 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 99581 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
flag 19391 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 28731 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
flag 26016 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 24583 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
term 54 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 88909 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 27391 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 91447 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 66609 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 81425 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 88699 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get vote from server 0
term 55 server 1 become leader
------------------------------------------------------
flag 73960 term 55 leader 1 nextIndex[0]: 377  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 30083 term 55 leader 1 nextIndex[2]: 377  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376}]
------------------------------------------------------
flag 15269 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 76314 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
client write log 4184544658899958982 (index 377) to leader 1
flag 91534 term 55 leader 1 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 5598 term 55 leader 1 nextIndex[2]: 377  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376} {4184544658899958982 55 377}]
------------------------------------------------------
flag 82427 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 60907 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 83010 term 55 leader 1 nextIndex[0]: 378  matchIndex[0]: 377
term 55 leader 1 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 55 leaderCommit: 377 
------------------------------------------------------
flag 24940 term 55 leader 1 nextIndex[2]: 377  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 377 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=378
update matchIndex[0]=377
update leader CommitIndex=377
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376} {4184544658899958982 55 377}]
------------------------------------------------------
client write log 4203616429120926620 (index 378) to leader 1
flag 60739 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 42780 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 69709 term 55 leader 1 nextIndex[0]: 378  matchIndex[0]: 377
term 55 leader 1 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 55 leaderCommit: 377 
------------------------------------------------------
flag 44679 term 55 leader 1 nextIndex[2]: 377  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 377 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=379
update matchIndex[0]=378
update leader CommitIndex=378
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376} {4184544658899958982 55 377} {4203616429120926620 55 378}]
------------------------------------------------------
flag 60355 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 47821 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 23985 term 55 leader 1 nextIndex[0]: 379  matchIndex[0]: 378
term 55 leader 1 sendAppendEntries PrevLogIndex: 378  PrevLogTerm: 55 leaderCommit: 378 
------------------------------------------------------
flag 16248 term 55 leader 1 nextIndex[2]: 377  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 378 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:378 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=379
update matchIndex[0]=378
update leader CommitIndex=378
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376} {4184544658899958982 55 377} {4203616429120926620 55 378}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3484649575016369561 (index 379) to leader 1
flag 58621 term 54 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 11415 term 54 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 55 server 0 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29173 term 55 leader 1 nextIndex[0]: 379  matchIndex[0]: 378
term 55 leader 1 sendAppendEntries PrevLogIndex: 378  PrevLogTerm: 55 leaderCommit: 378 
------------------------------------------------------
flag 5116 term 55 leader 1 nextIndex[2]: 377  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 378 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:378 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376} {4184544658899958982 55 377} {4203616429120926620 55 378} {3484649575016369561 55 379}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 52 369} {1183165276017063552 52 370} {6815044451275621334 52 371} {7452130836887370772 52 372} {780788109576327511 52 373} {8455231109244869862 52 374} {7263853249758193296 52 375} {7263853249758193296 54 376} {4184544658899958982 55 377} {4203616429120926620 55 378} {3484649575016369561 55 379}]
------------------------------------------------------
term 55 Server1 start snapshot! index=379
term 55 server1 snapshot success
lastIncludedIndex=379 lastApplied=379 lastIndex=379
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68719 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 12332 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
term 55 Server0 start snapshot! index=379
term 55 server0 snapshot success
lastIncludedIndex=379 lastApplied=379 lastIndex=379
-------------------------------------------------------------
term 55 Server2 start snapshot! index=379
term 55 server2 snapshot success
lastIncludedIndex=379 lastApplied=379 lastIndex=379
-------------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31923 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 18424 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
flag 88101 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 18814 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
flag 69898 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 30028 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
flag 14592 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 10077 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:379 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64523 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 6459 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=380
update matchIndex[2]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 55 379}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2207274818939491477 (index 380) to leader 1
flag 12749 term 55 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
flag 81170 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 379 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=381
update matchIndex[0]=380
update leader CommitIndex=380
leader log:
[{snapshot 55 379} {2207274818939491477 55 380}]
------------------------------------------------------
flag 45409 term 55 leader 1 nextIndex[0]: 381  matchIndex[0]: 380
term 55 leader 1 sendAppendEntries PrevLogIndex: 380  PrevLogTerm: 55 leaderCommit: 380 
------------------------------------------------------
flag 38273 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 380 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:380 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=381
update matchIndex[0]=380
update leader CommitIndex=380
leader log:
[{snapshot 55 379} {2207274818939491477 55 380}]
------------------------------------------------------
client write log 6446280521764232412 (index 381) to leader 1
client write log 6129761086239837977 (index 382) to leader 1
client write log 7695710220422070038 (index 383) to leader 1
client write log 8572794409894369033 (index 384) to leader 1
client write log 3290311542226602604 (index 385) to leader 1
client write log 4396005051521486215 (index 386) to leader 1
client write log 2598903873223836384 (index 387) to leader 1
client write log 3029443562794171285 (index 388) to leader 1
client write log 3012150789145203756 (index 389) to leader 1
client write log 1602613658652326220 (index 390) to leader 1
client write log 7741147360982159906 (index 391) to leader 1
client write log 7787329833419915238 (index 392) to leader 1
client write log 3336914520872060356 (index 393) to leader 1
client write log 5331655596378925388 (index 394) to leader 1
client write log 2192683843261111493 (index 395) to leader 1
flag 87418 term 55 leader 1 nextIndex[0]: 381  matchIndex[0]: 380
term 55 leader 1 sendAppendEntries PrevLogIndex: 380  PrevLogTerm: 55 leaderCommit: 380 
------------------------------------------------------
flag 98433 term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 55 leaderCommit: 380 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:380 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=395
leader log:
[{snapshot 55 379} {2207274818939491477 55 380} {6446280521764232412 55 381} {6129761086239837977 55 382} {7695710220422070038 55 383} {8572794409894369033 55 384} {3290311542226602604 55 385} {4396005051521486215 55 386} {2598903873223836384 55 387} {3029443562794171285 55 388} {3012150789145203756 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395}]
------------------------------------------------------
term 55 Server1 start snapshot! index=389
term 55 server1 snapshot success
lastIncludedIndex=389 lastApplied=390 lastIndex=395
-------------------------------------------------------------
flag 99450 term 55 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 55 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 380  matchIndex[2]: 379
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 389  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395}]
------------------------------------------------------
term 55 Server0 start snapshot! index=389
term 55 server0 snapshot success
lastIncludedIndex=389 lastApplied=390 lastIndex=395
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6273893848148150598 (index 396) to leader 1
term 55 server 0 not vote for server 2, 日志不够新
term 55 server 1 not vote for server 2, 日志不够新
term 57 server 2 vote for server 1
term 57 server 0 vote for server 1
term 57 server 1 get vote from server 2
term 57 server 1 become leader
------------------------------------------------------
term 57 server 1 get outdate rpc reply from server 0
flag 37161 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 21541 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 397->396
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 397->396
------------------------------------------------------
flag 22999 term 57 leader 1 nextIndex[0]: 396  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 380  matchIndex[2]: 0
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 389  LastIncludedTerm: 55
------------------------------------------------------
term 57 server 2 InstallSnapshot success
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 390 matchIndex[2] 389 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 389 rf.lastIncludedTerm 55 rf.commitIndex 389 rf.lastApplied 389
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 99275 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 74825 term 57 leader 1 nextIndex[2]: 390  matchIndex[2]: 389
term 57 leader 1 sendAppendEntries PrevLogIndex: 389  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:389 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 2 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 2
flag 63438 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 46523 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 61763 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 43828 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41953 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 74122 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10777 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 58303 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 57787 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 59178 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 28214 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 45308 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 35869 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 64911 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 4062 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 97113 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 61498 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 74094 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 31357 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 32952 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 86232 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 66599 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92623 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 52029 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 9357 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 56959 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81892 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 60948 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 87663 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 72651 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
flag 93769 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 82124 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99071 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 8886 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=395
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396}]
------------------------------------------------------
client write log 6273893848148150598 (index 397) to leader 1
flag 57873 term 57 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
flag 43082 term 57 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 57 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 55 leaderCommit: 395 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:395 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:395 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=398
update matchIndex[2]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=398
update matchIndex[0]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29740 term 57 leader 1 nextIndex[0]: 398  matchIndex[0]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
flag 62517 term 57 leader 1 nextIndex[2]: 398  matchIndex[2]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:397 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=398
update matchIndex[2]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=398
update matchIndex[0]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77045 term 57 leader 1 nextIndex[0]: 398  matchIndex[0]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
flag 64818 term 57 leader 1 nextIndex[2]: 398  matchIndex[2]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=398
update matchIndex[2]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=398
update matchIndex[0]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81956 term 57 leader 1 nextIndex[0]: 398  matchIndex[0]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
flag 49799 term 57 leader 1 nextIndex[2]: 398  matchIndex[2]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:397 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=398
update matchIndex[2]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=398
update matchIndex[0]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12870 term 57 leader 1 nextIndex[0]: 398  matchIndex[0]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
flag 12834 term 57 leader 1 nextIndex[2]: 398  matchIndex[2]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:397 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=398
update matchIndex[2]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=398
update matchIndex[0]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
flag 66403 term 57 leader 1 nextIndex[0]: 398  matchIndex[0]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
flag 66526 term 57 leader 1 nextIndex[2]: 398  matchIndex[2]: 397
term 57 leader 1 sendAppendEntries PrevLogIndex: 397  PrevLogTerm: 57 leaderCommit: 397 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=398
update matchIndex[2]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:397 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=398
update matchIndex[0]=397
update leader CommitIndex=397
leader log:
[{snapshot 55 389} {1602613658652326220 55 390} {7741147360982159906 55 391} {7787329833419915238 55 392} {3336914520872060356 55 393} {5331655596378925388 55 394} {2192683843261111493 55 395} {6273893848148150598 55 396} {6273893848148150598 57 397}]
------------------------------------------------------
  ... Passed --  78.8  3 1806  854883  397
--- PASS: TestSnapshotInstall2D (78.79s)
PASS
