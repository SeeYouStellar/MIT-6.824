=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 79543 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 71915 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 105209233646228120 (index 1) to leader 2
flag 97696 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 62385 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
flag 18964 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55897 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
flag 81803 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39705 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
flag 995 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 85241 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
flag 98513 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23902 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
flag 57494 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7669 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {105209233646228120 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 775598719036270137 (index 2) to leader 2
flag 91565 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56832 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {105209233646228120 1 1} {775598719036270137 1 2}]
------------------------------------------------------
flag 28011 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 7125 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {105209233646228120 1 1} {775598719036270137 1 2}]
------------------------------------------------------
client write log 8109321494859614883 (index 3) to leader 2
client write log 7115900839455337541 (index 4) to leader 2
client write log 9016706403914674687 (index 5) to leader 2
client write log 4211785535554974087 (index 6) to leader 2
client write log 5564282103334051959 (index 7) to leader 2
client write log 2810514327597082543 (index 8) to leader 2
client write log 3479888024633191632 (index 9) to leader 2
client write log 5751530981646734837 (index 10) to leader 2
client write log 8809151936814123018 (index 11) to leader 2
client write log 7815199649914532730 (index 12) to leader 2
client write log 5135320439800531209 (index 13) to leader 2
client write log 2022527195977753403 (index 14) to leader 2
flag 79595 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 25965 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {105209233646228120 1 1} {775598719036270137 1 2} {8109321494859614883 1 3} {7115900839455337541 1 4} {9016706403914674687 1 5} {4211785535554974087 1 6} {5564282103334051959 1 7} {2810514327597082543 1 8} {3479888024633191632 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 2->1
------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 44065 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7246627799336524811 (index 15) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 44141 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 3307 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 53518 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 10187 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 76666 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 72987 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 82061 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 99428 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 93992 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 24858 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 94488 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 91911 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 51977 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 74965 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 26717 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 38860 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 53453 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91680 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 89242 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 66645 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 24565 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 26214 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 11279 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 67274 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 26052 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 95334 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 3737 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 22228 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 19017 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 37425 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 86228 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 91509 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 15977 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 41413 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 55975 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 80332 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 521 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
flag 82249 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 14843 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15}]
------------------------------------------------------
client write log 7246627799336524811 (index 16) to leader 2
flag 44510 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 36980 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
flag 73989 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 55277 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
flag 32416 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 93488 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
flag 20289 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 74019 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
flag 55017 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 66747 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
flag 23186 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 3093 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
flag 890 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 13878 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 43810 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 20606 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 33603 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 98076 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 56447 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 68715 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 82725 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 99096 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 49853 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 11993 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16}]
------------------------------------------------------
client write log 2232644331351756618 (index 17) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 42929 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 43884 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 21059 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16} {2232644331351756618 4 17}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 35349 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
flag 97443 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16} {2232644331351756618 4 17}]
------------------------------------------------------
client write log 6298647956428688897 (index 18) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 6797 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 72189 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16} {2232644331351756618 4 17} {6298647956428688897 4 18}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 46800 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 96095 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16} {2232644331351756618 4 17} {6298647956428688897 4 18}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1724763540584676243 (index 19) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 71342 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6357 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 16 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {5751530981646734837 1 10} {8809151936814123018 1 11} {7815199649914532730 1 12} {5135320439800531209 1 13} {2022527195977753403 1 14} {7246627799336524811 1 15} {7246627799336524811 3 16} {2232644331351756618 4 17} {6298647956428688897 4 18} {1724763540584676243 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 86222 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77364 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 79905 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79566 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 32529 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 15056 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 57089 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 27299 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 80684 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 67584 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 71728 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6346981754219473071 (index 20) to leader 1
flag 69204 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 72350 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6346981754219473071 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24351 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 52483 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {6346981754219473071 4 20}]
------------------------------------------------------
client write log 9144263430156983559 (index 21) to leader 1
client write log 5694293088751160489 (index 22) to leader 1
client write log 5495512368702921438 (index 23) to leader 1
client write log 8359089390352771413 (index 24) to leader 1
client write log 8361119279570836478 (index 25) to leader 1
client write log 5691586347157103892 (index 26) to leader 1
client write log 6192498922173782890 (index 27) to leader 1
client write log 8008731395083890322 (index 28) to leader 1
client write log 6653094888205254386 (index 29) to leader 1
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22732 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 82910 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {6346981754219473071 4 20} {9144263430156983559 4 21} {5694293088751160489 4 22} {5495512368702921438 4 23} {8359089390352771413 4 24} {8361119279570836478 4 25} {5691586347157103892 4 26} {6192498922173782890 4 27} {8008731395083890322 4 28} {6653094888205254386 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 62977 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3202582262927278464 (index 30) to leader 1
flag 62446 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 0
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 2
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 68539 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 84262 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 25250 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 90469 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 61981 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 66189 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 32516 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 32282 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 68881 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 53691 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 33404 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21501 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 52793 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 16375 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 58366 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 98534 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 67347 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47910 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 78387 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 5008 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 31042 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51613 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 91418 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 59487 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 19059 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 72815 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 16050 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 65116 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 76725 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 74426 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 92993 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25500 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 38079 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 58969 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 73246 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
flag 82359 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 26118 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3202582262927278464 4 30}]
------------------------------------------------------
client write log 3202582262927278464 (index 31) to leader 1
flag 26331 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 15575 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
flag 80476 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 20179 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
flag 37789 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 65475 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
flag 33813 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 67064 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28793 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 85333 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
flag 62796 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 99434 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25613 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 58342 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8456816078362833405 (index 32) to leader 1
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38658 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 22204 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32}]
------------------------------------------------------
flag 20528 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 32624 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32}]
------------------------------------------------------
client write log 7095379950155905298 (index 33) to leader 1
client write log 718422530041455078 (index 34) to leader 1
client write log 5110121018955062099 (index 35) to leader 1
client write log 7516073272011310912 (index 36) to leader 1
client write log 1267614830528862941 (index 37) to leader 1
client write log 7314617675656326468 (index 38) to leader 1
flag 86187 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 19767 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99283 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 93238 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2658724715199134718 (index 39) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 99085 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 79832 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84791 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 51992 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 38628 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 86606 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 16605 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 97722 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47328 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 8519 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61093 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 84201 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 72684 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 69189 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51582 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 71664 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23431 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 15697 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84987 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 66063 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23047 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 60146 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 96237 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 19650 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4543 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 30735 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 97781 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 37429 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 88928 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 1575 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63043 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 55372 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35882 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 63396 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
flag 50477 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 52979 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 51496 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 98720 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39}]
------------------------------------------------------
client write log 2658724715199134718 (index 40) to leader 1
flag 47526 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 37352 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {3202582262927278464 4 30} {3202582262927278464 6 31} {8456816078362833405 6 32} {7095379950155905298 6 33} {718422530041455078 6 34} {5110121018955062099 6 35} {7516073272011310912 6 36} {1267614830528862941 6 37} {7314617675656326468 6 38} {2658724715199134718 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 21310 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 1665 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 12753 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 97492 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67741 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 6205 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
flag 34763 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 58792 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
flag 46146 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 49331 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 58625 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 30787 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30035 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 33615 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 56056 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 59719 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 65137 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 92130 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 53570 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 94949 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {2658724715199134718 8 40}]
------------------------------------------------------
client write log 7174767129829134481 (index 41) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36055 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 6215 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 98634 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 90227 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41}]
------------------------------------------------------
flag 49430 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 51848 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 83045 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41}]
------------------------------------------------------
client write log 6195791758452284167 (index 42) to leader 0
flag 27848 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 93370 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 4553 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 97195 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 92253 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 16411 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6053873658290589758 (index 41) to leader 1
flag 10362 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 47489 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 19270 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 40 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 45006 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 62932 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 25952 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 84552 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 71887 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 49310 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 3154 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 78452 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61808 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 33979 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 22620 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 47534 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 43->42
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 42
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 76898 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 42 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91507 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 92690 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 11925 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 23708 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56395 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 45138 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 52909 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 95786 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 97503 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 47822 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 2087 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 17524 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 78710 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 14487 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 10128 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 89725 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 74447 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 69620 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 19016 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 52801 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 10904 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 42405 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
flag 5086 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 72144 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42}]
------------------------------------------------------
client write log 6053873658290589758 (index 43) to leader 0
flag 79870 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 13546 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
flag 67283 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 9397 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
flag 66170 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 33601 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14256 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 61556 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61568 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 71955 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
flag 24173 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 84114 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 529435858444850338 (index 44) to leader 0
flag 81852 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 79998 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43} {529435858444850338 9 44}]
------------------------------------------------------
flag 73232 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 99755 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43} {529435858444850338 9 44}]
------------------------------------------------------
client write log 4076561362802484578 (index 45) to leader 0
client write log 4213641174027366220 (index 46) to leader 0
client write log 6575285195753316401 (index 47) to leader 0
client write log 2525450401649555188 (index 48) to leader 0
client write log 8124286283234591400 (index 49) to leader 0
client write log 4482820335481150834 (index 50) to leader 0
client write log 2934707060138615264 (index 51) to leader 0
client write log 1415768506664359629 (index 52) to leader 0
client write log 358320354713857440 (index 53) to leader 0
client write log 162809065385262450 (index 54) to leader 0
client write log 5316159471183743248 (index 55) to leader 0
client write log 4089038973638545981 (index 56) to leader 0
client write log 422670835650044192 (index 57) to leader 0
flag 91940 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 91702 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 39} {2658724715199134718 8 40} {7174767129829134481 9 41} {6195791758452284167 9 42} {6053873658290589758 9 43} {529435858444850338 9 44} {4076561362802484578 9 45} {4213641174027366220 9 46} {6575285195753316401 9 47} {2525450401649555188 9 48} {8124286283234591400 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=57
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 95663 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=57
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5450562234388563932 (index 58) to leader 0
term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 39682 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 6625 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 23569 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 74738 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38119 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 37770 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
flag 27797 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 13751 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17199 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 76182 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
flag 54291 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 32161 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
flag 24288 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 29053 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 99411 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 58745 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
flag 51070 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 53156 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 355601395316497612 (index 59) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28287 term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 91895 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {4482820335481150834 9 50} {2934707060138615264 9 51} {1415768506664359629 9 52} {358320354713857440 9 53} {162809065385262450 9 54} {5316159471183743248 9 55} {4089038973638545981 9 56} {422670835650044192 9 57} {5450562234388563932 9 58} {355601395316497612 11 59}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 84846 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 6365924065086506905 (index 60) to leader 0
client write log 3665395312608689701 (index 61) to leader 0
client write log 6294571788593548145 (index 62) to leader 0
client write log 2631881055619773187 (index 63) to leader 0
client write log 7484934332741356022 (index 64) to leader 0
client write log 8961255816145177233 (index 65) to leader 0
client write log 1839751248201665517 (index 66) to leader 0
term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 5302 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 370 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 45128 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 4815337546002713312 (index 67) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
flag 95871 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 74672 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 68->67
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 68->67
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 23742 term 13 leader 0 nextIndex[2]: 67  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 52630 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 59007 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 26183 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 71011 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 85387 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 77679 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 52103 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 38809 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6036 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 67772 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 90786 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 19140 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 43492 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 12582 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 9813 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 14270 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 15111 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 1354 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45513 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 71638 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16838 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 74250 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79054 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 52997 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9329 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 95275 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 9211 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 85543 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 35666 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 68792 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 12856 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 99065 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 2 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 2
flag 43621 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 48190 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
flag 8262 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 42023 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67}]
------------------------------------------------------
client write log 4815337546002713312 (index 68) to leader 0
flag 87824 term 13 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 69646 term 13 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 13 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48241 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 4410 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
flag 90175 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 71122 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
flag 15705 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 5490 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
flag 93939 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 48931 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
flag 51488 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 54585 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
flag 97112 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 24387 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88732 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 49522 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 83763 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 17881 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 33954 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 48947 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13440 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 65364 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 48091 term 14 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 29875 term 14 leader 2 nextIndex[1]: 69  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68}]
------------------------------------------------------
client write log 3089900287547072466 (index 69) to leader 2
flag 37264 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 85574 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 50883 term 14 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 89622 term 14 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {6365924065086506905 11 60} {3665395312608689701 11 61} {6294571788593548145 11 62} {2631881055619773187 11 63} {7484934332741356022 11 64} {8961255816145177233 11 65} {1839751248201665517 11 66} {4815337546002713312 11 67} {4815337546002713312 13 68} {3089900287547072466 14 69}]
------------------------------------------------------
term 14 Server2 start snapshot! index=69
term 14 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 69->68
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20865 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 68
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 63562 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 8451644479577449835 (index 70) to leader 2
flag 23602 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 68
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 33047 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {8451644479577449835 14 70}]
------------------------------------------------------
flag 21648 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 68
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 37687 term 14 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 14 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {8451644479577449835 14 70}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2471732249367394245 (index 71) to leader 2
flag 49627 term 13 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 68
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 90315 term 14 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 14 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
rf.lastIncludedIndex 69 rf.lastIncludedTerm 14 rf.commitIndex 69 rf.lastApplied 69
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
term 16 server 0 vote for server 2
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 1
flag 99726 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 35210 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 72->71
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82025 term 16 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 67717 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
flag 39899 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 1357 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38909 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 59116 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
flag 64427 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 60168 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32313 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 37041 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96572 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 61887 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
term 16 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2930566150533060679 (index 72) to leader 2
flag 90253 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 55727 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71} {2930566150533060679 16 72}]
------------------------------------------------------
flag 22484 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 45518 term 16 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 16 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 16 leaderCommit: 72 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71} {2930566150533060679 16 72}]
------------------------------------------------------
client write log 7768115040206592416 (index 73) to leader 2
client write log 2014958411666180733 (index 74) to leader 2
client write log 8288202683204650442 (index 75) to leader 2
client write log 8052981347431076179 (index 76) to leader 2
client write log 6515767059544889449 (index 77) to leader 2
client write log 8634827062163859014 (index 78) to leader 2
client write log 7461415553028383248 (index 79) to leader 2
client write log 5102912659484361014 (index 80) to leader 2
client write log 1306299684766608389 (index 81) to leader 2
client write log 6573749314658897115 (index 82) to leader 2
client write log 3926856476259478408 (index 83) to leader 2
flag 40022 term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 103 term 16 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 16 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 16 leaderCommit: 72 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 69} {8451644479577449835 14 70} {2471732249367394245 14 71} {2930566150533060679 16 72} {7768115040206592416 16 73} {2014958411666180733 16 74} {8288202683204650442 16 75} {8052981347431076179 16 76} {6515767059544889449 16 77} {8634827062163859014 16 78} {7461415553028383248 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=83
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 20473 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=83
-------------------------------------------------------------
!!!!!!connect server 0
client write log 668431290204676627 (index 84) to leader 2
term 16 server 1 not vote for server 0, 日志不够新
term 16 server 2 not vote for server 0, 日志不够新
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 37676 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 1527 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 85->84
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 85->84
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 92624 term 18 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
flag 62565 term 18 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 18 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 44844 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 39720 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 12715 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 86061 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 58237 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9555 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 2049 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43632 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 23802 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 32715 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 59480 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28050 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 36431 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71257 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 59711 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 79851 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 63551 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 62776 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 68792 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 24001 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 82960 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 52415 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 1853 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 90172 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 3655 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8872 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 85969 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75017 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 80431 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 94455 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 78149 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
flag 32206 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 22665 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 668431290204676627 (index 85) to leader 2
flag 58163 term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 77715 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
flag 40643 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
flag 92757 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
flag 83557 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
flag 92479 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
flag 6586 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
flag 15400 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44371 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
flag 72750 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
flag 26500 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
flag 13979 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6343241638031095939 (index 86) to leader 2
flag 83568 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
flag 4960 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85} {6343241638031095939 18 86}]
------------------------------------------------------
flag 85098 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 24036 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85} {6343241638031095939 18 86}]
------------------------------------------------------
client write log 4229466078650993841 (index 87) to leader 2
client write log 4207775266569488423 (index 88) to leader 2
client write log 4862191468558229355 (index 89) to leader 2
client write log 2720507545346064387 (index 90) to leader 2
client write log 4886230196886305379 (index 91) to leader 2
client write log 6685898197000164396 (index 92) to leader 2
client write log 5731348395873936730 (index 93) to leader 2
client write log 9042530917821757116 (index 94) to leader 2
client write log 3529964603062384666 (index 95) to leader 2
client write log 5247831548898179266 (index 96) to leader 2
client write log 8723581517851772561 (index 97) to leader 2
client write log 6776899002706283156 (index 98) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1720 term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 39517 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 79} {5102912659484361014 16 80} {1306299684766608389 16 81} {6573749314658897115 16 82} {3926856476259478408 16 83} {668431290204676627 16 84} {668431290204676627 18 85} {6343241638031095939 18 86} {4229466078650993841 18 87} {4207775266569488423 18 88} {4862191468558229355 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98}]
------------------------------------------------------
term 18 Server2 start snapshot! index=89
term 18 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 85
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 57367 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98}]
------------------------------------------------------
term 18 Server1 start snapshot! index=89
term 18 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1200221432833124448 (index 99) to leader 2
term 18 server 2 not vote for server 0, 日志不够新
term 18 server 1 not vote for server 0, 日志不够新
term 20 server 1 vote for server 2
term 20 server 2 get vote from server 1
term 20 server 2 become leader
------------------------------------------------------
term 20 server 0 vote for server 2
term 20 server 2 get outdate rpc reply from server 0
flag 4026 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 24773 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 100->99
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 28694 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 18 rf.commitIndex 89 rf.lastApplied 89
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 44053 term 20 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 20 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 4544 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 74827 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 70298 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52590 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 70776 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 79455 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 26987 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14866 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 95419 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 91744 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 40238 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56238 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 49323 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 97759 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 28166 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25462 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 49376 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 0
flag 33718 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 27607 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 23916 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 83543 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 56006 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 6655 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53321 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 11345 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 15109 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 23033 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 44277 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 28055 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 86520 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 99178 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
flag 64271 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 61765 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99}]
------------------------------------------------------
client write log 1200221432833124448 (index 100) to leader 2
flag 19818 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 15530 term 20 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 89} {2720507545346064387 18 90} {4886230196886305379 18 91} {6685898197000164396 18 92} {5731348395873936730 18 93} {9042530917821757116 18 94} {3529964603062384666 18 95} {5247831548898179266 18 96} {8723581517851772561 18 97} {6776899002706283156 18 98} {1200221432833124448 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 Server2 start snapshot! index=99
term 20 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 1813 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 52735 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 Server0 start snapshot! index=99
term 20 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 82205 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 61121 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
flag 7434 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 46614 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24882 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 84278 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
flag 33580 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 87400 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91070 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 22561 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
term 20 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 37610 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 81581 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 85664 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 19163 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 12444 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 85719 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
flag 78173 term 21 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 42386 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {1200221432833124448 20 100}]
------------------------------------------------------
flag 24106 term 20 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 2746 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
client write log 3396396007183168333 (index 101) to leader 0
flag 16694 term 21 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
flag 40488 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 18 99} {1200221432833124448 20 100} {3396396007183168333 21 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 101->100
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 13722 term 20 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 20 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 101->100
------------------------------------------------------
flag 140 term 21 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 21 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 21 leaderCommit: 101 
------------------------------------------------------
flag 21674 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 18 99} {1200221432833124448 20 100} {3396396007183168333 21 101}]
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 0  matchIndex[1]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
client write log 7968667285270383553 (index 102) to leader 0
client write log 4205082641190289672 (index 103) to leader 0
client write log 325085181444383731 (index 104) to leader 0
client write log 8646176618397490206 (index 105) to leader 0
client write log 5995238390414487154 (index 106) to leader 0
client write log 1042031487195181594 (index 107) to leader 0
client write log 5124044494894463692 (index 108) to leader 0
client write log 5348361765829736622 (index 109) to leader 0
client write log 3307821837606696246 (index 110) to leader 0
client write log 4508627573784636106 (index 111) to leader 0
flag 77546 term 21 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 21 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 21 leaderCommit: 101 
------------------------------------------------------
flag 69135 term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 99} {1200221432833124448 20 100} {3396396007183168333 21 101} {7968667285270383553 21 102} {4205082641190289672 21 103} {325085181444383731 21 104} {8646176618397490206 21 105} {5995238390414487154 21 106} {1042031487195181594 21 107} {5124044494894463692 21 108} {5348361765829736622 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=111
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 0  matchIndex[1]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 11361 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 21 Server1 start snapshot! index=109
term 21 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=111
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2953508519289414058 (index 101) to leader 2
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 0  matchIndex[1]: 100
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 21 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55160 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 0 not vote for server 2, 日志不够新
term 22 server 2 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 2
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 16795 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 31669 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 76352 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 99929 term 23 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 87145 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 14215 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 21428 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 44736 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21851 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 64985 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37009 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 9103 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1538 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 56882 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 10907 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 34365 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 75984 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 4173 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49170 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 89779 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70045 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 76275 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 67133 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 67169 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 94064 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 46662 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 64068 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 83910 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 81122 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 9201 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 51398 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 89892 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 46128 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 2486 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
flag 37972 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 77454 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 2953508519289414058 (index 112) to leader 0
flag 70015 term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 58928 term 23 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75632 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 56110 term 23 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
flag 68996 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 29068 term 23 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56332 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 19886 term 23 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
flag 62417 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 24756 term 23 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
flag 5248 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 80489 term 23 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4671207321097524211 (index 113) to leader 0
flag 3123 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 67799 term 23 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112} {4671207321097524211 23 113}]
------------------------------------------------------
flag 74702 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 113 
------------------------------------------------------
flag 88010 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 23 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112} {4671207321097524211 23 113}]
------------------------------------------------------
client write log 7746106941706766427 (index 114) to leader 0
client write log 930438616404571231 (index 115) to leader 0
client write log 7782687465004280689 (index 116) to leader 0
client write log 4136813932124503346 (index 117) to leader 0
client write log 6117402441906865725 (index 118) to leader 0
client write log 1415523485276818466 (index 119) to leader 0
client write log 8596715464563628239 (index 120) to leader 0
client write log 8318148142550382328 (index 121) to leader 0
client write log 5277944000420028722 (index 122) to leader 0
client write log 7799033038875766662 (index 123) to leader 0
client write log 5883346258022321503 (index 124) to leader 0
client write log 7949999265970459194 (index 125) to leader 0
client write log 4385867220104570574 (index 126) to leader 0
flag 78271 term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 113 
------------------------------------------------------
flag 82403 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 23 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 109} {3307821837606696246 21 110} {4508627573784636106 21 111} {2953508519289414058 23 112} {4671207321097524211 23 113} {7746106941706766427 23 114} {930438616404571231 23 115} {7782687465004280689 23 116} {4136813932124503346 23 117} {6117402441906865725 23 118} {1415523485276818466 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126}]
------------------------------------------------------
term 23 Server0 start snapshot! index=119
term 23 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=126
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
flag 5018 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126}]
------------------------------------------------------
term 23 Server2 start snapshot! index=119
term 23 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5172258973263812223 (index 127) to leader 0
term 23 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
flag 25297 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get outdate rpc reply from server 1
flag 16212 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 97514 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
flag 22373 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 23 rf.commitIndex 119 rf.lastApplied 119
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 80157 term 25 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 25 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 74107 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
flag 22028 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 7885 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
flag 11876 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 7135 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
flag 1924 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 31774 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
flag 43068 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 6685 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
flag 70022 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 76215 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
flag 41789 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 63293 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4264913520085517507 (index 128) to leader 0
flag 49738 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 22651 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127} {4264913520085517507 25 128}]
------------------------------------------------------
flag 99722 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
flag 6420 term 25 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 25 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 25 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127} {4264913520085517507 25 128}]
------------------------------------------------------
client write log 3414278180063916211 (index 129) to leader 0
client write log 8317717768025132983 (index 130) to leader 0
client write log 6993557116739388231 (index 131) to leader 0
client write log 5257857288875548797 (index 132) to leader 0
client write log 8226596096388412902 (index 133) to leader 0
client write log 8083078878184475423 (index 134) to leader 0
flag 86163 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 128 
------------------------------------------------------
flag 77299 term 25 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 25 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 25 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 119} {8596715464563628239 23 120} {8318148142550382328 23 121} {5277944000420028722 23 122} {7799033038875766662 23 123} {5883346258022321503 23 124} {7949999265970459194 23 125} {4385867220104570574 23 126} {5172258973263812223 23 127} {4264913520085517507 25 128} {3414278180063916211 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134}]
------------------------------------------------------
term 25 Server0 start snapshot! index=129
term 25 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
flag 64135 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134}]
------------------------------------------------------
term 25 Server2 start snapshot! index=129
term 25 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 7386383784288407043 (index 135) to leader 0
term 25 server 2 not vote for server 1, 日志不够新
term 25 server 0 not vote for server 1, 日志不够新
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 1
flag 87353 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 89498 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 136->135
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 136->135
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
flag 2804 term 27 leader 0 nextIndex[2]: 135  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 25 rf.commitIndex 129 rf.lastApplied 129
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97223 term 27 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 27 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 43427 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64983 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 21524 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71756 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 13911 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 22446 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 99076 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 68420 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 7153 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1776 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 89082 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56458 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 90741 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 30467 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 78176 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 8732 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 68305 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 27636 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 25049 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 73973 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 56014 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71817 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 78936 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 74477 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 80221 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87523 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 24397 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20790 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 97521 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 68694 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 15954 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
flag 41255 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 48015 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135}]
------------------------------------------------------
client write log 7386383784288407043 (index 136) to leader 0
flag 60146 term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 57272 term 27 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 27 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
flag 94217 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 54825 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
flag 40865 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 50257 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
flag 8654 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 19328 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
flag 27523 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 69003 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17976 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 88897 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 2916 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 47771 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 23532 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 94210 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 62246 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 62405 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
flag 21120 term 28 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 74840 term 28 leader 1 nextIndex[2]: 137  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136}]
------------------------------------------------------
client write log 3148718111930882806 (index 137) to leader 1
flag 79884 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 70140 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 4900 term 28 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 80953 term 28 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 28 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136} {3148718111930882806 28 137}]
------------------------------------------------------
flag 2312 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 68609 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 33003 term 28 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 22231 term 28 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 28 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136} {3148718111930882806 28 137}]
------------------------------------------------------
client write log 763343968633577400 (index 138) to leader 1
client write log 1661305861997834060 (index 139) to leader 1
client write log 5821787502967727085 (index 140) to leader 1
client write log 3690043783608984426 (index 141) to leader 1
client write log 2019385807880551757 (index 142) to leader 1
client write log 1434921378159407615 (index 143) to leader 1
client write log 852231385223425407 (index 144) to leader 1
client write log 1389581547117312335 (index 145) to leader 1
client write log 4902770426243849833 (index 146) to leader 1
client write log 6238797687923610293 (index 147) to leader 1
client write log 6386830546043098689 (index 148) to leader 1
flag 22479 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 91751 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 41254 term 28 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 137 
------------------------------------------------------
flag 27035 term 28 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 28 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 25 129} {8317717768025132983 25 130} {6993557116739388231 25 131} {5257857288875548797 25 132} {8226596096388412902 25 133} {8083078878184475423 25 134} {7386383784288407043 25 135} {7386383784288407043 27 136} {3148718111930882806 28 137} {763343968633577400 28 138} {1661305861997834060 28 139} {5821787502967727085 28 140} {3690043783608984426 28 141} {2019385807880551757 28 142} {1434921378159407615 28 143} {852231385223425407 28 144} {1389581547117312335 28 145} {4902770426243849833 28 146} {6238797687923610293 28 147} {6386830546043098689 28 148}]
------------------------------------------------------
term 28 Server1 start snapshot! index=139
term 28 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=148
-------------------------------------------------------------
flag 68309 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 43107 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 28
------------------------------------------------------
flag 74537 term 28 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 28 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 28 leaderCommit: 148 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 28 139} {5821787502967727085 28 140} {3690043783608984426 28 141} {2019385807880551757 28 142} {1434921378159407615 28 143} {852231385223425407 28 144} {1389581547117312335 28 145} {4902770426243849833 28 146} {6238797687923610293 28 147} {6386830546043098689 28 148}]
------------------------------------------------------
term 28 Server2 start snapshot! index=139
term 28 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=148
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8214322935981191755 (index 149) to leader 1
flag 82425 term 27 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
flag 28978 term 27 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 27 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 27 leaderCommit: 136 
------------------------------------------------------
term 28 server 2 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
term 28 server 1 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 28
------------------------------------------------------
flag 33110 term 28 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 28 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 28 leaderCommit: 148 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 28 rf.commitIndex 139 rf.lastApplied 139
term 28 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 139} {5821787502967727085 28 140} {3690043783608984426 28 141} {2019385807880551757 28 142} {1434921378159407615 28 143} {852231385223425407 28 144} {1389581547117312335 28 145} {4902770426243849833 28 146} {6238797687923610293 28 147} {6386830546043098689 28 148} {8214322935981191755 28 149}]
------------------------------------------------------
term 28 Server1 start snapshot! index=149
term 28 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 28 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 28589 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 Server2 start snapshot! index=149
term 28 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 28 rf.commitIndex 149 rf.lastApplied 149
flag 80638 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
flag 63951 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
flag 57101 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
flag 53463 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
flag 7565 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
flag 66159 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25846 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
flag 38160 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87904 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
flag 53229 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3687758586028292297 (index 150) to leader 1
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 12277 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
flag 47859 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {3687758586028292297 28 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70859 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 25337 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {3687758586028292297 28 150}]
------------------------------------------------------
client write log 2217643425579242191 (index 151) to leader 1
client write log 5239144293949591073 (index 152) to leader 1
client write log 6755154907739035501 (index 153) to leader 1
client write log 1815013311528524276 (index 154) to leader 1
client write log 34245307147306117 (index 155) to leader 1
client write log 7203379241574786116 (index 156) to leader 1
client write log 9161408720153253623 (index 157) to leader 1
flag 41301 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 18554 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157}]
------------------------------------------------------
flag 20292 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 71474 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1960234000746702961 (index 158) to leader 1
flag 39551 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 88359 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 not vote for server 2, 日志不够新
term 28 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 1147 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 3644 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 159->158
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46624 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 435 term 31 leader 0 nextIndex[2]: 150  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 33155 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 3317 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86683 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 62167 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 21666 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 31254 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34582 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 25990 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 94522 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 17766 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6710 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 84257 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15445 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 60132 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 35549 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 94044 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 33081 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 38369 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3570 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 50638 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 82803 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 34732 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9155 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 74619 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 65483 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 40808 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
flag 97455 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 45188 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158}]
------------------------------------------------------
client write log 1960234000746702961 (index 159) to leader 0
flag 5732 term 31 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 53764 term 31 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 31 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158} {1960234000746702961 31 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 149} {3687758586028292297 28 150} {2217643425579242191 28 151} {5239144293949591073 28 152} {6755154907739035501 28 153} {1815013311528524276 28 154} {34245307147306117 28 155} {7203379241574786116 28 156} {9161408720153253623 28 157} {1960234000746702961 28 158} {1960234000746702961 31 159}]
------------------------------------------------------
term 31 Server0 start snapshot! index=159
term 31 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 34851 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 937 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
term 31 Server1 start snapshot! index=159
term 31 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 31 Server2 start snapshot! index=159
term 31 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 83147 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 54576 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
flag 23083 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 79017 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
flag 5072 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 3912 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
flag 6616 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 81087 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88099 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 18089 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 31 159}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 514938656674712054 (index 160) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48905 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
flag 77494 term 31 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 159 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 31 159} {514938656674712054 31 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24505 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 160 
------------------------------------------------------
flag 87655 term 31 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 31 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 31 leaderCommit: 160 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 31 159} {514938656674712054 31 160}]
------------------------------------------------------
client write log 6578813062906559860 (index 161) to leader 0
client write log 2708084001487615914 (index 162) to leader 0
client write log 5583637448087404611 (index 163) to leader 0
client write log 3252265242916041525 (index 164) to leader 0
client write log 5982593528938811063 (index 165) to leader 0
client write log 4092568177333126974 (index 166) to leader 0
client write log 3088753402070314620 (index 167) to leader 0
client write log 6035683526532190894 (index 168) to leader 0
client write log 6744846817074080466 (index 169) to leader 0
client write log 1102651749391592093 (index 170) to leader 0
client write log 6148324728340746106 (index 171) to leader 0
client write log 3213599264914963626 (index 172) to leader 0
flag 49436 term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 160 
------------------------------------------------------
flag 41284 term 31 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 31 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 31 leaderCommit: 160 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 159} {514938656674712054 31 160} {6578813062906559860 31 161} {2708084001487615914 31 162} {5583637448087404611 31 163} {3252265242916041525 31 164} {5982593528938811063 31 165} {4092568177333126974 31 166} {3088753402070314620 31 167} {6035683526532190894 31 168} {6744846817074080466 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172}]
------------------------------------------------------
term 31 Server0 start snapshot! index=169
term 31 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 12774 term 31 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 31 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172}]
------------------------------------------------------
term 31 Server2 start snapshot! index=169
term 31 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 1
client write log 674961942991460679 (index 173) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 77559 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 78261 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 174->173
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 160  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 78067 term 33 leader 0 nextIndex[2]: 173  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 31 rf.commitIndex 169 rf.lastApplied 169
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66787 term 33 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 33 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 67981 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 17833 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 34671 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 61531 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 31786 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 43432 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 87327 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55157 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 5826 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 28579 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 25126 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 65825 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 55697 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 69865 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 73783 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 58128 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 71192 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 75201 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 74878 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 38669 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 12567 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78849 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 82520 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 41559 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 31621 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 87929 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 24311 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 34153 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 60259 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44472 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 79458 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59675 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 5319 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
flag 88968 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 76076 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173}]
------------------------------------------------------
client write log 674961942991460679 (index 174) to leader 0
flag 98026 term 33 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 9684 term 33 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 33 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
flag 727 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 83554 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
flag 29808 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 70082 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
flag 43498 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 29739 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
flag 91050 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 49680 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
flag 36263 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 1174 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 53492 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 28730 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 21479 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 9264 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 60752 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 12257 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
flag 45037 term 34 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 68171 term 34 leader 1 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174}]
------------------------------------------------------
client write log 8717288846360467230 (index 175) to leader 1
flag 43056 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 229 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 38949 term 34 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 38676 term 34 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 34 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174} {8717288846360467230 34 175}]
------------------------------------------------------
flag 55783 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 56823 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 21816 term 34 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 12235 term 34 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 34 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 34 leaderCommit: 175 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174} {8717288846360467230 34 175}]
------------------------------------------------------
client write log 6587107560567300939 (index 176) to leader 1
client write log 7758087747758171081 (index 177) to leader 1
client write log 5129614346470798773 (index 178) to leader 1
client write log 2174747073886040537 (index 179) to leader 1
client write log 3265920606074753522 (index 180) to leader 1
client write log 4490390393920038785 (index 181) to leader 1
client write log 2481186902403720642 (index 182) to leader 1
client write log 3825081093284111939 (index 183) to leader 1
flag 63183 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 19911 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95754 term 34 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 78020 term 34 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 34 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 34 leaderCommit: 175 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 31 169} {1102651749391592093 31 170} {6148324728340746106 31 171} {3213599264914963626 31 172} {674961942991460679 31 173} {674961942991460679 33 174} {8717288846360467230 34 175} {6587107560567300939 34 176} {7758087747758171081 34 177} {5129614346470798773 34 178} {2174747073886040537 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183}]
------------------------------------------------------
term 34 Server1 start snapshot! index=179
term 34 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=183
-------------------------------------------------------------
flag 71582 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 96427 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
flag 86149 term 34 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 34 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183}]
------------------------------------------------------
term 34 Server2 start snapshot! index=179
term 34 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5728886373458144676 (index 184) to leader 1
flag 29729 term 33 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 62128 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
flag 67834 term 34 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 34 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 34 leaderCommit: 183 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 34 rf.commitIndex 179 rf.lastApplied 179
term 34 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 37564 term 34 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 34 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 86105 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39716 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 27487 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 86647 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 63941 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74510 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 68223 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35687 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 67006 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
flag 73524 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 33957 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7781462520056504420 (index 185) to leader 1
flag 68676 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 28178 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184} {7781462520056504420 34 185}]
------------------------------------------------------
flag 97013 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 13853 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184} {7781462520056504420 34 185}]
------------------------------------------------------
client write log 315696754741145972 (index 186) to leader 1
client write log 8759414980164091810 (index 187) to leader 1
client write log 1065008690803043860 (index 188) to leader 1
client write log 3029354589745522706 (index 189) to leader 1
client write log 6659108188172513240 (index 190) to leader 1
client write log 4029663367148014119 (index 191) to leader 1
client write log 7284261873720059365 (index 192) to leader 1
client write log 459394560806031832 (index 193) to leader 1
client write log 1488878276815219887 (index 194) to leader 1
client write log 5017319650717746171 (index 195) to leader 1
flag 87215 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 9453 term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 34 179} {3265920606074753522 34 180} {4490390393920038785 34 181} {2481186902403720642 34 182} {3825081093284111939 34 183} {5728886373458144676 34 184} {7781462520056504420 34 185} {315696754741145972 34 186} {8759414980164091810 34 187} {1065008690803043860 34 188} {3029354589745522706 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195}]
------------------------------------------------------
term 34 Server1 start snapshot! index=189
term 34 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
flag 12718 term 34 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195}]
------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3328533546600266660 (index 196) to leader 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get outdate rpc reply from server 0
flag 75818 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 89079 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 197->196
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
flag 36771 term 36 leader 1 nextIndex[0]: 196  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 34 rf.commitIndex 189 rf.lastApplied 189
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5519 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 24033 term 36 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 36 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 28765 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 81956 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 43332 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 69049 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 59533 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 41058 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 27482 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 62835 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 28575 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 29919 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 20600 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 74543 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 14419 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 79160 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 883 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 63400 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 90621 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 3503 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51161 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 1065 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 4956 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 67150 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 24439 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 78842 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 81490 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 23914 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56871 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 89899 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 31316 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 89571 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
flag 79800 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 39064 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=195
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196}]
------------------------------------------------------
client write log 3328533546600266660 (index 197) to leader 1
flag 13296 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 11385 term 36 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46527 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 50278 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
flag 96377 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 689 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
flag 11569 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 38682 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
flag 68206 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 79416 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
flag 21690 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 1207 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
flag 35161 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 23954 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8837452064163207363 (index 198) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6091 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 28500 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197} {8837452064163207363 36 198}]
------------------------------------------------------
flag 22801 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 36 leaderCommit: 198 
------------------------------------------------------
flag 73665 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 198 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197} {8837452064163207363 36 198}]
------------------------------------------------------
client write log 1706050232012099347 (index 199) to leader 1
client write log 8378063873297577892 (index 200) to leader 1
client write log 5257693868470926856 (index 201) to leader 1
client write log 3407763987737501097 (index 202) to leader 1
client write log 8694829755476695882 (index 203) to leader 1
client write log 4592303437443969452 (index 204) to leader 1
client write log 572461327717414626 (index 205) to leader 1
client write log 144056993700398433 (index 206) to leader 1
client write log 6006968542930246425 (index 207) to leader 1
client write log 4738784477312019913 (index 208) to leader 1
client write log 2579293973200387394 (index 209) to leader 1
client write log 2675889904274973931 (index 210) to leader 1
flag 62149 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 36 leaderCommit: 198 
------------------------------------------------------
flag 36624 term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 198 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 189} {6659108188172513240 34 190} {4029663367148014119 34 191} {7284261873720059365 34 192} {459394560806031832 34 193} {1488878276815219887 34 194} {5017319650717746171 34 195} {3328533546600266660 34 196} {3328533546600266660 36 197} {8837452064163207363 36 198} {1706050232012099347 36 199} {8378063873297577892 36 200} {5257693868470926856 36 201} {3407763987737501097 36 202} {8694829755476695882 36 203} {4592303437443969452 36 204} {572461327717414626 36 205} {144056993700398433 36 206} {6006968542930246425 36 207} {4738784477312019913 36 208} {2579293973200387394 36 209} {2675889904274973931 36 210}]
------------------------------------------------------
term 36 Server1 start snapshot! index=199
term 36 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=210
-------------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
flag 69014 term 36 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210}]
------------------------------------------------------
term 36 Server0 start snapshot! index=199
term 36 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=210
-------------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8994114283703733742 (index 211) to leader 1
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18633 term 36 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 76420 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 14255 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
flag 77034 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 6075 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 75549 term 38 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
update nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 55805 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 13691 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54483 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 31495 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 26477 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 58477 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4281 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 12771 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5337 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 44000 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 0
flag 39061 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 1469 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 79931 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 3882 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25133 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 11945 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 86773 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 55623 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 62918 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 65894 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97615 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 29075 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 43821 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 214 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69207 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 47836 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 79148 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 78939 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28348 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 79169 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
flag 33985 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 31709 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211}]
------------------------------------------------------
client write log 8994114283703733742 (index 212) to leader 1
flag 57376 term 38 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
flag 49842 term 38 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
term 38 server 0 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 0
flag 10806 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 10576 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31378 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 21993 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
------------------------------------------------------
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45147 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 47867 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
flag 70108 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 54241 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14320 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 35374 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2695 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 13690 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 7493 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 77306 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 213->212
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 20777 term 38 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 0
term 39 server 2 become leader
------------------------------------------------------
client write log 629294609116036771 (index 213) to leader 2
flag 16168 term 39 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 39685 term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212} {629294609116036771 39 213}]
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 5673 term 39 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 39 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 74886 term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212} {629294609116036771 39 213}]
------------------------------------------------------
client write log 8511891532547039714 (index 214) to leader 2
client write log 1351417773661938353 (index 215) to leader 2
client write log 4417871086632687056 (index 216) to leader 2
client write log 7942193589727219722 (index 217) to leader 2
client write log 2062091799458813874 (index 218) to leader 2
client write log 4493431161525533194 (index 219) to leader 2
client write log 828786083498727300 (index 220) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 51580 term 39 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 39 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 23048 term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 36 209} {2675889904274973931 36 210} {8994114283703733742 36 211} {8994114283703733742 38 212} {629294609116036771 39 213} {8511891532547039714 39 214} {1351417773661938353 39 215} {4417871086632687056 39 216} {7942193589727219722 39 217} {2062091799458813874 39 218} {4493431161525533194 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 39 Server2 start snapshot! index=219
term 39 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 13754 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 39 Server0 start snapshot! index=219
term 39 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6266530752683577600 (index 213) to leader 1
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 212
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4599 term 39 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 39 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 39 rf.commitIndex 219 rf.lastApplied 219
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
term 41 server 1 vote for server 2
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 84151 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 78276 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
flag 84921 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 23807 term 41 leader 2 nextIndex[1]: 220  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 52903 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 59638 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91814 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 13121 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 75391 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 12908 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2052 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 85426 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 27515 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 89255 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 60136 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 38194 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 47006 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 41527 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 90264 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 14831 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 79675 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 62579 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 67803 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 95123 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42230 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 88291 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21652 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 62202 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 56077 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 87384 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 88369 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 49606 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 56503 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 35344 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74905 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 52005 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
flag 61475 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 94559 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 39 219} {828786083498727300 39 220}]
------------------------------------------------------
client write log 6266530752683577600 (index 221) to leader 2
flag 77895 term 41 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
flag 26034 term 41 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 41 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 39 leaderCommit: 220 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23290 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 37908 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
flag 449 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 53016 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:221 
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
flag 95409 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 64674 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53143 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 36580 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
flag 46799 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 21210 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
flag 12123 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 86814 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4341337518629529363 (index 222) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49029 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
flag 1177 term 41 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 221 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221} {4341337518629529363 41 222}]
------------------------------------------------------
flag 70167 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 222 
------------------------------------------------------
flag 52064 term 41 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 41 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 41 leaderCommit: 222 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221} {4341337518629529363 41 222}]
------------------------------------------------------
client write log 2988228144759540397 (index 223) to leader 2
client write log 3507294319417141418 (index 224) to leader 2
client write log 2563127558651725078 (index 225) to leader 2
client write log 9123038429405846691 (index 226) to leader 2
client write log 4747825010528652781 (index 227) to leader 2
client write log 3075224255095559934 (index 228) to leader 2
client write log 5083525324653907827 (index 229) to leader 2
client write log 6430080150939721387 (index 230) to leader 2
client write log 6792350502603122076 (index 231) to leader 2
client write log 92641435368236221 (index 232) to leader 2
flag 7223 term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 41 leaderCommit: 222 
------------------------------------------------------
flag 77267 term 41 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 41 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 41 leaderCommit: 222 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 39 219} {828786083498727300 39 220} {6266530752683577600 41 221} {4341337518629529363 41 222} {2988228144759540397 41 223} {3507294319417141418 41 224} {2563127558651725078 41 225} {9123038429405846691 41 226} {4747825010528652781 41 227} {3075224255095559934 41 228} {5083525324653907827 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232}]
------------------------------------------------------
term 41 Server2 start snapshot! index=229
term 41 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 33503 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232}]
------------------------------------------------------
term 41 Server1 start snapshot! index=229
term 41 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6658989487172403147 (index 233) to leader 2
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 1 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 0 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 2 get outdate rpc reply from server 0
flag 68759 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 8998 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 234->233
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 84179 term 43 leader 2 nextIndex[1]: 233  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 41 rf.commitIndex 229 rf.lastApplied 229
flag 3950 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 31297 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 89762 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 87743 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 54309 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 53036 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 28607 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 30320 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80508 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 43227 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 76234 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 85065 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 45590 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 36470 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 78189 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 68958 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 70297 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 61612 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 77575 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 49947 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 28619 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 47694 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 80344 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 47127 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 85202 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 85010 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 71321 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 59581 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 71329 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 81434 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 80391 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 76220 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
flag 29671 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 76674 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 86689 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 63960 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233}]
------------------------------------------------------
client write log 6658989487172403147 (index 234) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69349 term 43 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 12222 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
term 43 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
flag 75892 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 71533 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
flag 32091 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 92310 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57693 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 46407 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87141 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 10566 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52431 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 2391 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
flag 84906 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 53907 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2160315576068218606 (index 235) to leader 2
flag 36637 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
flag 56193 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 234 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234} {2160315576068218606 43 235}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38609 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 92422 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234} {2160315576068218606 43 235}]
------------------------------------------------------
client write log 2687509781438885495 (index 236) to leader 2
client write log 5752005670076766347 (index 237) to leader 2
client write log 8406575803984475475 (index 238) to leader 2
client write log 1853080981367361850 (index 239) to leader 2
client write log 8748929337286260940 (index 240) to leader 2
client write log 5651543716228123038 (index 241) to leader 2
client write log 9182093847177906558 (index 242) to leader 2
client write log 1091157119282295178 (index 243) to leader 2
client write log 4852735078109983551 (index 244) to leader 2
client write log 8733706198507825248 (index 245) to leader 2
client write log 6413084587122301362 (index 246) to leader 2
client write log 6250840269859213919 (index 247) to leader 2
client write log 7667394212754021332 (index 248) to leader 2
client write log 5189768175733031991 (index 249) to leader 2
client write log 7331741692635404771 (index 250) to leader 2
flag 41113 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 7730 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 229} {6430080150939721387 41 230} {6792350502603122076 41 231} {92641435368236221 41 232} {6658989487172403147 41 233} {6658989487172403147 43 234} {2160315576068218606 43 235} {2687509781438885495 43 236} {5752005670076766347 43 237} {8406575803984475475 43 238} {1853080981367361850 43 239} {8748929337286260940 43 240} {5651543716228123038 43 241} {9182093847177906558 43 242} {1091157119282295178 43 243} {4852735078109983551 43 244} {8733706198507825248 43 245} {6413084587122301362 43 246} {6250840269859213919 43 247} {7667394212754021332 43 248} {5189768175733031991 43 249} {7331741692635404771 43 250}]
------------------------------------------------------
term 43 Server2 start snapshot! index=239
term 43 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=250
-------------------------------------------------------------
term 43 Server2 start snapshot! index=249
term 43 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
flag 36191 term 43 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 43 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250}]
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=250
-------------------------------------------------------------
term 43 Server1 start snapshot! index=249
term 43 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 0
client write log 153950319582713231 (index 251) to leader 2
term 43 server 2 not vote for server 0, 日志不够新
term 43 server 1 not vote for server 0, 日志不够新
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 0 vote for server 2
term 45 server 2 get outdate rpc reply from server 0
flag 32182 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 28314 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 252->251
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 252->251
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
flag 10948 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 43 rf.commitIndex 249 rf.lastApplied 249
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 91201 term 45 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 45 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 87680 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 81085 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 81663 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 86384 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 25777 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 92403 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 79061 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 98609 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 19712 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 90658 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 37420 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 66685 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 45993 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 89168 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 92632 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68376 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 67869 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 92931 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 22627 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 48564 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 39781 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
update nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 97467 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 69952 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 89492 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 4818 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 87598 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 60237 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95832 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 1428 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1898 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 38004 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 65170 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 53194 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
flag 88449 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 30373 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251}]
------------------------------------------------------
client write log 153950319582713231 (index 252) to leader 2
flag 20529 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
flag 17777 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 43 leaderCommit: 250 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
flag 85983 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 9621 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82474 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 79967 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
flag 10535 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 5150 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
flag 40662 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 89994 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
flag 7101 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 3936 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7480 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 16422 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63757 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 5541 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 54417 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 88978 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 70454 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 21825 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get vote from server 0
term 46 server 1 become leader
------------------------------------------------------
flag 34149 term 46 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 74918 term 46 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
client write log 5931188637554728171 (index 253) to leader 1
term 46 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253}]
------------------------------------------------------
flag 43212 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 95475 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 71527 term 46 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 64494 term 46 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253}]
------------------------------------------------------
flag 49954 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 53740 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92741 term 46 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 46 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 26897 term 46 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253}]
------------------------------------------------------
client write log 8322950322915390395 (index 254) to leader 1
flag 13442 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 31262 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 25579 term 46 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 46 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 90940 term 46 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254}]
------------------------------------------------------
flag 52458 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 42531 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
flag 92624 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8492327155001908857 (index 255) to leader 1
flag 21520 term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
flag 44787 term 45 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 45 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22299 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot fail
rf.commitIndex 252 args.LastIncludedIndex 249
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
flag 74536 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 59405 term 46 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 46 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
flag 86419 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 39029 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 1 get outdate rpc reply from server 2
flag 98702 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 57924 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7429 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 6405 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
flag 39911 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 36567 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5343 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 88931 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
flag 37027 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 15472 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7640598342630764299 (index 256) to leader 1
flag 61313 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
flag 13413 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255} {7640598342630764299 46 256}]
------------------------------------------------------
flag 99642 term 46 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 46 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 60696 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255} {7640598342630764299 46 256}]
------------------------------------------------------
client write log 2799938363615537061 (index 257) to leader 1
client write log 1826941277654234074 (index 258) to leader 1
client write log 8938203676827028519 (index 259) to leader 1
client write log 3748507764791185991 (index 260) to leader 1
client write log 5984534090695236142 (index 261) to leader 1
client write log 1845868624324677429 (index 262) to leader 1
client write log 5461152225734172195 (index 263) to leader 1
client write log 7782061808279921722 (index 264) to leader 1
client write log 6927163918939527177 (index 265) to leader 1
client write log 2546048416707858183 (index 266) to leader 1
client write log 1186839343181084193 (index 267) to leader 1
flag 89108 term 46 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 46 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 40445 term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 249} {7331741692635404771 43 250} {153950319582713231 43 251} {153950319582713231 45 252} {5931188637554728171 46 253} {8322950322915390395 46 254} {8492327155001908857 46 255} {7640598342630764299 46 256} {2799938363615537061 46 257} {1826941277654234074 46 258} {8938203676827028519 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267}]
------------------------------------------------------
term 46 Server1 start snapshot! index=259
term 46 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=267
-------------------------------------------------------------
flag 32742 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=267
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5303738105164674598 (index 268) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 not vote for server 2, 日志不够新
flag 66605 term 46 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 46 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 server 0 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 49362 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 91140 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 269->268
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 269->268
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28351 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
flag 57089 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 558 term 48 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36587 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 79720 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60445 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 24724 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17960 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 76595 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 59731 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 73710 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 64547 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 64598 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 63545 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 88059 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 42004 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 75303 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 20145 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 3313 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 63419 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 8487 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26228 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 84663 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 6424 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 94537 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9851 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 4085 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 39414 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 81602 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65732 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 82453 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 76480 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 72317 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
flag 92819 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 91424 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268}]
------------------------------------------------------
client write log 5303738105164674598 (index 269) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14407 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
flag 37521 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 46 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268} {5303738105164674598 48 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 46 259} {3748507764791185991 46 260} {5984534090695236142 46 261} {1845868624324677429 46 262} {5461152225734172195 46 263} {7782061808279921722 46 264} {6927163918939527177 46 265} {2546048416707858183 46 266} {1186839343181084193 46 267} {5303738105164674598 46 268} {5303738105164674598 48 269}]
------------------------------------------------------
term 48 Server1 start snapshot! index=269
term 48 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 5275 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
flag 88952 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
update nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 36975 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
flag 60443 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
[{snapshot 48 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
flag 67768 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
flag 87577 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
flag 27758 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
flag 89312 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
flag 55470 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
flag 1479 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2733881424410428380 (index 270) to leader 1
flag 15352 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
flag 34918 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 48 269} {2733881424410428380 48 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30402 term 48 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 48 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 48 leaderCommit: 270 
------------------------------------------------------
flag 20971 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 270 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 48 269} {2733881424410428380 48 270}]
------------------------------------------------------
client write log 8003506828156928113 (index 271) to leader 1
client write log 1905743647864077374 (index 272) to leader 1
client write log 7521818249696330185 (index 273) to leader 1
client write log 5588482794380701760 (index 274) to leader 1
client write log 7288291430437187571 (index 275) to leader 1
client write log 5601560091881435799 (index 276) to leader 1
flag 24177 term 48 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 48 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 48 leaderCommit: 270 
------------------------------------------------------
flag 5240 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 270 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276}]
------------------------------------------------------
flag 64662 term 48 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 48 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 50236 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2119427044803866500 (index 277) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22617 term 48 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 48 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 76986 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get outdate rpc reply from server 0
flag 92817 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 54611 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 278->277
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 92118 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 38748 term 50 leader 1 nextIndex[2]: 270  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 61618 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 73172 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77347 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 63318 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 94680 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 37299 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 26871 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 58965 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 37707 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 64488 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34236 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 94052 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 4840 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 32354 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 74545 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 94457 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 1724 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 69538 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 11765 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 15241 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97054 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 38920 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 69924 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 41918 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
flag 11625 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 38340 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73793 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 95255 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277}]
------------------------------------------------------
client write log 2119427044803866500 (index 278) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99449 term 50 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 40198 term 50 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 50 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
flag 95943 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 96160 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
flag 17631 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 10588 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
flag 20930 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 80039 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
flag 77764 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 4395 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73003 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 41911 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
flag 42567 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 23157 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 36928 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 9293 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 81009 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 43141 term 50 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 279->278
------------------------------------------------------
flag 57776 term 50 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 50 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 0
term 51 server 2 become leader
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
flag 29962 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 51999 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
client write log 7213882148729931107 (index 279) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 47116 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
flag 80301 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 50 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 269} {2733881424410428380 48 270} {8003506828156928113 48 271} {1905743647864077374 48 272} {7521818249696330185 48 273} {5588482794380701760 48 274} {7288291430437187571 48 275} {5601560091881435799 48 276} {2119427044803866500 48 277} {2119427044803866500 50 278} {7213882148729931107 51 279}]
------------------------------------------------------
term 51 Server2 start snapshot! index=279
term 51 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 55282 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 Server0 start snapshot! index=279
term 51 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 4171591864253700576 (index 280) to leader 2
client write log 1763502318225227237 (index 281) to leader 2
client write log 2540566712035680610 (index 282) to leader 2
client write log 1270190603271209748 (index 283) to leader 2
client write log 2078955578343547750 (index 284) to leader 2
client write log 1130712290505721621 (index 285) to leader 2
client write log 1496492413965109270 (index 286) to leader 2
client write log 7754607769127351393 (index 287) to leader 2
client write log 5484140225316556747 (index 288) to leader 2
client write log 4753027528787961200 (index 289) to leader 2
client write log 6775565631945430631 (index 290) to leader 2
client write log 548087549997765165 (index 291) to leader 2
client write log 3851826141812174691 (index 292) to leader 2
client write log 5396001337872874261 (index 293) to leader 2
client write log 7844905690227218355 (index 294) to leader 2
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 62114 term 51 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 279} {4171591864253700576 51 280} {1763502318225227237 51 281} {2540566712035680610 51 282} {1270190603271209748 51 283} {2078955578343547750 51 284} {1130712290505721621 51 285} {1496492413965109270 51 286} {7754607769127351393 51 287} {5484140225316556747 51 288} {4753027528787961200 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 51 Server2 start snapshot! index=289
term 51 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94966 term 51 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 51 Server0 start snapshot! index=289
term 51 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1089043120705744800 (index 279) to leader 1
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63618 term 51 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 51 rf.commitIndex 289 rf.lastApplied 289
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get outdate rpc reply from server 0
flag 18081 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 22408 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 82007 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 60002 term 53 leader 2 nextIndex[1]: 290  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 70745 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 1547 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 22394 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 95747 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 22763 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 92884 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 66885 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 12456 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 78833 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 9827 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 58859 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 53146 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28200 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 8816 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 22792 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 80111 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 38628 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 76052 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 3923 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 4341 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70296 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 87791 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 16625 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 46856 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 29704 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 69221 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63299 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 92438 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 15584 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 28842 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58899 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 48358 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
flag 59059 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 11572 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1089043120705744800 (index 295) to leader 2
flag 51467 term 53 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 33877 term 53 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 53 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93964 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
flag 10593 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
flag 80438 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
flag 42853 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
flag 95045 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
flag 85881 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
flag 58768 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
flag 76523 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
flag 62194 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
flag 4529 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7204602785406857190 (index 296) to leader 2
flag 73511 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
flag 3475 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 295 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295} {7204602785406857190 53 296}]
------------------------------------------------------
flag 64499 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 11194 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295} {7204602785406857190 53 296}]
------------------------------------------------------
client write log 5413301647309424262 (index 297) to leader 2
client write log 7363123448389593215 (index 298) to leader 2
client write log 4873019245104404456 (index 299) to leader 2
client write log 2485139832476014590 (index 300) to leader 2
client write log 4034427426921410353 (index 301) to leader 2
client write log 7706526995112600510 (index 302) to leader 2
client write log 3950871240943871015 (index 303) to leader 2
client write log 4524138345916038649 (index 304) to leader 2
client write log 8704887579548124858 (index 305) to leader 2
client write log 5642211433933164707 (index 306) to leader 2
client write log 7935446198221961106 (index 307) to leader 2
client write log 261820604824097514 (index 308) to leader 2
flag 16264 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 74271 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 51 289} {6775565631945430631 51 290} {548087549997765165 51 291} {3851826141812174691 51 292} {5396001337872874261 51 293} {7844905690227218355 51 294} {1089043120705744800 53 295} {7204602785406857190 53 296} {5413301647309424262 53 297} {7363123448389593215 53 298} {4873019245104404456 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308}]
------------------------------------------------------
term 53 Server2 start snapshot! index=299
term 53 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 57537 term 53 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 53 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308}]
------------------------------------------------------
term 53 Server1 start snapshot! index=299
term 53 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3746462751880125631 (index 309) to leader 2
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 0 vote for server 2
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 47790 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 32790 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 310->309
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 310->309
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 21566 term 55 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 53 rf.commitIndex 299 rf.lastApplied 299
flag 66833 term 55 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 55967 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 1 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 1
flag 78415 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 15090 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 4377 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 23932 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 55881 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 66110 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 62363 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 40595 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 82149 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 60814 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77021 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 96966 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 75075 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 29805 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 17971 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 37817 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94081 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 45842 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15872 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 94313 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 59700 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 1701 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83159 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 6609 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 73842 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 59107 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 90044 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 29730 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 11993 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 49235 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
flag 12500 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 15260 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41603 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 94374 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309}]
------------------------------------------------------
client write log 3746462751880125631 (index 310) to leader 2
flag 90321 term 55 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 82548 term 55 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 299} {2485139832476014590 53 300} {4034427426921410353 53 301} {7706526995112600510 53 302} {3950871240943871015 53 303} {4524138345916038649 53 304} {8704887579548124858 53 305} {5642211433933164707 53 306} {7935446198221961106 53 307} {261820604824097514 53 308} {3746462751880125631 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
term 55 Server2 start snapshot! index=309
term 55 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
flag 62817 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 90985 term 55 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
term 55 Server0 start snapshot! index=309
term 55 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 55 Server1 start snapshot! index=309
term 55 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
flag 43257 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 3471 term 55 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
flag 98814 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 56303 term 55 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
flag 97212 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 76910 term 55 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
flag 90739 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 89313 term 55 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3746462751880125631 55 310}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6019668215951223563 (index 311) to leader 2
flag 48071 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 53289 term 55 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {3746462751880125631 55 310} {6019668215951223563 55 311}]
------------------------------------------------------
flag 14407 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 31362 term 55 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {3746462751880125631 55 310} {6019668215951223563 55 311}]
------------------------------------------------------
client write log 6084128082728783701 (index 312) to leader 2
client write log 93319528588119037 (index 313) to leader 2
client write log 5837602548355594261 (index 314) to leader 2
client write log 5185642433020832770 (index 315) to leader 2
client write log 5716971326665694409 (index 316) to leader 2
client write log 2446408723190868461 (index 317) to leader 2
client write log 5350619093265276216 (index 318) to leader 2
client write log 3166956413008272893 (index 319) to leader 2
client write log 6271580509818029030 (index 320) to leader 2
client write log 4535458184601435352 (index 321) to leader 2
client write log 2217948472185037056 (index 322) to leader 2
flag 29035 term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 87265 term 55 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 309} {3746462751880125631 55 310} {6019668215951223563 55 311} {6084128082728783701 55 312} {93319528588119037 55 313} {5837602548355594261 55 314} {5185642433020832770 55 315} {5716971326665694409 55 316} {2446408723190868461 55 317} {5350619093265276216 55 318} {3166956413008272893 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322}]
------------------------------------------------------
term 55 Server2 start snapshot! index=319
term 55 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 69016 term 55 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 55 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322}]
------------------------------------------------------
term 55 Server1 start snapshot! index=319
term 55 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3842972191383660267 (index 323) to leader 2
term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 69523 term 55 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 55 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 56 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 server 1 vote for server 2
term 57 server 2 get vote from server 1
term 57 server 2 become leader
------------------------------------------------------
term 57 server 0 vote for server 2
term 57 server 2 get outdate rpc reply from server 0
flag 81760 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 96669 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 324->323
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 311  matchIndex[0]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 25359 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 0 InstallSnapshot success
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 55 rf.commitIndex 319 rf.lastApplied 319
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
flag 52527 term 57 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 62861 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
flag 54851 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 95389 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
flag 51357 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 71998 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
flag 96283 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 85235 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
flag 28638 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 72388 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
flag 42255 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 35832 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91769 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 49137 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 92404 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 91751 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 68375 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 55003 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 61840 term 57 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 62983 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 324->323
------------------------------------------------------
term 58 server 1 vote for server 0
term 58 server 0 get vote from server 1
term 58 server 0 become leader
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 67563 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 29454 term 58 leader 0 nextIndex[1]: 324  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 93212 term 58 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323}]
------------------------------------------------------
term 58 server 1 not vote for server 0, 任期不够新
term 58 server 0 get outdate rpc reply from server 1
client write log 2271204745250289951 (index 324) to leader 0
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 73642 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 90745 term 58 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 58 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 47573 term 58 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323} {2271204745250289951 58 324}]
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 62439 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 93950 term 58 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 58 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 58 leaderCommit: 324 
------------------------------------------------------
flag 52371 term 58 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323} {2271204745250289951 58 324}]
------------------------------------------------------
client write log 6245278208796357052 (index 325) to leader 0
client write log 1006932809179193505 (index 326) to leader 0
client write log 4458541587264221487 (index 327) to leader 0
client write log 1255670169819031244 (index 328) to leader 0
client write log 8597327798353450555 (index 329) to leader 0
client write log 8704617894121041251 (index 330) to leader 0
client write log 7310229274561537252 (index 331) to leader 0
client write log 7200847700352204846 (index 332) to leader 0
client write log 1005564456200314760 (index 333) to leader 0
client write log 7607784221430560027 (index 334) to leader 0
client write log 4830626728389676655 (index 335) to leader 0
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 6272 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 50412 term 58 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 58 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 58 leaderCommit: 324 
------------------------------------------------------
flag 28462 term 58 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 324 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 55 319} {6271580509818029030 55 320} {4535458184601435352 55 321} {2217948472185037056 55 322} {3842972191383660267 55 323} {2271204745250289951 58 324} {6245278208796357052 58 325} {1006932809179193505 58 326} {4458541587264221487 58 327} {1255670169819031244 58 328} {8597327798353450555 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 Server0 start snapshot! index=329
term 58 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=335
-------------------------------------------------------------
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 34536 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
flag 47330 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 Server1 start snapshot! index=329
term 58 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=335
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4695792061131382033 (index 324) to leader 2
term 57 server 2 not vote for server 0, 任期不够新
term 58 server 0 get outdate rpc reply from server 2
term 57 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 48907 term 57 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 57 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 55 leaderCommit: 323 
------------------------------------------------------
term 58 server 1 AppendEntries false 领导者任期过期 args.Term 57
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 58 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12925 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 2 InstallSnapshot success
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 58 rf.commitIndex 329 rf.lastApplied 329
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62949 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 2938 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10418 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 13064 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 95120 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 96377 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 336->335
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30605 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 335
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 2 InstallSnapshot fail
rf.commitIndex 335 args.LastIncludedIndex 329
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88802 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 18451 term 58 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 65135 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 21569 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82027 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 94512 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 3501 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 99340 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42279 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 75548 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 93101 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 93389 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 55612 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 80313 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 95167 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 95417 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 50266 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 10108 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 97982 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 8775 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 55437 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 56047 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 53393 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 30057 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
update nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 61629 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 90252 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
flag 97368 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 733 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5097 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 28486 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335}]
------------------------------------------------------
client write log 4695792061131382033 (index 336) to leader 0
flag 38660 term 58 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
flag 49981 term 58 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 58 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 58 leaderCommit: 335 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86431 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 86961 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
flag 75714 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 24049 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
flag 87618 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 48893 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
flag 19294 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 6338 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
flag 86672 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 40881 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
flag 76328 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 2855 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
term 58 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1820643426001216689 (index 337) to leader 0
flag 83620 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
flag 95892 term 58 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 336 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336} {1820643426001216689 58 337}]
------------------------------------------------------
flag 23382 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 337 
------------------------------------------------------
flag 70932 term 58 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 58 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 58 leaderCommit: 337 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336} {1820643426001216689 58 337}]
------------------------------------------------------
client write log 2348585952463659194 (index 338) to leader 0
client write log 8128694027942941336 (index 339) to leader 0
client write log 239735608635718720 (index 340) to leader 0
client write log 8407888686680134074 (index 341) to leader 0
client write log 3369795706186826803 (index 342) to leader 0
client write log 8104410112706331420 (index 343) to leader 0
client write log 6270303125270378195 (index 344) to leader 0
client write log 965045042161436236 (index 345) to leader 0
client write log 4290202911118025177 (index 346) to leader 0
flag 95868 term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 58 leaderCommit: 337 
------------------------------------------------------
flag 95224 term 58 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 58 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 58 leaderCommit: 337 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 58 329} {8704617894121041251 58 330} {7310229274561537252 58 331} {7200847700352204846 58 332} {1005564456200314760 58 333} {7607784221430560027 58 334} {4830626728389676655 58 335} {4695792061131382033 58 336} {1820643426001216689 58 337} {2348585952463659194 58 338} {8128694027942941336 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346}]
------------------------------------------------------
term 58 Server0 start snapshot! index=339
term 58 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 58
------------------------------------------------------
flag 80829 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346}]
------------------------------------------------------
term 58 Server2 start snapshot! index=339
term 58 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 337->336
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 347->346
!!!!!!connect server 1
------------------------------------------------------
client write log 7490134306911630343 (index 347) to leader 0
term 58 leader 0 nextIndex[1]: 0  matchIndex[1]: 336
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 58
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 346
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 2 InstallSnapshot fail
rf.commitIndex 346 args.LastIncludedIndex 339
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
term 59 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 60 server 2 vote for server 0
term 60 server 0 get vote from server 2
term 60 server 0 become leader
------------------------------------------------------
term 60 server 1 vote for server 0
term 60 server 0 get outdate rpc reply from server 1
flag 82340 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 67835 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 348->347
------------------------------------------------------
term 60 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 348->347
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 leader 0 nextIndex[1]: 337  matchIndex[1]: 0
term 60 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 58
------------------------------------------------------
flag 86678 term 60 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 58 rf.commitIndex 339 rf.lastApplied 339
term 60 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50763 term 60 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 60 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 46972 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17853 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 94097 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 91475 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 85430 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 54178 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 23151 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 50781 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 40516 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 69689 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 96345 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 46632 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 68568 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64271 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 60906 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 60 server 2 not vote for server 1, 任期不够新
term 60 server 1 get outdate rpc reply from server 2
flag 27746 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 99251 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 93564 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 65663 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41704 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 78882 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69410 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 31330 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65177 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 99168 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 273 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 26373 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
flag 33026 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 33212 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36334 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 13607 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 0 not vote for server 1, 任期不够新
term 60 server 1 get outdate rpc reply from server 0
flag 81961 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 59215 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=346
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347}]
------------------------------------------------------
client write log 7490134306911630343 (index 348) to leader 0
flag 74677 term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 22840 term 60 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 60 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
flag 82805 term 60 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
flag 40307 term 60 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
flag 19821 term 60 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
flag 89408 term 60 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
flag 42175 term 60 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
flag 27216 term 60 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
term 60 server 2 not vote for server 0, 任期不够新
term 60 server 0 get outdate rpc reply from server 2
flag 29058 term 60 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
flag 95346 term 60 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
flag 82707 term 60 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
flag 84613 term 60 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 60 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 60 leaderCommit: 348 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 58 339} {239735608635718720 58 340} {8407888686680134074 58 341} {3369795706186826803 58 342} {8104410112706331420 58 343} {6270303125270378195 58 344} {965045042161436236 58 345} {4290202911118025177 58 346} {7490134306911630343 58 347} {7490134306911630343 60 348}]
------------------------------------------------------
  ... Passed --  82.0  3 1868  865471  348
--- PASS: TestSnapshotInstall2D (82.00s)
PASS
