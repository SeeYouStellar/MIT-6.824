=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 64135 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 87130 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8251068274270328365 (index 1) to leader 2
flag 55802 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 37680 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
flag 7426 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24769 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
flag 32577 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52302 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
flag 66171 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 74461 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
flag 24521 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40870 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
flag 24061 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 26959 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
flag 30892 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90151 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8251068274270328365 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8922940166423040120 (index 2) to leader 2
flag 83704 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30267 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8251068274270328365 1 1} {8922940166423040120 1 2}]
------------------------------------------------------
flag 37998 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 85798 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8251068274270328365 1 1} {8922940166423040120 1 2}]
------------------------------------------------------
client write log 2197044034971397759 (index 3) to leader 2
client write log 3281041053517831715 (index 4) to leader 2
client write log 3941632388485812497 (index 5) to leader 2
client write log 8003699277826167314 (index 6) to leader 2
client write log 6912675731847878901 (index 7) to leader 2
client write log 6740341076527255713 (index 8) to leader 2
client write log 1066742915654143461 (index 9) to leader 2
client write log 1409986067368373712 (index 10) to leader 2
client write log 6643995548546987876 (index 11) to leader 2
client write log 3726079841497373194 (index 12) to leader 2
client write log 5287248122751739696 (index 13) to leader 2
client write log 3372956874362920494 (index 14) to leader 2
client write log 3324331105695345246 (index 15) to leader 2
client write log 4820917235184976151 (index 16) to leader 2
flag 65433 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 46741 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {8251068274270328365 1 1} {8922940166423040120 1 2} {2197044034971397759 1 3} {3281041053517831715 1 4} {3941632388485812497 1 5} {8003699277826167314 1 6} {6912675731847878901 1 7} {6740341076527255713 1 8} {1066742915654143461 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 72605 term 1 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3044565681290460406 (index 17) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 83315 term 1 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 20596 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 10878 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 18->17
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 7945 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 62481 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 67412 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
flag 90006 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 15060 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
flag 45450 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 90998 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
flag 95827 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 29630 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
flag 11596 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 93277 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
flag 59315 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 30806 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 24536 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 14412 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66886 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66097 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 24211 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 28501 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 69605 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 87327 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17}]
------------------------------------------------------
client write log 8086780089859307222 (index 18) to leader 0
flag 25595 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 82755 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 63072 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 12131 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17} {8086780089859307222 4 18}]
------------------------------------------------------
flag 65423 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 27186 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 55458 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 90770 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17} {8086780089859307222 4 18}]
------------------------------------------------------
client write log 37754551694292500 (index 19) to leader 0
client write log 7308849881072630172 (index 20) to leader 0
client write log 1595124688457764259 (index 21) to leader 0
client write log 5935199309355982819 (index 22) to leader 0
client write log 7476435920062462190 (index 23) to leader 0
client write log 906784754882698909 (index 24) to leader 0
client write log 1702493469296801823 (index 25) to leader 0
client write log 7500285740184218853 (index 26) to leader 0
client write log 8877967030212415012 (index 27) to leader 0
client write log 7071818979237333317 (index 28) to leader 0
flag 66665 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 60800 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 35541 term 4 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 4229 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {1409986067368373712 1 10} {6643995548546987876 1 11} {3726079841497373194 1 12} {5287248122751739696 1 13} {3372956874362920494 1 14} {3324331105695345246 1 15} {4820917235184976151 1 16} {3044565681290460406 1 17} {8086780089859307222 4 18} {37754551694292500 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
flag 35047 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 88426 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 31745 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 2
flag 30653 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 25823 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
client write log 679929010079625937 (index 18) to leader 2
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27936 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 39107 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 26027 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 2
flag 21811 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 18328 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 29->28
------------------------------------------------------
flag 21661 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 28
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 28 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 87621 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 90710 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 31782 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 20889 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24931 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 58396 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 69363 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 5462 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 29->28
------------------------------------------------------
flag 72907 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 28
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 28 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 67443 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 3137 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 1
flag 23757 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 21785 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 87759 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 36641 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 35769 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 430 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 66504 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 73277 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27056 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 12951 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 48518 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 4362 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88356 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 10827 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 2114 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 55367 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
flag 78886 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 29290 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53255 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 3452 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28}]
------------------------------------------------------
client write log 679929010079625937 (index 29) to leader 0
flag 8440 term 4 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 52537 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28} {679929010079625937 4 29}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {7308849881072630172 4 20} {1595124688457764259 4 21} {5935199309355982819 4 22} {7476435920062462190 4 23} {906784754882698909 4 24} {1702493469296801823 4 25} {7500285740184218853 4 26} {8877967030212415012 4 27} {7071818979237333317 4 28} {679929010079625937 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 52693 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 2734 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68244 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 70739 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 57257 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 8213 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 37691 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 63984 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26096 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 81224 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62987 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 95613 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 776662549957208889 (index 30) to leader 0
flag 9014 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 62092 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {776662549957208889 4 30}]
------------------------------------------------------
flag 9727 term 4 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 21113 term 4 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {776662549957208889 4 30}]
------------------------------------------------------
client write log 4878291825506142179 (index 31) to leader 0
client write log 7111002639463637540 (index 32) to leader 0
client write log 5084659600685270912 (index 33) to leader 0
client write log 1078502678536967193 (index 34) to leader 0
client write log 3283510231752505900 (index 35) to leader 0
client write log 6071649368580019049 (index 36) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 30->29
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 29
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 98297 term 4 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36}]
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 29
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 22696 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7175615999062314784 (index 37) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 1
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 2
flag 66322 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 1132 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 38->37
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 38->37
------------------------------------------------------
flag 63569 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 42329 term 6 leader 0 nextIndex[2]: 37  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 34619 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 85191 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 38028 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 42412 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 82876 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 93249 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 36504 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 5081 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 467 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 34508 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 92211 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 27584 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 36625 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 71077 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63506 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 36433 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 83481 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 78290 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42342 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 68003 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 86878 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 57440 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 98670 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 68819 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 49627 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 1119 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 43369 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 56793 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 79641 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 6049 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64092 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 82371 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
flag 87313 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 7346 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15658 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 57311 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37}]
------------------------------------------------------
client write log 7175615999062314784 (index 38) to leader 0
flag 19983 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 22122 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
flag 68001 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 45748 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
flag 46627 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 40021 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94088 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 9629 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
flag 72360 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 13090 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
flag 16552 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 92453 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
flag 16433 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 71234 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5953535298781360823 (index 39) to leader 0
flag 79787 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 43048 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {776662549957208889 4 30} {4878291825506142179 4 31} {7111002639463637540 4 32} {5084659600685270912 4 33} {1078502678536967193 4 34} {3283510231752505900 4 35} {6071649368580019049 4 36} {7175615999062314784 4 37} {7175615999062314784 6 38} {5953535298781360823 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 74638 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 2699971162675654780 (index 40) to leader 0
client write log 1204242564937318608 (index 41) to leader 0
client write log 7486138365622501265 (index 42) to leader 0
client write log 522419074821916910 (index 43) to leader 0
client write log 5259777648838440146 (index 44) to leader 0
client write log 567884321153853066 (index 45) to leader 0
client write log 144645386140155701 (index 46) to leader 0
client write log 7900404063368828138 (index 47) to leader 0
client write log 5690254988885942069 (index 48) to leader 0
client write log 7991377368416374806 (index 49) to leader 0
client write log 3071195571740084603 (index 50) to leader 0
client write log 6637441351214206747 (index 51) to leader 0
client write log 8763287436782827377 (index 52) to leader 0
client write log 7287169610949073921 (index 53) to leader 0
client write log 2715818881290481092 (index 54) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 67355 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 39} {2699971162675654780 6 40} {1204242564937318608 6 41} {7486138365622501265 6 42} {522419074821916910 6 43} {5259777648838440146 6 44} {567884321153853066 6 45} {144645386140155701 6 46} {7900404063368828138 6 47} {5690254988885942069 6 48} {7991377368416374806 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 15786 term 6 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3896185164431897127 (index 55) to leader 0
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 89860 term 6 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 12213 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 24469 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 77859 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
flag 51971 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 73531 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
flag 74240 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 47636 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38921 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 11682 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
flag 95961 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 6139 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
flag 80229 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 79672 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19578 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 17820 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94271 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 35189 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94611 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 51560 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 20821 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 50470 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 21364 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 69602 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 59161 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 31063 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
client write log 1070326572577685503 (index 56) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 54843 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 73339 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 57108 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 75452 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 26720 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 56 
------------------------------------------------------
flag 50711 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56}]
------------------------------------------------------
client write log 2000631535229648910 (index 57) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 4736 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 95016 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 56 
------------------------------------------------------
flag 85367 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 45081 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 20676 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 35482 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1384730611909424316 (index 58) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 79697 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85494 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 5314 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63605 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 82279 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
flag 20036 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 77288 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
flag 53825 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 35386 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
term 9 server 0 AppendEntries true commitIndex:58 
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
flag 30306 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 18655 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
flag 8348 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 61735 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
flag 79603 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 19226 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6123883091697608934 (index 59) to leader 2
flag 9310 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 90223 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {3071195571740084603 6 50} {6637441351214206747 6 51} {8763287436782827377 6 52} {7287169610949073921 6 53} {2715818881290481092 6 54} {3896185164431897127 6 55} {1070326572577685503 9 56} {2000631535229648910 9 57} {1384730611909424316 9 58} {6123883091697608934 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 59154 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 3832661410497096529 (index 60) to leader 2
client write log 5843698149219663443 (index 61) to leader 2
client write log 2906733116511532447 (index 62) to leader 2
client write log 8494667940721076 (index 63) to leader 2
client write log 7310521927593400170 (index 64) to leader 2
client write log 9073740030146273620 (index 65) to leader 2
client write log 3842809137662551929 (index 66) to leader 2
client write log 1414117373505917101 (index 67) to leader 2
client write log 8771225160952313882 (index 68) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 59->58
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 61738 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68}]
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 82033 term 9 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 9 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3882594299796262885 (index 69) to leader 2
term 9 server 0 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 0
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 11422 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 34727 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 17113 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27879 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 4555 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 46376 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 26010 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 68177 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 51064 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 73882 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 63603 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93286 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 38273 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 16663 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 32325 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 26582 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 65294 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28169 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 35320 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 84887 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 57031 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 64507 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 12623 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 71601 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 20372 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 82363 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 86488 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 61260 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 56878 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61312 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 51327 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 86762 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 82153 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19694 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 73695 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
flag 41209 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 39021 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69}]
------------------------------------------------------
client write log 3882594299796262885 (index 70) to leader 2
flag 942 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 64315 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {3832661410497096529 9 60} {5843698149219663443 9 61} {2906733116511532447 9 62} {8494667940721076 9 63} {7310521927593400170 9 64} {9073740030146273620 9 65} {3842809137662551929 9 66} {1414117373505917101 9 67} {8771225160952313882 9 68} {3882594299796262885 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 82112 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 99127 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 5529 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 52702 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
flag 81003 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 49180 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
flag 52706 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 64216 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
flag 77110 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 73706 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {3882594299796262885 11 70}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 7720925075692065576 (index 71) to leader 2
flag 96390 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 9371 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71}]
------------------------------------------------------
flag 98161 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 44311 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71}]
------------------------------------------------------
client write log 7223196313752679335 (index 72) to leader 2
client write log 1249560590210075590 (index 73) to leader 2
client write log 6050879584680919238 (index 74) to leader 2
client write log 8446580402823889567 (index 75) to leader 2
client write log 1953066578912662027 (index 76) to leader 2
client write log 6308611071726679264 (index 77) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86589 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 94147 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77}]
------------------------------------------------------
flag 46810 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 13587 term 11 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7708524209339063815 (index 78) to leader 2
flag 5330 term 11 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 54543 term 11 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 12 server 0 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get outdate rpc reply from server 0
flag 99620 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 92631 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 79->78
------------------------------------------------------
flag 98257 term 14 leader 2 nextIndex[0]: 71  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 6745 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28788 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 88608 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
flag 96803 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 70347 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27839 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 38533 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
flag 18226 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 39536 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2363 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 97696 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
flag 69019 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 86964 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
!!!!!!diconnect server 2
term 14 server 1 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88977 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 12835 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 58535 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 81996 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 12447 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 83136 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 vote for server 0
term 15 server 0 get vote from server 1
term 15 server 0 become leader
------------------------------------------------------
flag 19532 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 88724 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78}]
------------------------------------------------------
flag 55952 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 45330 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
client write log 7757854159699435852 (index 79) to leader 0
flag 63036 term 15 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 93005 term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {3882594299796262885 11 70} {7720925075692065576 11 71} {7223196313752679335 11 72} {1249560590210075590 11 73} {6050879584680919238 11 74} {8446580402823889567 11 75} {1953066578912662027 11 76} {6308611071726679264 11 77} {7708524209339063815 11 78} {7757854159699435852 15 79}]
------------------------------------------------------
term 15 Server0 start snapshot! index=79
term 15 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 66724 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 91427 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 478 term 15 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 79 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 15 79}]
------------------------------------------------------
term 15 Server1 start snapshot! index=79
term 15 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 1350596466534477820 (index 80) to leader 0
client write log 8058757058541916961 (index 81) to leader 0
client write log 2255307259861465898 (index 82) to leader 0
client write log 544642632523666845 (index 83) to leader 0
client write log 5398080559996643670 (index 84) to leader 0
client write log 5769054854194545536 (index 85) to leader 0
client write log 2510046075414031394 (index 86) to leader 0
client write log 8292901878628452148 (index 87) to leader 0
client write log 7387659671366476993 (index 88) to leader 0
client write log 7670621953422221291 (index 89) to leader 0
flag 22136 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 28949 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 64036 term 15 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 79 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 79} {1350596466534477820 15 80} {8058757058541916961 15 81} {2255307259861465898 15 82} {544642632523666845 15 83} {5398080559996643670 15 84} {5769054854194545536 15 85} {2510046075414031394 15 86} {8292901878628452148 15 87} {7387659671366476993 15 88} {7670621953422221291 15 89}]
------------------------------------------------------
term 15 Server0 start snapshot! index=89
term 15 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 58640 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 56699 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 85312 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7093591619857469898 (index 79) to leader 2
flag 5618 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 3521 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73711 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 35702 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 76421 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 90->89
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88306 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 0  matchIndex[2]: 89
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 2 InstallSnapshot fail
rf.commitIndex 89 args.LastIncludedIndex 89
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 96983 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 86382 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5848 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 59830 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 95203 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 6165 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93621 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 44694 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 61925 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 80596 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 45135 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 57357 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2692 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 84417 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29091 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 38089 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82602 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 29621 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
flag 45889 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 803 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14104 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 83108 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 44726 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 81000 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21076 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 76254 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 66905 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 5994 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 88755 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 16036 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 30011 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 74063 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 30066 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 54007 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
client write log 7093591619857469898 (index 90) to leader 0
flag 29303 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 36224 term 15 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
flag 69997 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 37511 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72115 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 30366 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
flag 89346 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 75612 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
flag 29066 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 66341 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
flag 95951 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 12172 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
flag 4272 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 14347 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {7093591619857469898 15 90}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 320681900142738475 (index 91) to leader 0
flag 90772 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 94815 term 15 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {7093591619857469898 15 90} {320681900142738475 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93994 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 39172 term 15 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {7093591619857469898 15 90} {320681900142738475 15 91}]
------------------------------------------------------
client write log 8578278426279790659 (index 92) to leader 0
client write log 2452689661402799487 (index 93) to leader 0
client write log 7598138047847860351 (index 94) to leader 0
client write log 8865886739134083474 (index 95) to leader 0
client write log 2335692152751082063 (index 96) to leader 0
client write log 6606840706550261830 (index 97) to leader 0
client write log 3909608362011359147 (index 98) to leader 0
client write log 6946162133054196854 (index 99) to leader 0
flag 24354 term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 32324 term 15 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 15 89} {7093591619857469898 15 90} {320681900142738475 15 91} {8578278426279790659 15 92} {2452689661402799487 15 93} {7598138047847860351 15 94} {8865886739134083474 15 95} {2335692152751082063 15 96} {6606840706550261830 15 97} {3909608362011359147 15 98} {6946162133054196854 15 99}]
------------------------------------------------------
term 15 Server0 start snapshot! index=99
term 15 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 56796 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 99 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 15 99}]
------------------------------------------------------
term 15 Server2 start snapshot! index=99
term 15 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2972486261839738065 (index 100) to leader 0
term 15 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 93111 term 15 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 15 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 99 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
term 17 server 2 vote for server 0
term 17 server 1 vote for server 0
term 17 server 0 get vote from server 1
term 17 server 0 become leader
------------------------------------------------------
term 17 server 0 get outdate rpc reply from server 2
flag 85490 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 23153 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 101->100
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 91  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 23096 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1826 term 17 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 68010 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
flag 16306 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 55110 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
flag 55871 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 11273 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 17 server 2 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45255 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 792 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
flag 53070 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 86831 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
flag 33387 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 6634 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {2972486261839738065 15 100}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5148073884573778284 (index 101) to leader 0
flag 76825 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 96281 term 17 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {2972486261839738065 15 100} {5148073884573778284 17 101}]
------------------------------------------------------
flag 52651 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 58080 term 17 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 17 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {2972486261839738065 15 100} {5148073884573778284 17 101}]
------------------------------------------------------
client write log 5949213768423611711 (index 102) to leader 0
client write log 2701304882397608659 (index 103) to leader 0
client write log 7965647512134462488 (index 104) to leader 0
client write log 1382908564367430246 (index 105) to leader 0
client write log 7576630847854264193 (index 106) to leader 0
client write log 8098048733584235172 (index 107) to leader 0
client write log 2079316443668553006 (index 108) to leader 0
client write log 3942284485190073215 (index 109) to leader 0
client write log 2631309100020551764 (index 110) to leader 0
client write log 1398214899125240396 (index 111) to leader 0
client write log 3957411258113150781 (index 112) to leader 0
client write log 2023361618461026665 (index 113) to leader 0
client write log 4385617394042547839 (index 114) to leader 0
client write log 6843371564564117537 (index 115) to leader 0
flag 73703 term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 8911 term 17 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 17 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 15 99} {2972486261839738065 15 100} {5148073884573778284 17 101} {5949213768423611711 17 102} {2701304882397608659 17 103} {7965647512134462488 17 104} {1382908564367430246 17 105} {7576630847854264193 17 106} {8098048733584235172 17 107} {2079316443668553006 17 108} {3942284485190073215 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115}]
------------------------------------------------------
term 17 Server0 start snapshot! index=109
term 17 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=115
-------------------------------------------------------------
term 17 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 12051 term 17 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 17 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=115
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 5589774545614405427 (index 116) to leader 0
term 17 server 2 not vote for server 1, 日志不够新
term 17 server 0 not vote for server 1, 日志不够新
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get outdate rpc reply from server 2
flag 54319 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 82564 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 117->116
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 65088 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34040 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 72855 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 35843 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 79943 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17451 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 67412 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 90134 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 97392 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 24429 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 73672 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 68005 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 99750 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 91935 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 78406 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47405 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 22970 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 33813 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 39917 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 29073 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 56391 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62858 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 84179 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21315 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 7917 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 31546 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 80212 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 22581 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 14128 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 66356 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 91456 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 47273 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 4774 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 47616 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 77380 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
flag 26064 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 36496 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116}]
------------------------------------------------------
client write log 5589774545614405427 (index 117) to leader 0
flag 7782 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
flag 9401 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52030 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 58480 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
flag 98560 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 86842 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
term 19 server 0 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 0
flag 73655 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 88924 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
flag 27215 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 52373 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
flag 67016 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 29499 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49767 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 89923 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 25671 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 87233 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 7406 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 33729 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 93839 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 74859 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 58288 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 4220 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
flag 97211 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 24649 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117}]
------------------------------------------------------
client write log 4663433924761701520 (index 118) to leader 1
flag 97104 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 94124 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
flag 9614 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 9641 term 20 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117} {4663433924761701520 20 118}]
------------------------------------------------------
flag 57708 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 117
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 5162 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 4155 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117} {4663433924761701520 20 118}]
------------------------------------------------------
client write log 3429156216212990753 (index 119) to leader 1
client write log 4693963465829973682 (index 120) to leader 1
client write log 8608652284356787280 (index 121) to leader 1
client write log 8944462483974538971 (index 122) to leader 1
client write log 9049330852905970548 (index 123) to leader 1
client write log 7058787312939094987 (index 124) to leader 1
client write log 558738522096071166 (index 125) to leader 1
flag 40430 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 117
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 37351 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 48074 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 17 109} {2631309100020551764 17 110} {1398214899125240396 17 111} {3957411258113150781 17 112} {2023361618461026665 17 113} {4385617394042547839 17 114} {6843371564564117537 17 115} {5589774545614405427 17 116} {5589774545614405427 19 117} {4663433924761701520 20 118} {3429156216212990753 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
flag 24371 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 117
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 20772 term 20 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 20 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125}]
------------------------------------------------------
term 20 Server2 start snapshot! index=119
term 20 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8370594796595908653 (index 126) to leader 1
flag 32047 term 19 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 117
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 server 1 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 49074 term 20 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 20 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 20 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 20 rf.commitIndex 119 rf.lastApplied 119
term 20 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
term 20 server 2 not vote for server 0, 日志不够新
term 20 server 1 not vote for server 0, 日志不够新
term 22 server 2 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 0 vote for server 1
term 22 server 1 get outdate rpc reply from server 0
flag 23560 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 50242 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 127->126
------------------------------------------------------
term 22 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6893 term 22 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 89358 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12376 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 84623 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41735 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 19364 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22603 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 77757 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
flag 12799 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 47798 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86810 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 97149 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4493588779798965442 (index 127) to leader 1
flag 45718 term 22 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 70378 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126} {4493588779798965442 22 127}]
------------------------------------------------------
flag 51117 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 3955 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126} {4493588779798965442 22 127}]
------------------------------------------------------
client write log 4855367064811573137 (index 128) to leader 1
client write log 335367886953105637 (index 129) to leader 1
client write log 4358855865525879959 (index 130) to leader 1
client write log 6078002474233538578 (index 131) to leader 1
client write log 8365212958982963344 (index 132) to leader 1
client write log 858292426100849767 (index 133) to leader 1
client write log 5247820279320814234 (index 134) to leader 1
client write log 4833334719639746314 (index 135) to leader 1
client write log 5807107312614480284 (index 136) to leader 1
client write log 1631548927460639333 (index 137) to leader 1
term 22 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92069 term 22 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 57091 term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 20 119} {4693963465829973682 20 120} {8608652284356787280 20 121} {8944462483974538971 20 122} {9049330852905970548 20 123} {7058787312939094987 20 124} {558738522096071166 20 125} {8370594796595908653 20 126} {4493588779798965442 22 127} {4855367064811573137 22 128} {335367886953105637 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
flag 77847 term 22 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 22 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137}]
------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1835211946656023374 (index 138) to leader 1
term 22 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 24 server 2 vote for server 1
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 61258 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 64079 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 139->138
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53008 term 24 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 127  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 22 rf.commitIndex 129 rf.lastApplied 129
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 53594 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 22396 term 24 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 24 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 77954 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 74750 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 5451 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 93718 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 231 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 46746 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 5734 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 75178 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 45229 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 45111 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 19447 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 25617 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28406 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 63940 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 26875 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 49465 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 94021 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 70037 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 83396 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 90171 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 57940 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 1004 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 77992 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 53296 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74110 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 21435 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 41301 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 48091 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 36231 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 35781 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 77453 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 72012 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
flag 53879 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 37517 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138}]
------------------------------------------------------
client write log 1835211946656023374 (index 139) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18391 term 24 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
flag 39069 term 24 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138} {1835211946656023374 24 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 129} {4358855865525879959 22 130} {6078002474233538578 22 131} {8365212958982963344 22 132} {858292426100849767 22 133} {5247820279320814234 22 134} {4833334719639746314 22 135} {5807107312614480284 22 136} {1631548927460639333 22 137} {1835211946656023374 22 138} {1835211946656023374 24 139}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 43710 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 11071 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76458 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 55045 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 34601 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 83986 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23279 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88738 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 74626 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 2806 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60108 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 82843 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3911194640557707638 (index 140) to leader 1
flag 23363 term 24 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 44186 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {3911194640557707638 24 140}]
------------------------------------------------------
flag 31601 term 24 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 6447 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {3911194640557707638 24 140}]
------------------------------------------------------
client write log 8644147537158531188 (index 141) to leader 1
client write log 4691420206737401150 (index 142) to leader 1
client write log 9193027534772071259 (index 143) to leader 1
client write log 1907075991311323912 (index 144) to leader 1
client write log 8397637562507719846 (index 145) to leader 1
client write log 5269974708753938702 (index 146) to leader 1
client write log 6414651061712090642 (index 147) to leader 1
client write log 5251537812120098274 (index 148) to leader 1
client write log 4061964798356514568 (index 149) to leader 1
client write log 1119724722482032901 (index 150) to leader 1
client write log 5014461659842703590 (index 151) to leader 1
client write log 5878136551338451848 (index 152) to leader 1
client write log 9060472524558847774 (index 153) to leader 1
client write log 2067257253907076913 (index 154) to leader 1
client write log 8047483585491904772 (index 155) to leader 1
flag 78659 term 24 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 69204 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 139} {3911194640557707638 24 140} {8644147537158531188 24 141} {4691420206737401150 24 142} {9193027534772071259 24 143} {1907075991311323912 24 144} {8397637562507719846 24 145} {5269974708753938702 24 146} {6414651061712090642 24 147} {5251537812120098274 24 148} {4061964798356514568 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
flag 36953 term 24 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3343517840503381344 (index 156) to leader 1
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 48356 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 15579 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 157->156
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 157->156
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80153 term 26 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 140  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 60858 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 57564 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 33499 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 75860 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 5885 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 29445 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 33872 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 58405 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68912 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 89926 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95762 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 11027 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 42175 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 25929 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 12060 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 72113 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 31108 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 66680 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 19099 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 40586 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 72046 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 48751 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 94709 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 45449 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 25141 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 32115 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 10051 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 16431 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78696 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 46401 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 66135 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 81416 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67568 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 84624 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
flag 95998 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 32933 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156}]
------------------------------------------------------
client write log 3343517840503381344 (index 157) to leader 1
flag 59655 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 65743 term 26 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 26 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
update nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
flag 25359 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 25577 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
flag 12186 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 52042 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
flag 10857 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 6098 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72601 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 34562 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13947 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 65494 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
flag 93035 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 54107 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84274 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 5213 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44734 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 77300 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
flag 74277 term 27 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 80309 term 27 leader 0 nextIndex[2]: 158  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157}]
------------------------------------------------------
flag 4292 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 48321 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
client write log 8079134160593213549 (index 158) to leader 0
flag 33453 term 27 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 65349 term 27 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 27 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157} {8079134160593213549 27 158}]
------------------------------------------------------
flag 28381 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 90827 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 158->157
------------------------------------------------------
flag 49180 term 27 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 24835 term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 27 leaderCommit: 158 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157} {8079134160593213549 27 158}]
------------------------------------------------------
client write log 3165509045189365871 (index 159) to leader 0
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 157
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 3673 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60240 term 27 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 43741 term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 27 leaderCommit: 158 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 149} {1119724722482032901 24 150} {5014461659842703590 24 151} {5878136551338451848 24 152} {9060472524558847774 24 153} {2067257253907076913 24 154} {8047483585491904772 24 155} {3343517840503381344 24 156} {3343517840503381344 26 157} {8079134160593213549 27 158} {3165509045189365871 27 159}]
------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 157
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 11107 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 92984 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 157
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 70660 term 26 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
!!!!!!connect server 1
client write log 219662737169572754 (index 158) to leader 1
term 27 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 14746 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 159
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 53333 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
flag 39268 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 17796 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 19548 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 18149 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31063 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 40127 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 23849 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 28069 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 70657 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 41268 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14212 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 4784 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 71611 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 51503 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 17068 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 21009 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 46977 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 23703 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 66673 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 28011 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 76550 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 85370 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 10711 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 3388 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 78004 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 85831 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 41810 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 57190 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 15116 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 72683 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 74054 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 95613 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 78495 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 83985 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 47139 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 10028 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
client write log 219662737169572754 (index 160) to leader 0
flag 80710 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 53329 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
flag 85881 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 11641 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27843 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 2251 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
flag 16864 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 42416 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50819 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 70766 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
flag 46118 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 88335 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39279 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 11215 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {219662737169572754 27 160}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3819568595934218402 (index 161) to leader 0
flag 1468 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 12277 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161}]
------------------------------------------------------
flag 40873 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 66147 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161}]
------------------------------------------------------
client write log 6766885159793690419 (index 162) to leader 0
client write log 5546628867325168444 (index 163) to leader 0
client write log 4073405482270265606 (index 164) to leader 0
client write log 7790152626568743280 (index 165) to leader 0
client write log 6437903880805698060 (index 166) to leader 0
client write log 4274668954047479340 (index 167) to leader 0
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3104 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 16244 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167}]
------------------------------------------------------
flag 74692 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 37495 term 27 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 27 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7268755516559448113 (index 168) to leader 0
term 27 server 2 not vote for server 1, 日志不够新
term 27 server 0 not vote for server 1, 日志不够新
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 1
flag 93610 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 11272 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75538 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 81767 term 29 leader 0 nextIndex[2]: 168  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 22514 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 7068 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 1298 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 53926 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35691 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 4401 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1024 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 13513 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 98626 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 15982 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 37662 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 21324 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4297 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 78779 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 63363 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 93435 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78144 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 15200 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 43659 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 13305 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 81890 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 5852 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 37819 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 24815 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 74763 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 68777 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
------------------------------------------------------
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 44747 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 90937 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
flag 56077 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 94978 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 73397 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 93323 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
flag 54345 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 31986 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168}]
------------------------------------------------------
client write log 7268755516559448113 (index 169) to leader 0
flag 41056 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 85067 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168} {7268755516559448113 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {219662737169572754 27 160} {3819568595934218402 27 161} {6766885159793690419 27 162} {5546628867325168444 27 163} {4073405482270265606 27 164} {7790152626568743280 27 165} {6437903880805698060 27 166} {4274668954047479340 27 167} {7268755516559448113 27 168} {7268755516559448113 29 169}]
------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 92809 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 61620 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46672 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 90167 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 13660 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 34156 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35463 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 7595 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36528 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 12552 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 57137 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 15350 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6483861602705771581 (index 170) to leader 0
flag 27887 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 27823 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {6483861602705771581 29 170}]
------------------------------------------------------
flag 71309 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 20567 term 29 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 29 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {6483861602705771581 29 170}]
------------------------------------------------------
client write log 5706991072162259083 (index 171) to leader 0
client write log 7718027695781332362 (index 172) to leader 0
client write log 6382772396117253884 (index 173) to leader 0
client write log 5642619141106574982 (index 174) to leader 0
client write log 1460186449592169053 (index 175) to leader 0
client write log 6043046564439127143 (index 176) to leader 0
client write log 2363786005584363037 (index 177) to leader 0
client write log 7127880153127103484 (index 178) to leader 0
client write log 7805466727616899976 (index 179) to leader 0
client write log 3848735394215848211 (index 180) to leader 0
client write log 4177512791299324397 (index 181) to leader 0
client write log 433249917732913990 (index 182) to leader 0
client write log 4930357149676843665 (index 183) to leader 0
client write log 1568512772188782114 (index 184) to leader 0
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3237 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 23655 term 29 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 29 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 169} {6483861602705771581 29 170} {5706991072162259083 29 171} {7718027695781332362 29 172} {6382772396117253884 29 173} {5642619141106574982 29 174} {1460186449592169053 29 175} {6043046564439127143 29 176} {2363786005584363037 29 177} {7127880153127103484 29 178} {7805466727616899976 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 16669 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8064635867646443613 (index 185) to leader 0
term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 59860 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 2
flag 58828 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 36414 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 186->185
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 58477 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
term 31 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
flag 12547 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 30073 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
flag 68832 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 70751 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
flag 75655 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 89485 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74731 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 91208 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
flag 29457 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 87953 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
flag 26460 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 66965 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 27277 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 88888 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3379 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 41713 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 84508 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 28239 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 83617 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 82178 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
flag 418 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 87091 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185}]
------------------------------------------------------
client write log 458875536256729056 (index 186) to leader 2
flag 66704 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 3272 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 95362 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 82081 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186}]
------------------------------------------------------
flag 41925 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 66409 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 88020 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 30224 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186}]
------------------------------------------------------
client write log 3270250073867990866 (index 187) to leader 2
flag 46106 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 54755 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 31071 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 37277 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187}]
------------------------------------------------------
flag 32377 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 61052 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 5487 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 34753 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2052494752828626896 (index 188) to leader 2
flag 52817 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 15347 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66485 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 86788 term 32 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
flag 43317 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 29824 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
flag 96504 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 36780 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87866 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 17993 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
flag 98880 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 95823 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
flag 99871 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 30421 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
flag 53749 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 12513 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2550190854741114055 (index 189) to leader 2
flag 60908 term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 49850 term 32 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 179} {3848735394215848211 29 180} {4177512791299324397 29 181} {433249917732913990 29 182} {4930357149676843665 29 183} {1568512772188782114 29 184} {8064635867646443613 29 185} {458875536256729056 32 186} {3270250073867990866 32 187} {2052494752828626896 32 188} {2550190854741114055 32 189}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 60036 term 32 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 45522351776369596 (index 190) to leader 2
client write log 3002409029939760727 (index 191) to leader 2
client write log 8473038730944597453 (index 192) to leader 2
client write log 3878066158792428141 (index 193) to leader 2
client write log 922709290359889256 (index 194) to leader 2
client write log 609367150215427327 (index 195) to leader 2
client write log 5260263198115955476 (index 196) to leader 2
client write log 4572253549311367813 (index 197) to leader 2
client write log 7328741589698358699 (index 198) to leader 2
client write log 2710074498643650567 (index 199) to leader 2
client write log 5811413926242022587 (index 200) to leader 2
client write log 8856415074212433030 (index 201) to leader 2
client write log 5121836627421356772 (index 202) to leader 2
client write log 4912598966469844574 (index 203) to leader 2
term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 69680 term 32 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 189} {45522351776369596 32 190} {3002409029939760727 32 191} {8473038730944597453 32 192} {3878066158792428141 32 193} {922709290359889256 32 194} {609367150215427327 32 195} {5260263198115955476 32 196} {4572253549311367813 32 197} {7328741589698358699 32 198} {2710074498643650567 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 76005 term 32 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 32 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6037209368754514151 (index 204) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 9335 term 32 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 32 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
term 33 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 0
flag 73104 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 33199 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 205->204
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 56648 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 81074 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 96911 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
flag 74080 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 48663 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
flag 8825 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 87029 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36891 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 28190 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2703 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 56429 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79862 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 11283 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72101 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 89807 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7000086507091854594 (index 205) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54610 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
flag 30898 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 204 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204} {7000086507091854594 34 205}]
------------------------------------------------------
flag 1613 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 205 
------------------------------------------------------
flag 92881 term 34 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 34 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204} {7000086507091854594 34 205}]
------------------------------------------------------
client write log 9128098506070066679 (index 206) to leader 2
client write log 3783287046067148040 (index 207) to leader 2
client write log 412095308650342077 (index 208) to leader 2
client write log 1468613939486244488 (index 209) to leader 2
client write log 5845938378386021691 (index 210) to leader 2
client write log 6866944770410406658 (index 211) to leader 2
client write log 5223029293458465969 (index 212) to leader 2
client write log 8958311626285029884 (index 213) to leader 2
client write log 3602216402983853576 (index 214) to leader 2
client write log 2346311649886495608 (index 215) to leader 2
client write log 6796701609908049370 (index 216) to leader 2
client write log 7224467215604795643 (index 217) to leader 2
client write log 1185480215038437857 (index 218) to leader 2
client write log 5528264731485778649 (index 219) to leader 2
client write log 7190962933905181084 (index 220) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44738 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 205 
------------------------------------------------------
flag 57873 term 34 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 34 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 199} {5811413926242022587 32 200} {8856415074212433030 32 201} {5121836627421356772 32 202} {4912598966469844574 32 203} {6037209368754514151 32 204} {7000086507091854594 34 205} {9128098506070066679 34 206} {3783287046067148040 34 207} {412095308650342077 34 208} {1468613939486244488 34 209} {5845938378386021691 34 210} {6866944770410406658 34 211} {5223029293458465969 34 212} {8958311626285029884 34 213} {3602216402983853576 34 214} {2346311649886495608 34 215} {6796701609908049370 34 216} {7224467215604795643 34 217} {1185480215038437857 34 218} {5528264731485778649 34 219} {7190962933905181084 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=220
-------------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 72142 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {7190962933905181084 34 220}]
------------------------------------------------------
term 34 Server1 start snapshot! index=209
term 34 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=220
-------------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 0
client write log 839685178626741377 (index 221) to leader 2
term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 72550 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get outdate rpc reply from server 0
flag 17279 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 84267 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 222->221
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 92492 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48329 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 20171 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
flag 4329 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 32731 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3900 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 59298 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
flag 45286 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 46094 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
flag 97906 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 45557 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
flag 46034 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 70883 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14656 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 34366 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 4204 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 28076 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 4037 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 80313 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 23911 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 32396 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get vote from server 0
term 37 server 1 become leader
------------------------------------------------------
flag 15936 term 37 leader 1 nextIndex[0]: 222  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 44015 term 37 leader 1 nextIndex[2]: 222  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221}]
------------------------------------------------------
flag 34948 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 24934 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
client write log 9023703704459843542 (index 222) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87935 term 37 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 62097 term 37 leader 1 nextIndex[2]: 222  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222}]
------------------------------------------------------
flag 94887 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 1644 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 222->221
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69949 term 37 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 37 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222}]
------------------------------------------------------
client write log 2810823227908369257 (index 223) to leader 1
flag 11952 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 15835 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 72855 term 37 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 37 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91257 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 5036 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 19598 term 37 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 37 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6496869693282443228 (index 224) to leader 1
flag 2268 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 46854 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
term 37 server 0 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32369 term 37 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 37 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 server 2 InstallSnapshot fail
rf.commitIndex 221 args.LastIncludedIndex 219
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
flag 72354 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 39953 term 37 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
flag 12725 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 94639 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
flag 82281 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 65932 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
flag 21767 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 45645 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
flag 27839 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 67460 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82368 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 66650 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
flag 92012 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 96001 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5471041263940582377 (index 225) to leader 1
flag 95215 term 37 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 8133 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224} {5471041263940582377 37 225}]
------------------------------------------------------
flag 78545 term 37 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 37 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 15761 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224} {5471041263940582377 37 225}]
------------------------------------------------------
client write log 4219797159679038645 (index 226) to leader 1
client write log 7484914243327506086 (index 227) to leader 1
client write log 1740613878245281942 (index 228) to leader 1
client write log 8645620512689696151 (index 229) to leader 1
client write log 3530256610731991122 (index 230) to leader 1
client write log 8027575177342754742 (index 231) to leader 1
client write log 2087390185480764630 (index 232) to leader 1
client write log 9097150587358102553 (index 233) to leader 1
client write log 645801863542594689 (index 234) to leader 1
client write log 7959961718195046258 (index 235) to leader 1
client write log 22723257720170153 (index 236) to leader 1
client write log 2525931135850709451 (index 237) to leader 1
client write log 8201053135798639577 (index 238) to leader 1
client write log 3664853001728862052 (index 239) to leader 1
client write log 292461129669282839 (index 240) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58470 term 37 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 37 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
flag 74993 term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 225 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 219} {7190962933905181084 34 220} {839685178626741377 34 221} {9023703704459843542 37 222} {2810823227908369257 37 223} {6496869693282443228 37 224} {5471041263940582377 37 225} {4219797159679038645 37 226} {7484914243327506086 37 227} {1740613878245281942 37 228} {8645620512689696151 37 229} {3530256610731991122 37 230} {8027575177342754742 37 231} {2087390185480764630 37 232} {9097150587358102553 37 233} {645801863542594689 37 234} {7959961718195046258 37 235} {22723257720170153 37 236} {2525931135850709451 37 237} {8201053135798639577 37 238} {3664853001728862052 37 239} {292461129669282839 37 240}]
------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=240
-------------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 80090 term 37 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 37 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240}]
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=240
-------------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5061460654808088580 (index 241) to leader 1
term 37 server 1 not vote for server 2, 日志不够新
term 37 server 0 not vote for server 2, 日志不够新
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 1 get outdate rpc reply from server 0
flag 65830 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 82846 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 242->241
------------------------------------------------------
flag 69691 term 39 leader 1 nextIndex[0]: 241  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 37 rf.commitIndex 239 rf.lastApplied 239
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 41166 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 46054 term 39 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 39 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6750 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17230 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 62413 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 69117 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 36058 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 8944 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 22882 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 31906 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
flag 29842 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 68297 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49317 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 84560 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95151 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 1793 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 16914 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 63653 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 4918 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 87005 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 30308 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 2249 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43970 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 51854 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
update nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 98728 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 21570 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 19093 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 2155 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 43107 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 49424 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64565 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 98082 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97665 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 75733 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
flag 72365 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 5321 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241}]
------------------------------------------------------
client write log 5061460654808088580 (index 242) to leader 1
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86482 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 52783 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
flag 30302 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 71165 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58170 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 53187 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
flag 47167 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 14597 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
flag 91478 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 66139 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
flag 12287 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 89292 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76820 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 74796 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8019400680859437387 (index 243) to leader 1
flag 83929 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 29015 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242} {8019400680859437387 39 243}]
------------------------------------------------------
flag 17323 term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 59983 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242} {8019400680859437387 39 243}]
------------------------------------------------------
client write log 7393607876974166817 (index 244) to leader 1
client write log 2631157114663542185 (index 245) to leader 1
client write log 1767105229276171093 (index 246) to leader 1
client write log 1150066908561070109 (index 247) to leader 1
client write log 5102407208852703478 (index 248) to leader 1
client write log 8986406466505397793 (index 249) to leader 1
client write log 1974521717864918993 (index 250) to leader 1
client write log 5073970017206858638 (index 251) to leader 1
client write log 3911726589921138164 (index 252) to leader 1
client write log 1443164623654011093 (index 253) to leader 1
client write log 624180139096958117 (index 254) to leader 1
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86032 term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 44007 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 239} {292461129669282839 37 240} {5061460654808088580 37 241} {5061460654808088580 39 242} {8019400680859437387 39 243} {7393607876974166817 39 244} {2631157114663542185 39 245} {1767105229276171093 39 246} {1150066908561070109 39 247} {5102407208852703478 39 248} {8986406466505397793 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254}]
------------------------------------------------------
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=254
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41508 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4063264777576711689 (index 255) to leader 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get outdate rpc reply from server 0
flag 87734 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 72584 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 256->255
------------------------------------------------------
flag 19342 term 41 leader 1 nextIndex[0]: 255  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 35702 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 25952 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 36417 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 15799 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 1294 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 73950 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16481 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 87246 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 95435 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 11678 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 52988 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 78933 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 23555 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 163 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41324 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 43807 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 92116 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 70504 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 37359 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 38716 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 73918 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 18267 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 40470 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 55172 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50085 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 57802 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78076 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 62781 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 50955 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 89067 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 51306 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 74912 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
flag 51198 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 41761 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 4809 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 43420 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4063264777576711689 (index 256) to leader 1
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63614 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 69632 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
flag 71283 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 44773 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
flag 42373 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 8456 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
flag 7357 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 84786 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
flag 23132 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 83671 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
flag 83950 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 34820 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
flag 41646 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 69918 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65455 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 48444 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52311 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 7141 term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51362 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 256
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
flag 5218 term 42 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 69792 term 42 leader 0 nextIndex[2]: 257  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256}]
------------------------------------------------------
client write log 852702697211526781 (index 257) to leader 0
flag 78309 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 256
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 30787 term 42 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 13365 term 42 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 42 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257}]
------------------------------------------------------
flag 46256 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 256
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21915 term 42 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 96712 term 42 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 42 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 42 leaderCommit: 257 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257}]
------------------------------------------------------
client write log 489396587694310343 (index 258) to leader 0
flag 74906 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 256
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 60049 term 42 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 42 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 42 leaderCommit: 257 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 6557 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 256
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 51814 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 19328 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 256
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
!!!!!!connect server 1
client write log 3451138240500519029 (index 257) to leader 1
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 4188 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 14650 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 12885 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:257 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 67871 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 36784 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 2237 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 19695 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18472 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 38817 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21956 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 63184 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 84148 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 82995 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
update nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 90679 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 41480 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 82397 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 66967 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 47074 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 66856 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 36470 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 54659 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66495 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 88176 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 89082 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 14087 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 81771 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 93317 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 21866 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 62522 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 58257 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 73988 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45326 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 94009 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 9714 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 86204 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
flag 50900 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 23460 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33056 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 92755 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258}]
------------------------------------------------------
client write log 3451138240500519029 (index 259) to leader 0
flag 99228 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 54215 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258} {3451138240500519029 42 259}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {1974521717864918993 39 250} {5073970017206858638 39 251} {3911726589921138164 39 252} {1443164623654011093 39 253} {624180139096958117 39 254} {4063264777576711689 39 255} {4063264777576711689 41 256} {852702697211526781 42 257} {489396587694310343 42 258} {3451138240500519029 42 259}]
------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 47159 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
flag 86083 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 Server2 start snapshot! index=259
term 42 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 42 Server1 start snapshot! index=259
term 42 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 50680 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
flag 24390 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
flag 64158 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
flag 75979 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37031 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
flag 14970 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 260->259
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 259
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 46248 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 259 args.LastIncludedIndex 259
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5633177754752314787 (index 260) to leader 0
flag 25288 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
flag 38821 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 42 259} {5633177754752314787 42 260}]
------------------------------------------------------
flag 30322 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 36150 term 42 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 42 259} {5633177754752314787 42 260}]
------------------------------------------------------
client write log 8463665191610363687 (index 261) to leader 0
client write log 5844170310943521795 (index 262) to leader 0
client write log 1739283161416969683 (index 263) to leader 0
client write log 7804467553874072385 (index 264) to leader 0
client write log 360906074867932947 (index 265) to leader 0
client write log 5210511492389505610 (index 266) to leader 0
client write log 6533729902111001588 (index 267) to leader 0
client write log 8928228702260170199 (index 268) to leader 0
client write log 6436855983678674195 (index 269) to leader 0
client write log 4832290434726168847 (index 270) to leader 0
client write log 2165776635247575845 (index 271) to leader 0
client write log 3579169083548049008 (index 272) to leader 0
client write log 8155737171700660825 (index 273) to leader 0
client write log 7976090586612047484 (index 274) to leader 0
flag 75058 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 83548 term 42 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 42 259} {5633177754752314787 42 260} {8463665191610363687 42 261} {5844170310943521795 42 262} {1739283161416969683 42 263} {7804467553874072385 42 264} {360906074867932947 42 265} {5210511492389505610 42 266} {6533729902111001588 42 267} {8928228702260170199 42 268} {6436855983678674195 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274}]
------------------------------------------------------
term 42 Server0 start snapshot! index=269
term 42 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 78775 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8923879526434253692 (index 275) to leader 0
term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 70940 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 45231 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 92136 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 44 server 1 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 1
term 44 leader 0 nextIndex[1]: 260  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 77200 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
term 44 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 406 term 44 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 44 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 6229 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 45243 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 85889 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 88186 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 7522 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52944 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 52118 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 499 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 68401 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 78991 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 51144 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 47567 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 23677 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 88090 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 5044 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
flag 53194 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 74164 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 63847 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 1975 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24067 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 16121 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59962 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 49032 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 12743 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 78845 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96025 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 60950 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 53621 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 66103 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
flag 81670 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 32708 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67575 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 62846 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275}]
------------------------------------------------------
client write log 8923879526434253692 (index 276) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93759 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 80632 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
term 44 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
flag 25166 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 58124 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17571 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 40152 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81925 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 75570 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
flag 91522 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 27031 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70740 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 22364 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40896 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 29105 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 490035779041279496 (index 277) to leader 0
flag 38544 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 79286 term 44 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276} {490035779041279496 44 277}]
------------------------------------------------------
flag 7867 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
flag 58491 term 44 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 44 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276} {490035779041279496 44 277}]
------------------------------------------------------
client write log 3177949600562359767 (index 278) to leader 0
client write log 2031949060397937455 (index 279) to leader 0
client write log 4547327867807545643 (index 280) to leader 0
client write log 1126221551994248566 (index 281) to leader 0
client write log 8845808276770026875 (index 282) to leader 0
client write log 6768119818439387195 (index 283) to leader 0
client write log 7281640480515938666 (index 284) to leader 0
client write log 9039546320107449080 (index 285) to leader 0
client write log 5812935993637936392 (index 286) to leader 0
client write log 6978016051768112508 (index 287) to leader 0
client write log 5742780904280922869 (index 288) to leader 0
client write log 5993828857284624517 (index 289) to leader 0
client write log 1276983171292405315 (index 290) to leader 0
client write log 3371364029923008136 (index 291) to leader 0
flag 20278 term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
flag 53691 term 44 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 44 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 42 269} {4832290434726168847 42 270} {2165776635247575845 42 271} {3579169083548049008 42 272} {8155737171700660825 42 273} {7976090586612047484 42 274} {8923879526434253692 42 275} {8923879526434253692 44 276} {490035779041279496 44 277} {3177949600562359767 44 278} {2031949060397937455 44 279} {4547327867807545643 44 280} {1126221551994248566 44 281} {8845808276770026875 44 282} {6768119818439387195 44 283} {7281640480515938666 44 284} {9039546320107449080 44 285} {5812935993637936392 44 286} {6978016051768112508 44 287} {5742780904280922869 44 288} {5993828857284624517 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291}]
------------------------------------------------------
term 44 Server0 start snapshot! index=279
term 44 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 44 Server0 start snapshot! index=289
term 44 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 63463 term 44 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 44 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=291
-------------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8433614400592011187 (index 292) to leader 0
term 44 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 33367 term 44 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 44 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 10365 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 12693 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 293->292
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 32730 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 44 rf.commitIndex 289 rf.lastApplied 289
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
flag 17030 term 46 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 28237 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
flag 96589 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 80462 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
flag 45183 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 21799 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
flag 98483 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 21791 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
flag 88240 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 12910 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
flag 59572 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 88241 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
!!!!!!diconnect server 0
flag 57294 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 34208 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 39384 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 68409 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 25223 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 60974 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 30819 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 61005 term 46 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
flag 40477 term 47 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 12155 term 47 leader 2 nextIndex[1]: 293  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 293->292
------------------------------------------------------
client write log 6874648817074909396 (index 293) to leader 2
flag 26629 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 292
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 45193 term 47 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 72170 term 47 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293}]
------------------------------------------------------
flag 18269 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 292
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 40792 term 47 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 92934 term 47 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293}]
------------------------------------------------------
client write log 1607510923531851001 (index 294) to leader 2
flag 13582 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 292
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 36639 term 47 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 51465 term 47 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294}]
------------------------------------------------------
flag 1029 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 292
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 84263 term 47 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 97653 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7589576267420222136 (index 295) to leader 2
flag 33157 term 46 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 292
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 server 1 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5285 term 47 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 15581 term 47 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 47 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 295
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 88131 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 server 0 InstallSnapshot fail
rf.commitIndex 292 args.LastIncludedIndex 289
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 44497 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 22243 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
flag 46223 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 60841 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3486 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 13365 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 295
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 85703 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 47 server 0 InstallSnapshot fail
rf.commitIndex 295 args.LastIncludedIndex 289
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 36748 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 6662 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
flag 69924 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 90904 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 376115537539597527 (index 296) to leader 2
flag 36838 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 51758 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295} {376115537539597527 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21567 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 51796 term 47 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 47 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295} {376115537539597527 47 296}]
------------------------------------------------------
client write log 3375007593534959988 (index 297) to leader 2
client write log 409538045241908503 (index 298) to leader 2
client write log 4166878690757000888 (index 299) to leader 2
client write log 4989362676697973823 (index 300) to leader 2
client write log 774215257930887871 (index 301) to leader 2
client write log 5589360514820191399 (index 302) to leader 2
client write log 8131496629876325865 (index 303) to leader 2
client write log 7782362637771202030 (index 304) to leader 2
client write log 7356174073984302797 (index 305) to leader 2
client write log 5821039828186717987 (index 306) to leader 2
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9906 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 35676 term 47 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 47 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 289} {1276983171292405315 44 290} {3371364029923008136 44 291} {8433614400592011187 44 292} {6874648817074909396 47 293} {1607510923531851001 47 294} {7589576267420222136 47 295} {376115537539597527 47 296} {3375007593534959988 47 297} {409538045241908503 47 298} {4166878690757000888 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306}]
------------------------------------------------------
term 47 Server2 start snapshot! index=299
term 47 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 93626 term 47 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306}]
------------------------------------------------------
term 47 Server1 start snapshot! index=299
term 47 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 7628519276157081513 (index 307) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 55231 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 36901 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 59371 term 49 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 47 rf.commitIndex 299 rf.lastApplied 299
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 26140 term 49 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 49 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 30395 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 73809 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 85346 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87986 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 54149 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 87376 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 27665 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 73415 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 71640 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43345 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 8029 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 9003 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 12540 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 69142 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 97428 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 97650 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 68526 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99695 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 6291 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 55018 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 12027 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 86054 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 96690 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4072 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 30552 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 67295 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 76064 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 39368 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 72088 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 48937 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 74168 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 74945 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 71503 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
flag 95635 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 94778 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307}]
------------------------------------------------------
client write log 7628519276157081513 (index 308) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59253 term 49 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 80859 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
flag 29775 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 35181 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
flag 42380 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 82082 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49402 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 90178 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35453 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 79045 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
flag 40807 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 55099 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18094 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 33382 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 838737195901226992 (index 309) to leader 2
flag 62941 term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 46663 term 49 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 49 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 299} {4989362676697973823 47 300} {774215257930887871 47 301} {5589360514820191399 47 302} {8131496629876325865 47 303} {7782362637771202030 47 304} {7356174073984302797 47 305} {5821039828186717987 47 306} {7628519276157081513 47 307} {7628519276157081513 49 308} {838737195901226992 49 309}]
------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 97496 term 49 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 2957779600148197133 (index 310) to leader 2
client write log 6555704040660195819 (index 311) to leader 2
client write log 2705184335032593845 (index 312) to leader 2
client write log 6018014443654254015 (index 313) to leader 2
client write log 3205046535424892795 (index 314) to leader 2
client write log 2731841786356503876 (index 315) to leader 2
client write log 8332761607214559684 (index 316) to leader 2
client write log 6687685114912876911 (index 317) to leader 2
client write log 1951601252536022299 (index 318) to leader 2
client write log 5313121347328572106 (index 319) to leader 2
client write log 5424506118458614401 (index 320) to leader 2
term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 73161 term 49 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 49 309} {2957779600148197133 49 310} {6555704040660195819 49 311} {2705184335032593845 49 312} {6018014443654254015 49 313} {3205046535424892795 49 314} {2731841786356503876 49 315} {8332761607214559684 49 316} {6687685114912876911 49 317} {1951601252536022299 49 318} {5313121347328572106 49 319} {5424506118458614401 49 320}]
------------------------------------------------------
term 49 Server2 start snapshot! index=319
term 49 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=320
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 36796 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320}]
------------------------------------------------------
term 49 Server1 start snapshot! index=319
term 49 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4707950893937314819 (index 321) to leader 2
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 1 not vote for server 0, 日志不够新
term 51 server 1 vote for server 2
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 62068 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 8218 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 322->321
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 322->321
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 64291 term 51 leader 2 nextIndex[1]: 321  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 49 rf.commitIndex 319 rf.lastApplied 319
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
flag 75453 term 51 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 51 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 46129 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3817 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 9114 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15786 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 65436 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 42650 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 30290 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2257 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 80334 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 5639 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 14608 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 26805 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 2457 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34081 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 99669 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 29055 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 10224 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13477 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 95962 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44379 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 18380 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 8154 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 36344 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 59867 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 47314 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 12332 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 27268 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 98539 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 13684 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91156 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 95473 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
flag 10638 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 56608 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321}]
------------------------------------------------------
client write log 4707950893937314819 (index 322) to leader 2
flag 10720 term 51 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 46021 term 51 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 51 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
flag 69903 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 12564 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98806 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 11426 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
flag 10230 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 68043 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
flag 71157 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 45345 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
flag 39304 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 67109 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 73913 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 81616 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 69234 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 57965 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 26093 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 29943 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 1
term 52 server 0 become leader
------------------------------------------------------
client write log 7489106062448031983 (index 323) to leader 0
flag 44080 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 913 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322} {7489106062448031983 52 323}]
------------------------------------------------------
flag 42104 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 64833 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 46938 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 66999 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322} {7489106062448031983 52 323}]
------------------------------------------------------
client write log 55916366924388543 (index 324) to leader 0
client write log 1829960693828528194 (index 325) to leader 0
client write log 8216608910681636610 (index 326) to leader 0
client write log 5743975021025211270 (index 327) to leader 0
client write log 7042903390437699273 (index 328) to leader 0
client write log 8634631895130217008 (index 329) to leader 0
client write log 7952951561574403706 (index 330) to leader 0
client write log 6838409913039678128 (index 331) to leader 0
client write log 3362375994940242280 (index 332) to leader 0
client write log 4988782338958092272 (index 333) to leader 0
client write log 2475416512338897410 (index 334) to leader 0
client write log 1645300342505023621 (index 335) to leader 0
client write log 7295490678279683067 (index 336) to leader 0
client write log 1493364041134001312 (index 337) to leader 0
client write log 2228082794616878245 (index 338) to leader 0
flag 84621 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 4000 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 8631 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 19403 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 49 319} {5424506118458614401 49 320} {4707950893937314819 49 321} {4707950893937314819 51 322} {7489106062448031983 52 323} {55916366924388543 52 324} {1829960693828528194 52 325} {8216608910681636610 52 326} {5743975021025211270 52 327} {7042903390437699273 52 328} {8634631895130217008 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 Server0 start snapshot! index=329
term 52 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=338
-------------------------------------------------------------
flag 41918 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 64198 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 40271 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 Server1 start snapshot! index=329
term 52 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=338
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7623514377967108394 (index 323) to leader 2
flag 28964 term 51 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 39366 term 51 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37124 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 52 rf.commitIndex 329 rf.lastApplied 329
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8911 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 16827 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6805 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 30725 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 48799 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 91202 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27024 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 63112 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 57206 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 74052 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 25708 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 77723 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 3103 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 24823 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 22423 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 512 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59845 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 3685 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 86533 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 28319 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 339->338
------------------------------------------------------
flag 44767 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 0  matchIndex[2]: 338
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 338 args.LastIncludedIndex 329
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 8896 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 79540 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 97823 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 93328 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 339->338
------------------------------------------------------
flag 51755 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 0  matchIndex[2]: 338
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 338 args.LastIncludedIndex 329
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 12447 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 18803 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
flag 64280 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 67946 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
flag 14481 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 12964 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19996 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 22242 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63890 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 31747 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338}]
------------------------------------------------------
client write log 7623514377967108394 (index 339) to leader 0
flag 11886 term 52 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
flag 17867 term 52 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 52 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 52 leaderCommit: 338 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338} {7623514377967108394 52 339}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 329} {7952951561574403706 52 330} {6838409913039678128 52 331} {3362375994940242280 52 332} {4988782338958092272 52 333} {2475416512338897410 52 334} {1645300342505023621 52 335} {7295490678279683067 52 336} {1493364041134001312 52 337} {2228082794616878245 52 338} {7623514377967108394 52 339}]
------------------------------------------------------
term 52 Server0 start snapshot! index=339
term 52 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
flag 94189 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 32665 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
term 52 Server2 start snapshot! index=339
term 52 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 52 Server1 start snapshot! index=339
term 52 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
flag 32171 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 57823 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
flag 43257 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 25612 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
flag 89962 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 83747 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14171 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 2794 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
flag 34634 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 70793 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 339}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2970223981053513737 (index 340) to leader 0
flag 30964 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
flag 68559 term 52 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 339 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {2970223981053513737 52 340}]
------------------------------------------------------
flag 50183 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 11416 term 52 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 52 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {2970223981053513737 52 340}]
------------------------------------------------------
client write log 8289394032142404665 (index 341) to leader 0
client write log 9072541311982734942 (index 342) to leader 0
client write log 4208948373042838931 (index 343) to leader 0
client write log 8145286239710971502 (index 344) to leader 0
client write log 5395620792838673539 (index 345) to leader 0
client write log 3692837326087000876 (index 346) to leader 0
client write log 6362028052291713836 (index 347) to leader 0
client write log 651892090302998737 (index 348) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3824 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 82740 term 52 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 52 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 340->339
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 339
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 73543 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6829705100565944516 (index 349) to leader 0
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 339
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 85201 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get outdate rpc reply from server 1
flag 98439 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 78071 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
flag 75209 term 54 leader 0 nextIndex[1]: 340  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 99943 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 83800 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 44854 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70655 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 20590 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 2 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 2
flag 38385 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 45044 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 72616 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 91141 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 4968 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 98833 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 21403 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 69113 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 10815 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 49059 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 3132 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 26595 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50728 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 67 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 55899 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 13903 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 52213 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 1757 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 90909 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 54140 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 94443 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 45978 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 43025 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 85132 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
flag 99169 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 83313 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
flag 8198 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 21866 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349}]
------------------------------------------------------
client write log 6829705100565944516 (index 350) to leader 0
flag 25189 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 36554 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 339} {2970223981053513737 52 340} {8289394032142404665 52 341} {9072541311982734942 52 342} {4208948373042838931 52 343} {8145286239710971502 52 344} {5395620792838673539 52 345} {3692837326087000876 52 346} {6362028052291713836 52 347} {651892090302998737 52 348} {6829705100565944516 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
term 54 Server0 start snapshot! index=349
term 54 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60313 term 54 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
flag 75335 term 54 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
term 54 Server2 start snapshot! index=349
term 54 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
term 54 Server1 start snapshot! index=349
term 54 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
flag 51094 term 54 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
flag 97642 term 54 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
flag 30524 term 54 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
flag 52996 term 54 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
flag 13268 term 54 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
flag 6747 term 54 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
flag 55687 term 54 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
flag 8782 term 54 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 54 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 54 leaderCommit: 350 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:350 
term 54 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {6829705100565944516 54 350}]
------------------------------------------------------
  ... Passed --  74.1  3 1705  783798  350
--- PASS: TestSnapshotInstall2D (74.06s)
PASS
