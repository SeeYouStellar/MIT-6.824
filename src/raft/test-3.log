=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 31146 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 12454 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8868257204612585639 (index 1) to leader 0
flag 29626 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
[{8868257204612585639 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 48776 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
[{8868257204612585639 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
flag 45809 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 15747 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8868257204612585639 1 1}]
------------------------------------------------------
client write log 981769005658432297 (index 2) to leader 0
flag 63969 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[{981769005658432297 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84133 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[{981769005658432297 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
flag 49764 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 12495 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2}]
------------------------------------------------------
client write log 6787294194221435343 (index 3) to leader 0
flag 58328 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[{6787294194221435343 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 70222 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[{6787294194221435343 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
flag 20462 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 30234 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3}]
------------------------------------------------------
client write log 5646105585806314339 (index 4) to leader 0
flag 12367 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[{5646105585806314339 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 13148 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[{5646105585806314339 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
flag 54700 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 46016 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4}]
------------------------------------------------------
client write log 1666242121629354921 (index 5) to leader 0
flag 58138 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[{1666242121629354921 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 96834 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[{1666242121629354921 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
flag 10107 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 22567 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5}]
------------------------------------------------------
client write log 5362873984933509825 (index 6) to leader 0
flag 46981 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[{5362873984933509825 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 94364 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[{5362873984933509825 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
flag 28964 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 69291 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6}]
------------------------------------------------------
client write log 8172257461320485080 (index 7) to leader 0
flag 73342 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[{8172257461320485080 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 92781 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[{8172257461320485080 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
flag 9618 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 48458 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 0 logs [{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 0 logs [{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 0 logs [{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
!!!!!! server 2 crash
flag 93825 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 92641 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 2 server 2 vote for server 1
term 2 server 0 vote for server 1
term 2 server 1 get vote from server 2
term 2 server 1 become leader
------------------------------------------------------
term 2 server 1 get outdate rpc reply from server 0
flag 29227 term 2 leader 1 nextIndex[0]: 8  matchIndex[0]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
flag 30328 term 2 leader 1 nextIndex[2]: 8  matchIndex[2]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7}]
------------------------------------------------------
client write log 2955086534863760850 (index 8) to leader 1
flag 49069 term 2 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[{2955086534863760850 2 8}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
flag 2104 term 2 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[{2955086534863760850 2 8}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
flag 88691 term 2 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
flag 50865 term 2 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8}]
------------------------------------------------------
client write log 1486535349755308945 (index 9) to leader 1
flag 90282 term 2 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[{1486535349755308945 2 9}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
flag 34568 term 2 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[{1486535349755308945 2 9}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 2 leaderCommit: 8 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8} {1486535349755308945 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8} {1486535349755308945 2 9}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8} {1486535349755308945 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8} {1486535349755308945 2 9}]
------------------------------------------------------
term 2 Server1 start snapshot! index=9
term 2 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 94679 term 2 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 12828 term 2 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8} {1486535349755308945 2 9}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {8868257204612585639 1 1} {981769005658432297 1 2} {6787294194221435343 1 3} {5646105585806314339 1 4} {1666242121629354921 1 5} {5362873984933509825 1 6} {8172257461320485080 1 7} {2955086534863760850 2 8} {1486535349755308945 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 2 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 2 9}]
------------------------------------------------------
term 2 Server2 start snapshot! index=9
term 2 Server0 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 2 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 3542097139494659952 (index 10) to leader 1
flag 62281 term 2 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
[{3542097139494659952 2 10}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 18317 term 2 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
[{3542097139494659952 2 10}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
flag 36663 term 2 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
flag 68997 term 2 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {3542097139494659952 2 10}]
------------------------------------------------------
client write log 4463380212539796666 (index 11) to leader 1
flag 55398 term 2 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[{4463380212539796666 2 11}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
flag 17485 term 2 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[{4463380212539796666 2 11}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:10 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
flag 35406 term 2 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 33 term 2 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11}]
------------------------------------------------------
client write log 9093774633174445773 (index 12) to leader 1
flag 18057 term 2 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[{9093774633174445773 2 12}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 34621 term 2 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[{9093774633174445773 2 12}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
flag 82270 term 2 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 14805 term 2 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12}]
------------------------------------------------------
client write log 3123415065876742710 (index 13) to leader 1
flag 75236 term 2 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[{3123415065876742710 2 13}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 38284 term 2 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[{3123415065876742710 2 13}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
flag 65261 term 2 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 88262 term 2 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13}]
------------------------------------------------------
client write log 5353499103820919275 (index 14) to leader 1
flag 15976 term 2 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[{5353499103820919275 2 14}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 74452 term 2 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[{5353499103820919275 2 14}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
flag 61660 term 2 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 19638 term 2 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14}]
------------------------------------------------------
client write log 5285345994049949473 (index 15) to leader 1
flag 57764 term 2 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[{5285345994049949473 2 15}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 36852 term 2 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[{5285345994049949473 2 15}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
flag 62264 term 2 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 33836 term 2 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15}]
------------------------------------------------------
client write log 4090621151010242937 (index 16) to leader 1
flag 78009 term 2 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
[{4090621151010242937 2 16}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 48735 term 2 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
[{4090621151010242937 2 16}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
flag 64981 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 57531 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16}]
------------------------------------------------------
client write log 1790043206787427682 (index 17) to leader 1
flag 67782 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[{1790043206787427682 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 53792 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[{1790043206787427682 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 8->7
------------------------------------------------------
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
flag 14415 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 66680 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17}]
------------------------------------------------------
client write log 7748477886851391922 (index 18) to leader 1
flag 35116 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[{7748477886851391922 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 62942 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[{7748477886851391922 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
flag 73231 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 40153 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18}]
------------------------------------------------------
client write log 5099531632065158838 (index 19) to leader 1
flag 31742 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[{5099531632065158838 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 47270 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[{5099531632065158838 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18} {5099531632065158838 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18} {5099531632065158838 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18} {5099531632065158838 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18} {5099531632065158838 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 72750 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 40663 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18} {5099531632065158838 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 9} {3542097139494659952 2 10} {4463380212539796666 2 11} {9093774633174445773 2 12} {3123415065876742710 2 13} {5353499103820919275 2 14} {5285345994049949473 2 15} {4090621151010242937 2 16} {1790043206787427682 2 17} {7748477886851391922 2 18} {5099531632065158838 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 6174800210345375351 (index 20) to leader 1
flag 37863 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[{6174800210345375351 2 20}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 41830 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[{6174800210345375351 2 20}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
flag 93772 term 2 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 96990 term 2 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6174800210345375351 2 20}]
------------------------------------------------------
client write log 1018988532625199289 (index 21) to leader 1
flag 8998 term 2 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[{1018988532625199289 2 21}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 89931 term 2 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[{1018988532625199289 2 21}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
flag 43773 term 2 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 76173 term 2 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21}]
------------------------------------------------------
client write log 6589641623096694686 (index 22) to leader 1
flag 75342 term 2 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[{6589641623096694686 2 22}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 19771 term 2 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[{6589641623096694686 2 22}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
flag 22812 term 2 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 3350 term 2 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22}]
------------------------------------------------------
client write log 4655491428673948302 (index 23) to leader 1
flag 48326 term 2 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{4655491428673948302 2 23}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 89010 term 2 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{4655491428673948302 2 23}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
flag 2262 term 2 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 92831 term 2 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 1 logs [{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 1 logs [{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 1 logs [{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23}]
!!!!!! server 2 crash
flag 88727 term 2 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 3396 term 2 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
client write log 7325953885239969704 (index 24) to leader 1
flag 69167 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 0
[{7325953885239969704 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 99711 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 0
[{7325953885239969704 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
flag 78701 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 38819 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24}]
------------------------------------------------------
client write log 1249718924883740138 (index 25) to leader 1
flag 47088 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{1249718924883740138 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 82887 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{1249718924883740138 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
flag 25184 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 14245 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25}]
------------------------------------------------------
client write log 1347862270911756210 (index 26) to leader 1
flag 77550 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{1347862270911756210 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 78726 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{1347862270911756210 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
flag 17269 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 69237 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26}]
------------------------------------------------------
client write log 4486458557151447707 (index 27) to leader 1
flag 99012 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[{4486458557151447707 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 91852 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[{4486458557151447707 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
flag 90231 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 85812 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27}]
------------------------------------------------------
client write log 5350909507183095071 (index 28) to leader 1
flag 61880 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[{5350909507183095071 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 81339 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[{5350909507183095071 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
flag 35816 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 63041 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28}]
------------------------------------------------------
client write log 2952878079416432274 (index 29) to leader 1
flag 59254 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[{2952878079416432274 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 88214 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[{2952878079416432274 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28} {2952878079416432274 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28} {2952878079416432274 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28} {2952878079416432274 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28} {2952878079416432274 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 84435 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 10942 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28} {2952878079416432274 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {6174800210345375351 2 20} {1018988532625199289 2 21} {6589641623096694686 2 22} {4655491428673948302 2 23} {7325953885239969704 3 24} {1249718924883740138 3 25} {1347862270911756210 3 26} {4486458557151447707 3 27} {5350909507183095071 3 28} {2952878079416432274 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 7348249918016563479 (index 30) to leader 1
flag 93689 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[{7348249918016563479 3 30}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 35904 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[{7348249918016563479 3 30}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
flag 80249 term 3 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 5264 term 3 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:30 
server 2 log:
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {7348249918016563479 3 30}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {7348249918016563479 3 30}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {7348249918016563479 3 30}]
!!!!!! server 2 crash
flag 55332 term 3 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 66472 term 3 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
term 4 server 2 get outdate rpc reply from server 1
flag 64543 term 4 leader 2 nextIndex[0]: 31  matchIndex[0]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 60333 term 4 leader 2 nextIndex[1]: 31  matchIndex[1]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {7348249918016563479 3 30}]
------------------------------------------------------
client write log 4327857226612204540 (index 31) to leader 2
flag 2390 term 4 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[{4327857226612204540 4 31}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 79244 term 4 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[{4327857226612204540 4 31}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 8->7
------------------------------------------------------
flag 40132 term 4 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 41232 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31}]
------------------------------------------------------
client write log 9107012048490416009 (index 32) to leader 2
flag 21020 term 4 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[{9107012048490416009 4 32}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 87759 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[{9107012048490416009 4 32}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
flag 76885 term 4 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 62718 term 4 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32}]
------------------------------------------------------
client write log 8843555454113461465 (index 33) to leader 2
flag 46839 term 4 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[{8843555454113461465 4 33}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 9823 term 4 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[{8843555454113461465 4 33}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
flag 72015 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 22006 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33}]
------------------------------------------------------
client write log 4324573756280396741 (index 34) to leader 2
flag 53431 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[{4324573756280396741 4 34}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 32478 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[{4324573756280396741 4 34}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
flag 70457 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 66452 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34}]
------------------------------------------------------
client write log 4538317245230947295 (index 35) to leader 2
flag 38654 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{4538317245230947295 4 35}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 76763 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{4538317245230947295 4 35}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
flag 12198 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 69517 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35}]
------------------------------------------------------
client write log 2839859134602339175 (index 36) to leader 2
flag 84824 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{2839859134602339175 4 36}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 86198 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{2839859134602339175 4 36}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 24->23
------------------------------------------------------
flag 65835 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 94894 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36}]
------------------------------------------------------
client write log 7622599979628535832 (index 37) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 24->23
------------------------------------------------------
flag 60237 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{7622599979628535832 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 38600 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{7622599979628535832 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
flag 64354 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 38238 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37}]
------------------------------------------------------
client write log 5438815649710332060 (index 38) to leader 2
flag 5020 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{5438815649710332060 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 3220 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{5438815649710332060 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
flag 1409 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 93572 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38}]
------------------------------------------------------
client write log 7356339559935154561 (index 39) to leader 2
flag 76428 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[{7356339559935154561 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 54032 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[{7356339559935154561 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38} {7356339559935154561 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38} {7356339559935154561 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38} {7356339559935154561 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38} {7356339559935154561 4 39}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 54128 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 86001 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38} {7356339559935154561 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {7348249918016563479 3 30} {4327857226612204540 4 31} {9107012048490416009 4 32} {8843555454113461465 4 33} {4324573756280396741 4 34} {4538317245230947295 4 35} {2839859134602339175 4 36} {7622599979628535832 4 37} {5438815649710332060 4 38} {7356339559935154561 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 6471372164992226061 (index 40) to leader 2
flag 8745 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[{6471372164992226061 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 5617 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[{6471372164992226061 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
flag 27723 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 75145 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6471372164992226061 4 40}]
------------------------------------------------------
client write log 551079485545395883 (index 41) to leader 2
flag 27630 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[{551079485545395883 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 79027 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[{551079485545395883 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
flag 8440 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 92179 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41}]
------------------------------------------------------
client write log 2581836764698865725 (index 42) to leader 2
flag 6373 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[{2581836764698865725 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 83447 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[{2581836764698865725 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
flag 76961 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 53859 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42}]
------------------------------------------------------
client write log 3127787454226816148 (index 43) to leader 2
flag 95182 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[{3127787454226816148 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 88746 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[{3127787454226816148 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
flag 84514 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 80125 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43}]
------------------------------------------------------
client write log 5297466142624160526 (index 44) to leader 2
flag 77412 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[{5297466142624160526 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 22658 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[{5297466142624160526 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
flag 45012 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 86346 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44}]
------------------------------------------------------
client write log 6680927222997652245 (index 45) to leader 2
flag 32128 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[{6680927222997652245 4 45}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 27718 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[{6680927222997652245 4 45}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
flag 40723 term 4 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 69048 term 4 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45}]
------------------------------------------------------
client write log 47254940136414106 (index 46) to leader 2
flag 61410 term 4 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[{47254940136414106 4 46}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 85385 term 4 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[{47254940136414106 4 46}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
flag 14251 term 4 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 64257 term 4 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
!!!!!! server 2 crash
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 5 server 2 vote for server 0
term 5 server 0 get vote from server 2
term 5 server 0 become leader
------------------------------------------------------
term 5 server 1 vote for server 0
term 5 server 0 get outdate rpc reply from server 1
flag 91686 term 5 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 43967 term 5 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46}]
------------------------------------------------------
client write log 1115222746469293619 (index 47) to leader 0
flag 96312 term 5 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[{1115222746469293619 5 47}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 9382 term 5 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[{1115222746469293619 5 47}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
flag 73233 term 5 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 45395 term 5 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47}]
------------------------------------------------------
client write log 4674340683614696565 (index 48) to leader 0
flag 54764 term 5 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[{4674340683614696565 5 48}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 73183 term 5 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[{4674340683614696565 5 48}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
flag 72538 term 5 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 2471 term 5 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48}]
------------------------------------------------------
client write log 5639077498701038461 (index 49) to leader 0
flag 2518 term 5 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[{5639077498701038461 5 49}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 76667 term 5 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[{5639077498701038461 5 49}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48} {5639077498701038461 5 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48} {5639077498701038461 5 49}]
------------------------------------------------------
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48} {5639077498701038461 5 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48} {5639077498701038461 5 49}]
------------------------------------------------------
term 5 Server0 start snapshot! index=49
term 5 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 58112 term 5 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 27182 term 5 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48} {5639077498701038461 5 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 39} {6471372164992226061 4 40} {551079485545395883 4 41} {2581836764698865725 4 42} {3127787454226816148 4 43} {5297466142624160526 4 44} {6680927222997652245 4 45} {47254940136414106 4 46} {1115222746469293619 5 47} {4674340683614696565 5 48} {5639077498701038461 5 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 Server1 start snapshot! index=49
term 5 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 5 Server2 start snapshot! index=49
term 5 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 8743715405213706770 (index 50) to leader 0
flag 29472 term 5 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[{8743715405213706770 5 50}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 68955 term 5 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[{8743715405213706770 5 50}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
flag 67147 term 5 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 96974 term 5 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8743715405213706770 5 50}]
------------------------------------------------------
client write log 8177973751652517375 (index 51) to leader 0
flag 72430 term 5 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[{8177973751652517375 5 51}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 30491 term 5 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[{8177973751652517375 5 51}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
flag 63898 term 5 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 27281 term 5 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51}]
------------------------------------------------------
client write log 3341444247360032409 (index 52) to leader 0
flag 63033 term 5 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[{3341444247360032409 5 52}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 3204 term 5 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[{3341444247360032409 5 52}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
flag 40644 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 61985 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52}]
------------------------------------------------------
client write log 2211137360842159237 (index 53) to leader 0
flag 51435 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[{2211137360842159237 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 4980 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[{2211137360842159237 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
flag 52076 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 77510 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53}]
------------------------------------------------------
client write log 3886213941461971209 (index 54) to leader 0
flag 12188 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[{3886213941461971209 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 88100 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[{3886213941461971209 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
flag 76809 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 51156 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54}]
------------------------------------------------------
client write log 1674330166925914366 (index 55) to leader 0
flag 8752 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[{1674330166925914366 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 52048 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[{1674330166925914366 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
flag 6633 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 26827 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55}]
------------------------------------------------------
client write log 9181381392800318658 (index 56) to leader 0
flag 8613 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[{9181381392800318658 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 14147 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[{9181381392800318658 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
flag 76896 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 69040 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56}]
------------------------------------------------------
client write log 1491781142680904481 (index 57) to leader 0
flag 62012 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[{1491781142680904481 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 19684 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[{1491781142680904481 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
------------------------------------------------------
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
flag 20526 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 26395 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
client write log 8642863734887989369 (index 58) to leader 0
flag 41784 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[{8642863734887989369 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 44441 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[{8642863734887989369 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
flag 19612 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 59754 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 0 logs [{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 0 logs [{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 0 logs [{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
!!!!!! server 2 crash
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 46356 term 6 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 36762 term 6 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58}]
------------------------------------------------------
client write log 3230776536330447874 (index 59) to leader 0
flag 3142 term 6 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[{3230776536330447874 6 59}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 34127 term 6 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[{3230776536330447874 6 59}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
server 1 log:
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58} {3230776536330447874 6 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58} {3230776536330447874 6 59}]
------------------------------------------------------
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58} {3230776536330447874 6 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58} {3230776536330447874 6 59}]
------------------------------------------------------
term 6 Server0 start snapshot! index=59
term 6 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 20929 term 6 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
flag 64858 term 6 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58} {3230776536330447874 6 59}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 49} {8743715405213706770 5 50} {8177973751652517375 5 51} {3341444247360032409 5 52} {2211137360842159237 5 53} {3886213941461971209 5 54} {1674330166925914366 5 55} {9181381392800318658 5 56} {1491781142680904481 5 57} {8642863734887989369 5 58} {3230776536330447874 6 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 59}]
------------------------------------------------------
term 6 Server1 start snapshot! index=59
term 6 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 6 Server2 start snapshot! index=59
term 6 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
  ... Passed --  13.3  3  284   84083   59
--- PASS: TestSnapshotAllCrash2D (13.27s)
PASS
