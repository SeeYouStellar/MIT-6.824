=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 47432 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 61376 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7839812006304252112 (index 1) to leader 2
flag 10731 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 459 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
flag 94511 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39774 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
flag 62974 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79699 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
flag 9712 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62044 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
flag 50768 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98705 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
flag 26186 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57581 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
flag 26293 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 16854 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7839812006304252112 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5155798669517032563 (index 2) to leader 2
flag 43594 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89659 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7839812006304252112 1 1} {5155798669517032563 1 2}]
------------------------------------------------------
flag 54929 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 3771 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7839812006304252112 1 1} {5155798669517032563 1 2}]
------------------------------------------------------
client write log 8176203553569245481 (index 3) to leader 2
client write log 2750469838357018978 (index 4) to leader 2
client write log 1695911350574446258 (index 5) to leader 2
client write log 7007471275542400619 (index 6) to leader 2
client write log 1234144709330978827 (index 7) to leader 2
client write log 7467293075595480348 (index 8) to leader 2
flag 13661 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 14105 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7839812006304252112 1 1} {5155798669517032563 1 2} {8176203553569245481 1 3} {2750469838357018978 1 4} {1695911350574446258 1 5} {7007471275542400619 1 6} {1234144709330978827 1 7} {7467293075595480348 1 8}]
------------------------------------------------------
flag 43251 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86892 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7839812006304252112 1 1} {5155798669517032563 1 2} {8176203553569245481 1 3} {2750469838357018978 1 4} {1695911350574446258 1 5} {7007471275542400619 1 6} {1234144709330978827 1 7} {7467293075595480348 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 781663977634823104 (index 9) to leader 2
flag 3611 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 95351 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {7839812006304252112 1 1} {5155798669517032563 1 2} {8176203553569245481 1 3} {2750469838357018978 1 4} {1695911350574446258 1 5} {7007471275542400619 1 6} {1234144709330978827 1 7} {7467293075595480348 1 8} {781663977634823104 1 9}]
------------------------------------------------------
term 2 server 0 AppendEntries false 领导者任期过期 args.Term 1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 2 Server2 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 2 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get outdate rpc reply from server 1
flag 4949 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 39467 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
term 4 Server1 start snapshot! index=9
term 4 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 93620 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 34194 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 49271 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 1 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 1
flag 88863 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 60604 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 56352 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 7527 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 51704 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 54536 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97894 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 30901 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 98223 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 32632 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 28418 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 16261 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 40355 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 88490 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 5 server 0 vote for server 1
term 5 server 1 get vote from server 0
term 5 server 1 become leader
------------------------------------------------------
client write log 7208655993206574013 (index 10) to leader 1
flag 26428 term 5 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 67742 term 5 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7208655993206574013 5 10}]
------------------------------------------------------
flag 78391 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 8562 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 58797 term 5 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 5 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 5 leaderCommit: 10 
------------------------------------------------------
flag 92700 term 5 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7208655993206574013 5 10}]
------------------------------------------------------
client write log 3760472482152190445 (index 11) to leader 1
flag 39370 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 60268 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 58235 term 5 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 5 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 5 leaderCommit: 10 
------------------------------------------------------
flag 31902 term 5 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 61797 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 72156 term 5 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 95651 term 5 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11}]
------------------------------------------------------
!!!!!!connect server 2
client write log 827400976349190571 (index 12) to leader 1
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 24110 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 5 server 1 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 5 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32916 term 5 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 11144 term 5 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
flag 93137 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 5 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 5 server 2 InstallSnapshot fail
rf.commitIndex 9 args.LastIncludedIndex 9
------------------------------------------------------
term 5 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
flag 91360 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 19735 term 5 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 5 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54750 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 27946 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
flag 84683 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 48046 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81189 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 88699 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31138 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 87245 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
flag 8290 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 66410 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3922774688406509601 (index 13) to leader 1
flag 33883 term 5 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
flag 59399 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 12 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12} {3922774688406509601 5 13}]
------------------------------------------------------
flag 70816 term 5 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 79731 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12} {3922774688406509601 5 13}]
------------------------------------------------------
client write log 1183242686421100866 (index 14) to leader 1
client write log 6148421965495246361 (index 15) to leader 1
client write log 3049906776959380406 (index 16) to leader 1
client write log 7588553680976726978 (index 17) to leader 1
client write log 5798321439612603801 (index 18) to leader 1
client write log 729990414578457281 (index 19) to leader 1
client write log 2664690611957393593 (index 20) to leader 1
client write log 7896625409831886361 (index 21) to leader 1
client write log 5341832327926917240 (index 22) to leader 1
flag 99208 term 5 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 5 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
flag 62443 term 5 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 5 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 5 leaderCommit: 13 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {7208655993206574013 5 10} {3760472482152190445 5 11} {827400976349190571 5 12} {3922774688406509601 5 13} {1183242686421100866 5 14} {6148421965495246361 5 15} {3049906776959380406 5 16} {7588553680976726978 5 17} {5798321439612603801 5 18} {729990414578457281 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22}]
------------------------------------------------------
term 5 Server1 start snapshot! index=19
term 5 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
flag 2792 term 5 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 5 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 5 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 5 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22}]
------------------------------------------------------
term 5 Server0 start snapshot! index=19
term 5 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4793939704149958309 (index 23) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 31637 term 5 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 5 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 5 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 5 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 6 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 5 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 2 vote for server 1
term 7 server 0 vote for server 1
term 7 server 1 get vote from server 2
term 7 server 1 become leader
------------------------------------------------------
term 7 server 1 get outdate rpc reply from server 0
flag 43127 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 0
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 82105 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 0
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 24->23
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 82462 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 7 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 7 server 2 InstallSnapshot success
------------------------------------------------------
term 7 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 5 rf.commitIndex 19 rf.lastApplied 19
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68857 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 52394 term 7 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 7 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 68796 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 87480 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 64254 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 42185 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 866 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 30996 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97672 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 86826 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 63763 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 10138 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 2 not vote for server 0, 任期不够新
term 7 server 0 get outdate rpc reply from server 2
flag 815 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 82462 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 2 not vote for server 1, 任期不够新
term 7 server 1 get outdate rpc reply from server 2
flag 49884 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 99000 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91293 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 7805 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 76546 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 5767 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 99966 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 83029 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 4034 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 46858 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54437 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 45077 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 6818 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 87785 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
flag 76105 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 19597 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46291 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 38784 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23}]
------------------------------------------------------
client write log 4793939704149958309 (index 24) to leader 1
flag 70108 term 7 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
flag 11809 term 7 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 7 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 5 leaderCommit: 22 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38671 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 30574 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
flag 93485 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 31900 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
flag 10355 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 52892 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
flag 50172 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 72892 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1728 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 72975 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96546 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 8286 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4598129390330712752 (index 25) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39445 term 7 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
flag 15267 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 24 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24} {4598129390330712752 7 25}]
------------------------------------------------------
flag 34928 term 7 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
flag 50724 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24} {4598129390330712752 7 25}]
------------------------------------------------------
client write log 4341207750699136918 (index 26) to leader 1
client write log 4423974041567322396 (index 27) to leader 1
client write log 1773520211863578052 (index 28) to leader 1
client write log 7885039211425484029 (index 29) to leader 1
client write log 3777743636100478462 (index 30) to leader 1
client write log 6416872465367135476 (index 31) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25411 term 7 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 7 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
flag 9388 term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 7 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 5 19} {2664690611957393593 5 20} {7896625409831886361 5 21} {5341832327926917240 5 22} {4793939704149958309 5 23} {4793939704149958309 7 24} {4598129390330712752 7 25} {4341207750699136918 7 26} {4423974041567322396 7 27} {1773520211863578052 7 28} {7885039211425484029 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31}]
------------------------------------------------------
term 7 Server1 start snapshot! index=29
term 7 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
flag 77492 term 7 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 7 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31}]
------------------------------------------------------
term 7 Server0 start snapshot! index=29
term 7 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1991512852580905205 (index 32) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11156 term 7 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 7 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 7 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 7 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
term 8 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 7 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get outdate rpc reply from server 0
flag 84542 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 54305 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 33->32
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 1
flag 23342 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 25  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 7
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 7 rf.commitIndex 29 rf.lastApplied 29
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16423 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 24384 term 9 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 9 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 25235 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 6673 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 41654 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 96046 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 21080 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 52866 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 66845 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 87310 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 208 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 9237 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9878 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 52826 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 75309 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 12381 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 12699 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 46122 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 24526 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 6829 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 82374 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 34905 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36896 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 43160 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 10609 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 89589 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74822 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 21280 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 57454 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 68736 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 57816 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 478 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
flag 4425 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 26829 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32}]
------------------------------------------------------
client write log 1991512852580905205 (index 33) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47711 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
flag 12232 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 7 leaderCommit: 31 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
flag 12367 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 30846 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
flag 68631 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 54287 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
flag 31500 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 6216 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
flag 68998 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 88686 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
flag 22340 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 51851 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 47863 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 16006 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 44256 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 79730 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 56633 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 36339 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 22995 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 29510 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
flag 67402 term 10 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 35337 term 10 leader 0 nextIndex[2]: 34  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33}]
------------------------------------------------------
client write log 5395286729367746406 (index 34) to leader 0
flag 95279 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 29100 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 73674 term 10 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 86551 term 10 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34}]
------------------------------------------------------
flag 4344 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 54875 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 10 server 0 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 0
flag 68773 term 10 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 34 
------------------------------------------------------
flag 37801 term 10 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 10 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 10 leaderCommit: 34 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34}]
------------------------------------------------------
client write log 3579839438229356526 (index 35) to leader 0
flag 77789 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 99103 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 65697 term 10 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 34 
------------------------------------------------------
flag 36492 term 10 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 10 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 10 leaderCommit: 34 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 49336 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 39346 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 52841 term 10 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 94035 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
!!!!!!connect server 1
client write log 9057999236260271228 (index 34) to leader 1
flag 54943 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 99098 term 9 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
term 10 server 2 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88754 term 10 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 4374 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 1
flag 361 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 78158 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 26452 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 61270 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49962 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 92704 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 93862 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 10254 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 2961 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 32348 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12081 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 71602 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 96737 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 54347 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93234 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 7222 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 53777 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 59680 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49570 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 49141 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 48818 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 598 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51268 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 13570 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 9812 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 35841 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 30709 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 83553 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 99635 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 45902 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 33373 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 29239 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 63034 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 36018 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
flag 96887 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 67308 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60743 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 69122 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35}]
------------------------------------------------------
client write log 9057999236260271228 (index 36) to leader 0
flag 31820 term 10 leader 0 nextIndex[1]: 36  matchIndex[1]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
flag 4732 term 10 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 10 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 10 leaderCommit: 35 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
flag 19501 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
flag 64953 term 10 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
flag 98826 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
flag 23634 term 10 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
flag 42907 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
flag 40646 term 10 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
flag 90802 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
flag 86867 term 10 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
flag 4230 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
flag 1009 term 10 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8521740147643329799 (index 37) to leader 0
flag 41688 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
flag 38246 term 10 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 36 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36} {8521740147643329799 10 37}]
------------------------------------------------------
flag 52670 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 37 
------------------------------------------------------
flag 11037 term 10 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 10 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 10 leaderCommit: 37 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36} {8521740147643329799 10 37}]
------------------------------------------------------
client write log 6668511887053102135 (index 38) to leader 0
client write log 6240094629246651798 (index 39) to leader 0
client write log 2972055978040711905 (index 40) to leader 0
client write log 4887278724645641040 (index 41) to leader 0
client write log 739699301316537692 (index 42) to leader 0
client write log 7833917311980548943 (index 43) to leader 0
client write log 3252392496384821780 (index 44) to leader 0
client write log 8204491884333641301 (index 45) to leader 0
client write log 7705317056391241233 (index 46) to leader 0
client write log 5982111837516366953 (index 47) to leader 0
client write log 3247744313031372131 (index 48) to leader 0
flag 93546 term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 10 leaderCommit: 37 
------------------------------------------------------
flag 94360 term 10 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 10 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 10 leaderCommit: 37 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 7 29} {3777743636100478462 7 30} {6416872465367135476 7 31} {1991512852580905205 7 32} {1991512852580905205 9 33} {5395286729367746406 10 34} {3579839438229356526 10 35} {9057999236260271228 10 36} {8521740147643329799 10 37} {6668511887053102135 10 38} {6240094629246651798 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48}]
------------------------------------------------------
term 10 Server0 start snapshot! index=39
term 10 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
term 10 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 10
------------------------------------------------------
flag 92025 term 10 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 10 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48}]
------------------------------------------------------
term 10 Server2 start snapshot! index=39
term 10 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6008981664863970631 (index 49) to leader 0
term 10 server 2 not vote for server 1, 日志不够新
term 10 server 0 not vote for server 1, 日志不够新
term 12 server 2 vote for server 0
term 12 server 1 vote for server 0
term 12 server 0 get vote from server 2
term 12 server 0 become leader
------------------------------------------------------
term 12 server 0 get outdate rpc reply from server 1
flag 33277 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 97431 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
term 12 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 37  matchIndex[1]: 0
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 10
------------------------------------------------------
flag 2006 term 12 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 10 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19877 term 12 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 12 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 53543 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52669 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 50521 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76364 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 20633 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 58386 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 71716 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
flag 439 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 57892 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30177 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 71129 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 84562 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 10689 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 22083 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 42032 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78612 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 60560 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61352 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 11268 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27257 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 44636 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 96580 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 91520 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 38462 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 34800 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28461 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 36666 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39199 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 26542 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 43282 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 32835 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 3248 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 39010 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
flag 66694 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 76609 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49}]
------------------------------------------------------
client write log 6008981664863970631 (index 50) to leader 0
flag 32593 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
flag 29532 term 12 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 39} {2972055978040711905 10 40} {4887278724645641040 10 41} {739699301316537692 10 42} {7833917311980548943 10 43} {3252392496384821780 10 44} {8204491884333641301 10 45} {7705317056391241233 10 46} {5982111837516366953 10 47} {3247744313031372131 10 48} {6008981664863970631 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
term 12 Server0 start snapshot! index=49
term 12 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1409 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 58729 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
term 12 Server2 start snapshot! index=49
term 12 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 12 Server1 start snapshot! index=49
term 12 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27574 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 27182 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
flag 85358 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 9332 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6242 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 42633 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90576 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 18736 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
flag 90072 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 31074 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 10 49} {6008981664863970631 12 50}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7257764543678101313 (index 51) to leader 0
flag 88617 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
flag 44187 term 12 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 50 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 10 49} {6008981664863970631 12 50} {7257764543678101313 12 51}]
------------------------------------------------------
flag 19126 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 80917 term 12 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 10 49} {6008981664863970631 12 50} {7257764543678101313 12 51}]
------------------------------------------------------
client write log 19963676899675591 (index 52) to leader 0
client write log 4669688481736151377 (index 53) to leader 0
client write log 6064510096625843612 (index 54) to leader 0
client write log 3089016425338644912 (index 55) to leader 0
client write log 312611391372392400 (index 56) to leader 0
client write log 7069015529032586667 (index 57) to leader 0
client write log 7324526533976139049 (index 58) to leader 0
client write log 3687102657699604691 (index 59) to leader 0
flag 2907 term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
flag 82977 term 12 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 12 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 12 leaderCommit: 51 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 49} {6008981664863970631 12 50} {7257764543678101313 12 51} {19963676899675591 12 52} {4669688481736151377 12 53} {6064510096625843612 12 54} {3089016425338644912 12 55} {312611391372392400 12 56} {7069015529032586667 12 57} {7324526533976139049 12 58} {3687102657699604691 12 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 Server0 start snapshot! index=59
term 12 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 12 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 98185 term 12 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 12 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 12 59}]
------------------------------------------------------
term 12 Server2 start snapshot! index=59
term 12 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7773448850954012739 (index 60) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 not vote for server 1, 日志不够新
term 12 server 0 not vote for server 1, 日志不够新
term 14 server 2 vote for server 0
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 0 get outdate rpc reply from server 1
flag 49710 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 81694 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 61->60
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 61->60
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 98200 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 12 rf.commitIndex 59 rf.lastApplied 59
flag 83847 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 73028 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14100 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 14334 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 93070 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 89050 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 94508 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 19628 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 4763 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 40798 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 91968 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 13074 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 36362 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 89327 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 36240 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 22852 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 89932 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 47879 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 79174 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 30149 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 42936 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 49374 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 52083 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 13624 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 17734 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 7639 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 46120 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 35176 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78964 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 58961 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 67855 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 2160 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 5941 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 34896 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
flag 26404 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 16026 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 12 59} {7773448850954012739 12 60}]
------------------------------------------------------
client write log 7773448850954012739 (index 61) to leader 0
flag 79283 term 14 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
flag 45712 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 12 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
flag 36430 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 97483 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51586 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 30452 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15524 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 33104 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
flag 98330 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 49510 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
flag 51246 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 87470 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 80359 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 85173 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 61940 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 4523 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 56888 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 60621 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 76293 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 74836 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
flag 13518 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 24760 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61}]
------------------------------------------------------
client write log 840100339704697264 (index 62) to leader 2
flag 15402 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 30256 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 90336 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 36021 term 15 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62}]
------------------------------------------------------
flag 39114 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 41016 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77263 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 62 
------------------------------------------------------
flag 55082 term 15 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 15 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 15 leaderCommit: 62 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62}]
------------------------------------------------------
flag 28025 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 15931 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
client write log 2948750934995456115 (index 63) to leader 2
flag 26323 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 62 
------------------------------------------------------
flag 41867 term 15 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 15 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 15 leaderCommit: 62 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63}]
------------------------------------------------------
flag 89746 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 84483 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 19979 term 15 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 96623 term 15 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 15 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 15 leaderCommit: 63 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7790930436710287294 (index 64) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
flag 23180 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
flag 83620 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 87670 term 15 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 15 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 15 leaderCommit: 63 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 InstallSnapshot fail
rf.commitIndex 61 args.LastIncludedIndex 59
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2214 term 15 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 15 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 54962 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32349 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 74749 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79341 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 87901 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
flag 35728 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 42282 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
flag 84293 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 96623 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
flag 58976 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 10899 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
flag 69136 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 48089 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2630853098542119280 (index 65) to leader 2
flag 96754 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
flag 62401 term 15 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64} {2630853098542119280 15 65}]
------------------------------------------------------
flag 64031 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 65 
------------------------------------------------------
flag 88279 term 15 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 15 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64} {2630853098542119280 15 65}]
------------------------------------------------------
client write log 6129841727122789146 (index 66) to leader 2
client write log 7885302867779105547 (index 67) to leader 2
client write log 7673942582947981400 (index 68) to leader 2
client write log 5442332313359270894 (index 69) to leader 2
client write log 5447191006721539804 (index 70) to leader 2
client write log 1155560540957842093 (index 71) to leader 2
client write log 1811038688707820795 (index 72) to leader 2
client write log 7376516741088836881 (index 73) to leader 2
client write log 8542730290635871885 (index 74) to leader 2
client write log 2390084997588000032 (index 75) to leader 2
client write log 3961730536566448069 (index 76) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67223 term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 15 leaderCommit: 65 
------------------------------------------------------
flag 23549 term 15 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 15 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 12 59} {7773448850954012739 12 60} {7773448850954012739 14 61} {840100339704697264 15 62} {2948750934995456115 15 63} {7790930436710287294 15 64} {2630853098542119280 15 65} {6129841727122789146 15 66} {7885302867779105547 15 67} {7673942582947981400 15 68} {5442332313359270894 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76}]
------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
flag 69462 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76}]
------------------------------------------------------
term 15 Server1 start snapshot! index=69
term 15 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3611802443392907829 (index 77) to leader 2
term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
flag 47321 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 45849 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 48424 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 65  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 15
------------------------------------------------------
flag 98474 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 15 rf.commitIndex 69 rf.lastApplied 69
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33637 term 17 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 17 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 50626 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
flag 14243 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 69137 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
flag 56374 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 37363 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
flag 58566 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 67123 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99512 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 62871 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
term 17 server 2 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46960 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 6743 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
flag 76312 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 31587 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4927695301363935107 (index 78) to leader 2
flag 86344 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 82866 term 17 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77} {4927695301363935107 17 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60016 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 25057 term 17 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 17 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 17 leaderCommit: 78 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77} {4927695301363935107 17 78}]
------------------------------------------------------
client write log 5888826690154366588 (index 79) to leader 2
client write log 7695763881917388700 (index 80) to leader 2
client write log 5843357170038560044 (index 81) to leader 2
client write log 266714444700125923 (index 82) to leader 2
client write log 3502860201279487126 (index 83) to leader 2
client write log 2314422992089551394 (index 84) to leader 2
client write log 8162715136722683942 (index 85) to leader 2
client write log 157845927255719067 (index 86) to leader 2
flag 99374 term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 90932 term 17 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 17 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 17 leaderCommit: 78 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 69} {5447191006721539804 15 70} {1155560540957842093 15 71} {1811038688707820795 15 72} {7376516741088836881 15 73} {8542730290635871885 15 74} {2390084997588000032 15 75} {3961730536566448069 15 76} {3611802443392907829 15 77} {4927695301363935107 17 78} {5888826690154366588 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86}]
------------------------------------------------------
term 17 Server2 start snapshot! index=79
term 17 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 68696 term 17 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 17 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86}]
------------------------------------------------------
term 17 Server1 start snapshot! index=79
term 17 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4402691547555787741 (index 87) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 0
flag 90493 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 27777 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 88->87
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 88->87
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 38491 term 19 leader 2 nextIndex[1]: 87  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 17 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25669 term 19 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 19 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 82903 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 95846 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 253 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 98711 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 4537 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82817 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 99151 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3783 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 30552 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 40283 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 61003 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 59323 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 38910 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44964 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 19408 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1210 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 59894 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9888 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 71166 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 65026 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 30020 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25917 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 94887 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 48324 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 84799 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 8759 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 40327 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 52108 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 9191 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 816 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 36611 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49921 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 80957 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
flag 24283 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 75511 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87}]
------------------------------------------------------
client write log 4402691547555787741 (index 88) to leader 2
flag 38294 term 19 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 9081 term 19 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 19 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
flag 75268 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 59846 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
flag 29548 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 7822 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
term 19 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
flag 70351 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 85421 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82627 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 72925 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3329 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 8214 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
flag 26490 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 5533 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 38495 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 87818 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 40258 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 88258 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79290 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 77878 term 19 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 89->88
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
flag 65412 term 20 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 29542 term 20 leader 0 nextIndex[2]: 89  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88}]
------------------------------------------------------
flag 38522 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 88
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
client write log 8133206972998189682 (index 89) to leader 0
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1457 term 20 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 20 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
flag 60178 term 20 leader 0 nextIndex[2]: 89  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 17 79} {7695763881917388700 17 80} {5843357170038560044 17 81} {266714444700125923 17 82} {3502860201279487126 17 83} {2314422992089551394 17 84} {8162715136722683942 17 85} {157845927255719067 17 86} {4402691547555787741 17 87} {4402691547555787741 19 88} {8133206972998189682 20 89}]
------------------------------------------------------
flag 1117 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 20 Server0 start snapshot! index=89
term 20 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 88
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 34218 term 20 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 20 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 20 leaderCommit: 89 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 89  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 20 89}]
------------------------------------------------------
flag 37482 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 88
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
term 20 Server1 start snapshot! index=89
term 20 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 6181855642369824618 (index 90) to leader 0
client write log 1560295109187621919 (index 91) to leader 0
client write log 7696687528376057370 (index 92) to leader 0
client write log 6798209044786003751 (index 93) to leader 0
client write log 6499902270784690348 (index 94) to leader 0
client write log 6512521781120049908 (index 95) to leader 0
client write log 9190931217753471909 (index 96) to leader 0
client write log 4983251871799747800 (index 97) to leader 0
client write log 6558764877265040009 (index 98) to leader 0
client write log 7560179768769354929 (index 99) to leader 0
client write log 4624229523754882070 (index 100) to leader 0
client write log 6440337928857514718 (index 101) to leader 0
flag 34307 term 20 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 20 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 20 leaderCommit: 89 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 89  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 89} {6181855642369824618 20 90} {1560295109187621919 20 91} {7696687528376057370 20 92} {6798209044786003751 20 93} {6499902270784690348 20 94} {6512521781120049908 20 95} {9190931217753471909 20 96} {4983251871799747800 20 97} {6558764877265040009 20 98} {7560179768769354929 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 75714 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 88
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
term 20 Server0 start snapshot! index=99
term 20 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48025 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 89  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 47169 term 19 leader 2 nextIndex[0]: 89  matchIndex[0]: 88
term 19 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 19 leaderCommit: 88 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 88
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3497677263006959072 (index 89) to leader 2
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
flag 2386 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 93590 term 20 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 100->99
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8400 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 90  matchIndex[2]: 99
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 20 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
flag 5823 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 30520 term 20 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10889 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 21937 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17059 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 5188 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23195 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 33893 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83399 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 64222 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36852 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 12192 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 27847 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 62210 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 7881 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 60058 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 89541 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 67732 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1884 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 90505 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 42147 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 29977 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 20289 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 68309 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 9393 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 83958 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1461 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 90137 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 32347 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 82911 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2323 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 27141 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 69274 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 78683 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
flag 48001 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 9393 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101}]
------------------------------------------------------
client write log 3497677263006959072 (index 102) to leader 0
flag 83820 term 20 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
flag 87687 term 20 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 20 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 20 leaderCommit: 101 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
flag 11247 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 84804 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
flag 8627 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 21162 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
flag 94002 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 68302 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
flag 89998 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 55766 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
flag 12581 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 32524 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
flag 13272 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 34680 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3569044380294297049 (index 103) to leader 0
flag 19409 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
flag 82658 term 20 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102} {3569044380294297049 20 103}]
------------------------------------------------------
flag 8298 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 103 
------------------------------------------------------
flag 7034 term 20 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 103 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102} {3569044380294297049 20 103}]
------------------------------------------------------
client write log 5312394823527050250 (index 104) to leader 0
client write log 3331560135549714857 (index 105) to leader 0
client write log 4981195793597242710 (index 106) to leader 0
client write log 2063447763042279872 (index 107) to leader 0
client write log 7753758325634239446 (index 108) to leader 0
client write log 109990711577789404 (index 109) to leader 0
client write log 3918445476040914130 (index 110) to leader 0
client write log 115196539203247191 (index 111) to leader 0
client write log 1013046195549260971 (index 112) to leader 0
client write log 1232255057351220133 (index 113) to leader 0
client write log 7385385262274141662 (index 114) to leader 0
client write log 6859442782955981316 (index 115) to leader 0
client write log 1842216061040148900 (index 116) to leader 0
flag 49898 term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 20 leaderCommit: 103 
------------------------------------------------------
flag 63323 term 20 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 20 leaderCommit: 103 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 99} {4624229523754882070 20 100} {6440337928857514718 20 101} {3497677263006959072 20 102} {3569044380294297049 20 103} {5312394823527050250 20 104} {3331560135549714857 20 105} {4981195793597242710 20 106} {2063447763042279872 20 107} {7753758325634239446 20 108} {109990711577789404 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116}]
------------------------------------------------------
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 14383 term 20 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 20 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116}]
------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2598015937898858082 (index 117) to leader 0
term 20 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 58469 term 20 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 20 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
term 21 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 2 vote for server 0
term 22 server 1 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
term 22 server 0 get outdate rpc reply from server 1
flag 2959 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 76568 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 59534 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 20 rf.commitIndex 109 rf.lastApplied 109
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9816 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 22635 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
update nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67481 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 50234 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
flag 39700 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 61474 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
term 22 server 2 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 2
flag 88466 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 4700 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80095 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 7101 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58303 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 45448 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62561 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 67220 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4923137372016577261 (index 118) to leader 0
flag 22705 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 56828 term 22 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117} {4923137372016577261 22 118}]
------------------------------------------------------
flag 83837 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 62291 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117} {4923137372016577261 22 118}]
------------------------------------------------------
client write log 7453763060615438524 (index 119) to leader 0
client write log 5653872382554966751 (index 120) to leader 0
client write log 6892744804041141280 (index 121) to leader 0
client write log 3836820185935658046 (index 122) to leader 0
client write log 7756909248747034060 (index 123) to leader 0
client write log 8142312042172189152 (index 124) to leader 0
client write log 8198932124794640982 (index 125) to leader 0
client write log 848260938064246370 (index 126) to leader 0
client write log 3925803758553278528 (index 127) to leader 0
client write log 4903568244208368 (index 128) to leader 0
client write log 3353621574990818593 (index 129) to leader 0
client write log 8069189472987135958 (index 130) to leader 0
client write log 1849736781630483435 (index 131) to leader 0
client write log 3955525622140457536 (index 132) to leader 0
flag 42613 term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 42517 term 22 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 22 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 22 leaderCommit: 118 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 109} {3918445476040914130 20 110} {115196539203247191 20 111} {1013046195549260971 20 112} {1232255057351220133 20 113} {7385385262274141662 20 114} {6859442782955981316 20 115} {1842216061040148900 20 116} {2598015937898858082 20 117} {4923137372016577261 22 118} {7453763060615438524 22 119} {5653872382554966751 22 120} {6892744804041141280 22 121} {3836820185935658046 22 122} {7756909248747034060 22 123} {8142312042172189152 22 124} {8198932124794640982 22 125} {848260938064246370 22 126} {3925803758553278528 22 127} {4903568244208368 22 128} {3353621574990818593 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=132
-------------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 4719 term 22 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 22 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132}]
------------------------------------------------------
term 22 Server2 start snapshot! index=119
term 22 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=132
-------------------------------------------------------------
term 22 Server2 start snapshot! index=129
term 22 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6247062196588751404 (index 133) to leader 0
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get outdate rpc reply from server 1
flag 15254 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 77397 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 134->133
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 96114 term 24 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 22 rf.commitIndex 129 rf.lastApplied 129
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49681 term 24 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 24 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 60216 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 79053 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 99283 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 94578 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 39145 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 42026 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 36395 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
term 24 server 2 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 2
flag 98311 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 55093 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 94370 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 95493 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 1721 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 59351 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 60075 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 83000 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 6208 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 48779 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 80916 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 72195 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76274 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 96454 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 17897 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 91757 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
update nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 21530 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 79948 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 43123 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 12516 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 41152 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 86821 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 78186 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 66947 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
flag 96149 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 52866 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133}]
------------------------------------------------------
client write log 6247062196588751404 (index 134) to leader 0
flag 68185 term 24 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 20695 term 24 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
flag 2157 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 23812 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82761 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 88636 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:134 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
flag 10957 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 17857 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
flag 37500 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 56347 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
flag 34109 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 48952 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
flag 85691 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 93731 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 14516 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 81320 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 63940 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 37721 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 30007 term 24 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 57056 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
flag 78679 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 64687 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134}]
------------------------------------------------------
client write log 1580977612613295840 (index 135) to leader 2
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 6064 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 68939 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 79697 term 25 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135}]
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 54736 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 33725 term 25 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
flag 69342 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135}]
------------------------------------------------------
client write log 3491452852036804353 (index 136) to leader 2
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 76574 term 24 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 135->134
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 27687 term 25 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136}]
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 61475 term 25 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136}]
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 134
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
!!!!!!connect server 0
client write log 7748186655888073672 (index 137) to leader 2
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
flag 86872 term 25 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 25 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 49506 term 25 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
flag 33527 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 39247 term 25 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45141 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 37347 term 25 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4462 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 84053 term 25 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
flag 994 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 44229 term 25 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
flag 84156 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 12384 term 25 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1740799955505973903 (index 138) to leader 2
flag 49800 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 95853 term 25 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137} {1740799955505973903 25 138}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16369 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
flag 15306 term 25 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 25 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137} {1740799955505973903 25 138}]
------------------------------------------------------
client write log 3103804678858425370 (index 139) to leader 2
client write log 8251995948405182619 (index 140) to leader 2
client write log 3502793817737921818 (index 141) to leader 2
client write log 7277321835489087234 (index 142) to leader 2
client write log 8267042426573339380 (index 143) to leader 2
client write log 8476436880144975763 (index 144) to leader 2
flag 40762 term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
flag 7518 term 25 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 25 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 129} {8069189472987135958 22 130} {1849736781630483435 22 131} {3955525622140457536 22 132} {6247062196588751404 22 133} {6247062196588751404 24 134} {1580977612613295840 25 135} {3491452852036804353 25 136} {7748186655888073672 25 137} {1740799955505973903 25 138} {3103804678858425370 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 12572 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144}]
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8133564038208619487 (index 145) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 55094 term 25 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 26 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 0
term 27 server 2 become leader
------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 2 get outdate rpc reply from server 1
flag 4331 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 83262 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 146->145
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 138  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 95311 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
flag 15012 term 27 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 27 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 99988 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26512 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 31293 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
flag 81395 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 44149 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
flag 38577 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 71854 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72331 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 40710 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 2 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 2
flag 9196 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 23411 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41806 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 74457 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5689549342029054893 (index 146) to leader 2
flag 8028 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 22389 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145} {5689549342029054893 27 146}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46810 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 94618 term 27 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145} {5689549342029054893 27 146}]
------------------------------------------------------
client write log 4023871602518940736 (index 147) to leader 2
client write log 7045259938799078792 (index 148) to leader 2
client write log 2789383538060284546 (index 149) to leader 2
client write log 3437697911088787495 (index 150) to leader 2
client write log 4052777491246157363 (index 151) to leader 2
client write log 167947210310747009 (index 152) to leader 2
flag 82539 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 3008 term 27 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 139} {8251995948405182619 25 140} {3502793817737921818 25 141} {7277321835489087234 25 142} {8267042426573339380 25 143} {8476436880144975763 25 144} {8133564038208619487 25 145} {5689549342029054893 27 146} {4023871602518940736 27 147} {7045259938799078792 27 148} {2789383538060284546 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152}]
------------------------------------------------------
term 27 Server2 start snapshot! index=149
term 27 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 58430 term 27 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152}]
------------------------------------------------------
term 27 Server1 start snapshot! index=149
term 27 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1002626072197981480 (index 153) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
term 29 server 1 vote for server 2
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 2 get outdate rpc reply from server 0
flag 90008 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 35819 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 154->153
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 154->153
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 4596 term 29 leader 2 nextIndex[1]: 153  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 27 rf.commitIndex 149 rf.lastApplied 149
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 46351 term 29 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 29 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 6938 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92739 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 27554 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97746 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 46401 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7050 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 53972 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 947 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 76849 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 17833 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 27781 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 65340 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 30503 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 87406 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 34568 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46163 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 85979 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 51748 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 19042 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 20136 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 15609 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 12745 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 5019 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 57075 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 46297 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 41335 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 14270 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 83615 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 44905 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 1570 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 8496 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 5599 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 88149 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
flag 8287 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 81435 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153}]
------------------------------------------------------
client write log 1002626072197981480 (index 154) to leader 2
flag 22854 term 29 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 53529 term 29 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 29 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
flag 69081 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 30264 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
flag 62954 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 90221 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76501 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 39940 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12564 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 90083 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
flag 99039 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 44669 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
flag 2098 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 6653 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 72182 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 87636 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39247 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 76345 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 4619 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 36585 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
flag 35727 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 88148 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154}]
------------------------------------------------------
client write log 2323783278274048220 (index 155) to leader 0
flag 92538 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 399 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 96827 term 30 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 90036 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154} {2323783278274048220 30 155}]
------------------------------------------------------
flag 87995 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
flag 29407 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7663 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 89897 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154} {2323783278274048220 30 155}]
------------------------------------------------------
flag 61553 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 154
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
client write log 7454690538994171255 (index 156) to leader 0
client write log 7201999191275001316 (index 157) to leader 0
client write log 4944487398111201079 (index 158) to leader 0
client write log 6471656218577337906 (index 159) to leader 0
client write log 4719332009558659287 (index 160) to leader 0
client write log 6626017900888014096 (index 161) to leader 0
client write log 3504104293612674027 (index 162) to leader 0
client write log 7562529980279182861 (index 163) to leader 0
client write log 5867750074659933492 (index 164) to leader 0
flag 69225 term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 49606 term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 27 149} {3437697911088787495 27 150} {4052777491246157363 27 151} {167947210310747009 27 152} {1002626072197981480 27 153} {1002626072197981480 29 154} {2323783278274048220 30 155} {7454690538994171255 30 156} {7201999191275001316 30 157} {4944487398111201079 30 158} {6471656218577337906 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 Server0 start snapshot! index=159
term 30 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=164
-------------------------------------------------------------
flag 29802 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 154
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88421 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 Server1 start snapshot! index=159
term 30 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=164
-------------------------------------------------------------
flag 51403 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 29 leaderCommit: 154 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 154
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
!!!!!!connect server 2
client write log 1417866918369306529 (index 155) to leader 2
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82394 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 30 rf.commitIndex 159 rf.lastApplied 159
term 30 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91709 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 9640 term 30 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 30 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24854 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 25263 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 48822 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 53541 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 94278 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 17701 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 23803 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 1853 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 5772 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 19852 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75671 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 81737 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43017 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 57143 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 28355 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 5242 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 48214 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 48263 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 55069 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 23528 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 1
flag 8717 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 99533 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12943 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 55645 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 60396 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 45591 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 65187 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 31083 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 62172 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 94359 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
flag 40374 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 71258 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51168 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 35724 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52829 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 74917 term 30 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164}]
------------------------------------------------------
client write log 1417866918369306529 (index 165) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
flag 53088 term 30 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 2 InstallSnapshot fail
rf.commitIndex 164 args.LastIncludedIndex 159
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
flag 42233 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
flag 71513 term 30 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 30 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46885 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
flag 71647 term 30 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
flag 12824 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 2 InstallSnapshot fail
rf.commitIndex 165 args.LastIncludedIndex 159
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13549 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
flag 10468 term 30 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 30 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
flag 98718 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
flag 41473 term 30 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
flag 84915 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
flag 36014 term 30 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2670409896120001595 (index 166) to leader 0
flag 69344 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
flag 55963 term 30 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165} {2670409896120001595 30 166}]
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48384 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 166 
------------------------------------------------------
flag 19423 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 30 leaderCommit: 166 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165} {2670409896120001595 30 166}]
------------------------------------------------------
client write log 9083435855466655319 (index 167) to leader 0
client write log 7258753749733457199 (index 168) to leader 0
client write log 5900055076689624807 (index 169) to leader 0
client write log 6619538510605479677 (index 170) to leader 0
client write log 7242422886965897905 (index 171) to leader 0
client write log 4543133279748784504 (index 172) to leader 0
client write log 7285384240581863678 (index 173) to leader 0
client write log 8235352873017671478 (index 174) to leader 0
client write log 5912539539417327003 (index 175) to leader 0
client write log 1531376011852248583 (index 176) to leader 0
client write log 1635534527561314761 (index 177) to leader 0
client write log 9078108127069006490 (index 178) to leader 0
term 30 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24676 term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 166 
------------------------------------------------------
flag 85747 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 30 leaderCommit: 166 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 159} {4719332009558659287 30 160} {6626017900888014096 30 161} {3504104293612674027 30 162} {7562529980279182861 30 163} {5867750074659933492 30 164} {1417866918369306529 30 165} {2670409896120001595 30 166} {9083435855466655319 30 167} {7258753749733457199 30 168} {5900055076689624807 30 169} {6619538510605479677 30 170} {7242422886965897905 30 171} {4543133279748784504 30 172} {7285384240581863678 30 173} {8235352873017671478 30 174} {5912539539417327003 30 175} {1531376011852248583 30 176} {1635534527561314761 30 177} {9078108127069006490 30 178}]
------------------------------------------------------
term 30 Server0 start snapshot! index=169
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=178
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 22225 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {6619538510605479677 30 170} {7242422886965897905 30 171} {4543133279748784504 30 172} {7285384240581863678 30 173} {8235352873017671478 30 174} {5912539539417327003 30 175} {1531376011852248583 30 176} {1635534527561314761 30 177} {9078108127069006490 30 178}]
------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=178
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1153256976119680543 (index 179) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 81036 term 30 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 169} {6619538510605479677 30 170} {7242422886965897905 30 171} {4543133279748784504 30 172} {7285384240581863678 30 173} {8235352873017671478 30 174} {5912539539417327003 30 175} {1531376011852248583 30 176} {1635534527561314761 30 177} {9078108127069006490 30 178} {1153256976119680543 30 179}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 2
flag 96426 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 19325 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 166  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 80089 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 35928 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 70963 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 26837 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 32670 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 44360 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 92208 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 75673 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
flag 43832 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 58007 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 77813 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4675127005490378199 (index 180) to leader 0
flag 38734 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 61096 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {4675127005490378199 32 180}]
------------------------------------------------------
flag 60211 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 61034 term 32 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 32 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 32 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {4675127005490378199 32 180}]
------------------------------------------------------
client write log 6681156413960354621 (index 181) to leader 0
client write log 1049770057288972504 (index 182) to leader 0
client write log 7636631716221830251 (index 183) to leader 0
client write log 1894764175425490495 (index 184) to leader 0
client write log 6529057134995288019 (index 185) to leader 0
client write log 5905960452179512045 (index 186) to leader 0
client write log 8397406772507064467 (index 187) to leader 0
client write log 2792576373512118289 (index 188) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16565 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 69272 term 32 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 32 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 32 leaderCommit: 180 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62943 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 31561 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8245050373067740169 (index 189) to leader 0
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 34 server 2 vote for server 0
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 80188 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 27072 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
flag 37453 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 9486 term 34 leader 0 nextIndex[2]: 189  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 28303 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 62355 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24577 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 80388 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 15635 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 55744 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 52461 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 67329 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82891 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 94847 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 8985 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 76116 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27522 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 83519 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 42298 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 51960 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 50276 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 19131 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 3590 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 88001 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 36709 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 18639 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65187 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 34827 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 98806 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 42255 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 3545 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 53789 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 44063 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 54128 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 40636 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 24811 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
flag 30542 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 4807 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8245050373067740169 (index 190) to leader 0
flag 56396 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 49700 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 179} {4675127005490378199 32 180} {6681156413960354621 32 181} {1049770057288972504 32 182} {7636631716221830251 32 183} {1894764175425490495 32 184} {6529057134995288019 32 185} {5905960452179512045 32 186} {8397406772507064467 32 187} {2792576373512118289 32 188} {8245050373067740169 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 42134 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 8043 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 Server2 start snapshot! index=189
term 34 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 34 Server1 start snapshot! index=189
term 34 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 58036 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 93301 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
flag 51426 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 31120 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
flag 14481 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 38994 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
flag 77348 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 29296 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
flag 77922 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 51356 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 98764 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 64309 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 21145 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 31583 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 72527 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 95851 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
flag 3151 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 66516 term 35 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {8245050373067740169 34 190}]
------------------------------------------------------
client write log 2354971900833801894 (index 191) to leader 2
flag 55822 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 22698 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 75951 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 79894 term 35 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
flag 17303 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 190
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 74557 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 135 term 35 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191}]
------------------------------------------------------
client write log 1160150659886585077 (index 192) to leader 2
flag 52967 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 190
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
flag 12275 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 12695 term 35 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41173 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 69417 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 90362 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 55794 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4121434136130800674 (index 193) to leader 2
flag 3758 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 17109 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91932 term 35 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
flag 73618 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
flag 23227 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 31511 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
flag 77738 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 56450 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
flag 85842 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 78911 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
flag 4457 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 85711 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68851 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 13348 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 8324 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 65731 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
client write log 1768223138316614888 (index 194) to leader 2
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193} {1768223138316614888 35 194}]
------------------------------------------------------
flag 87939 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
flag 92061 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 193 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193} {1768223138316614888 35 194}]
------------------------------------------------------
flag 61258 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 27214 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193} {1768223138316614888 35 194}]
------------------------------------------------------
client write log 3534015662147553526 (index 195) to leader 2
client write log 3349681147252180611 (index 196) to leader 2
client write log 7174032803780649132 (index 197) to leader 2
client write log 3881889452813354524 (index 198) to leader 2
client write log 2144285535248349110 (index 199) to leader 2
client write log 7707455080205093214 (index 200) to leader 2
client write log 2497626780259481618 (index 201) to leader 2
client write log 6810281698520942305 (index 202) to leader 2
client write log 7107980449355716044 (index 203) to leader 2
client write log 2304466446556044438 (index 204) to leader 2
client write log 620100344399104948 (index 205) to leader 2
flag 47473 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 39185 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 189} {8245050373067740169 34 190} {2354971900833801894 35 191} {1160150659886585077 35 192} {4121434136130800674 35 193} {1768223138316614888 35 194} {3534015662147553526 35 195} {3349681147252180611 35 196} {7174032803780649132 35 197} {3881889452813354524 35 198} {2144285535248349110 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205}]
------------------------------------------------------
term 35 Server2 start snapshot! index=199
term 35 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 90198 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 194->193
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1285637502454916042 (index 206) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 0  matchIndex[0]: 193
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 14720 term 35 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 35 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 28604 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 6561 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 207->206
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 194  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 90272 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 2628 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 48481 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
flag 99548 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 98460 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
flag 18242 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 42040 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
flag 28133 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 5872 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
flag 78950 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 3458 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
flag 53766 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 96902 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67290 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 57554 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2048471778242526801 (index 207) to leader 2
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42704 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 29403 term 37 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206} {2048471778242526801 37 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89202 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 28529 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206} {2048471778242526801 37 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 9031792085764192492 (index 208) to leader 2
client write log 5431515355402173532 (index 209) to leader 2
client write log 3720477450568434364 (index 210) to leader 2
client write log 9068983745798222455 (index 211) to leader 2
client write log 4030404869141382221 (index 212) to leader 2
client write log 8412647186469754598 (index 213) to leader 2
client write log 3048873084933978885 (index 214) to leader 2
client write log 2645652882878541142 (index 215) to leader 2
client write log 4517455370976290895 (index 216) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61052 term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 1380 term 37 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 37 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 37 leaderCommit: 207 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 199} {7707455080205093214 35 200} {2497626780259481618 35 201} {6810281698520942305 35 202} {7107980449355716044 35 203} {2304466446556044438 35 204} {620100344399104948 35 205} {1285637502454916042 35 206} {2048471778242526801 37 207} {9031792085764192492 37 208} {5431515355402173532 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 207  matchIndex[0]: 206
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 57164 term 37 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 37 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3121393701197709374 (index 217) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 75293 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 8186 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 218->217
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 218->217
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 207  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 70881 term 39 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 37 rf.commitIndex 209 rf.lastApplied 209
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 66937 term 39 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 39 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 49747 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 73131 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 89013 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 72671 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 18266 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 93923 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 97945 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 45130 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 27681 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 50412 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 71172 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 527 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 52829 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 86888 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 72579 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 17814 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 72767 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56957 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 20810 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 45836 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 96518 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90580 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 13399 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 69565 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 10116 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 50025 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 51848 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 95877 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 42315 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
flag 26662 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 78933 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44234 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 39563 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217}]
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
client write log 3121393701197709374 (index 218) to leader 2
flag 32271 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
flag 95356 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4334 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 69470 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
flag 79784 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 93989 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
flag 87107 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 41146 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75827 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 38985 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
flag 35945 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 39105 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 47649 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 30555 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 55307 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 29570 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86509 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 94882 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 2733 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 53637 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get vote from server 1
term 40 server 0 become leader
------------------------------------------------------
client write log 2518581419413923979 (index 219) to leader 0
flag 46389 term 40 leader 0 nextIndex[1]: 219  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 59898 term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 209} {3720477450568434364 37 210} {9068983745798222455 37 211} {4030404869141382221 37 212} {8412647186469754598 37 213} {3048873084933978885 37 214} {2645652882878541142 37 215} {4517455370976290895 37 216} {3121393701197709374 37 217} {3121393701197709374 39 218} {2518581419413923979 40 219}]
------------------------------------------------------
term 40 Server0 start snapshot! index=219
term 40 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 81121 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 34694 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 6460 term 40 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 40 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 219 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 40 219}]
------------------------------------------------------
term 40 Server1 start snapshot! index=219
term 40 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 1470593782954427202 (index 220) to leader 0
client write log 3247249548414480796 (index 221) to leader 0
client write log 5012922198869138622 (index 222) to leader 0
client write log 5448434274059707386 (index 223) to leader 0
client write log 2013527418999915800 (index 224) to leader 0
client write log 7083805154686866490 (index 225) to leader 0
client write log 5462157334456384418 (index 226) to leader 0
client write log 7621397165766591217 (index 227) to leader 0
client write log 8050252473553621749 (index 228) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 218
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 35942 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 32744 term 40 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 40 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 219 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 218
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 94208 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 55192 term 40 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 40 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4470162373813057669 (index 219) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 218
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 65053 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12588 term 40 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 40 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 40 rf.commitIndex 219 rf.lastApplied 219
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 40 server 1 not vote for server 2, 日志不够新
term 40 server 0 not vote for server 2, 日志不够新
term 42 server 1 vote for server 0
term 42 server 2 vote for server 0
term 42 server 0 get vote from server 1
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 2
flag 33304 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 42864 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 229->228
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11820 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 15583 term 42 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 76443 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 36129 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 79672 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 51265 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 62938 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 3020 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18410 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 16734 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75538 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 90313 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27381 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 97291 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18328 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 18395 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 23256 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 17921 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1504 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 77280 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 84030 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 75580 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 59816 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 68106 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 66511 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 51013 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56879 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 82695 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 16662 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 88086 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
flag 72903 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 37829 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69382 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 53385 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228}]
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
client write log 4470162373813057669 (index 229) to leader 0
flag 36038 term 42 leader 0 nextIndex[1]: 229  matchIndex[1]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 47291 term 42 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 42 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228} {4470162373813057669 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 219} {1470593782954427202 40 220} {3247249548414480796 40 221} {5012922198869138622 40 222} {5448434274059707386 40 223} {2013527418999915800 40 224} {7083805154686866490 40 225} {5462157334456384418 40 226} {7621397165766591217 40 227} {8050252473553621749 40 228} {4470162373813057669 42 229}]
------------------------------------------------------
term 42 Server0 start snapshot! index=229
term 42 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 59472 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 21189 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 Server2 start snapshot! index=229
term 42 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 42 Server1 start snapshot! index=229
term 42 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 92543 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 72243 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90492 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 56727 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
flag 2647 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 95372 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59144 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 28474 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 42 229}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2511977116952328726 (index 230) to leader 0
flag 3752 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
flag 22027 term 42 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 229 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 42 229} {2511977116952328726 42 230}]
------------------------------------------------------
flag 9940 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 37793 term 42 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 42 229} {2511977116952328726 42 230}]
------------------------------------------------------
client write log 3308527944779524587 (index 231) to leader 0
client write log 6438385016533772797 (index 232) to leader 0
client write log 4259130514887000438 (index 233) to leader 0
client write log 741290366799231497 (index 234) to leader 0
client write log 8052753424224158523 (index 235) to leader 0
client write log 7795128930809758696 (index 236) to leader 0
client write log 4601217687134214845 (index 237) to leader 0
flag 63273 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
flag 26922 term 42 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 42 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 42 leaderCommit: 230 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73286 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 76734 term 42 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7241223549059047090 (index 238) to leader 0
flag 74829 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 53599 term 42 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 42 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 43 server 1 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 not vote for server 1, 日志不够新
term 42 server 2 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 76150 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 24426 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 239->238
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70797 term 45 leader 0 nextIndex[1]: 230  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 67149 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31948 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 69704 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 11168 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 42519 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 36655 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 3101 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 35319 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 63320 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 1507 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 47792 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 77629 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 25847 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 30390 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 8743 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 22641 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 52212 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 6382 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 59907 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90505 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 71013 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64875 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 35335 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 34911 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 99499 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
flag 78675 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 56338 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238}]
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
client write log 7241223549059047090 (index 239) to leader 0
flag 98983 term 45 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
flag 84771 term 45 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 45 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 42 leaderCommit: 237 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
term 45 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238} {7241223549059047090 45 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 42 229} {2511977116952328726 42 230} {3308527944779524587 42 231} {6438385016533772797 42 232} {4259130514887000438 42 233} {741290366799231497 42 234} {8052753424224158523 42 235} {7795128930809758696 42 236} {4601217687134214845 42 237} {7241223549059047090 42 238} {7241223549059047090 45 239}]
------------------------------------------------------
term 45 Server0 start snapshot! index=239
term 45 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 78428 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
flag 64249 term 45 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
term 45 Server1 start snapshot! index=239
term 45 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 45 Server2 start snapshot! index=239
term 45 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 99818 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
flag 79372 term 45 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
term 45 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 45 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
flag 50633 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
flag 80008 term 45 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71432 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
flag 43569 term 45 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
flag 65260 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
flag 87065 term 45 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 45 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4585486853804097538 (index 240) to leader 0
flag 48241 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
flag 52561 term 45 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 239 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 45 239} {4585486853804097538 45 240}]
------------------------------------------------------
flag 66805 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 240 
------------------------------------------------------
flag 27129 term 45 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 45 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 45 leaderCommit: 240 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 45 239} {4585486853804097538 45 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 2
client write log 8208136158347403801 (index 241) to leader 0
client write log 9165589630014992774 (index 242) to leader 0
client write log 201724681624597067 (index 243) to leader 0
client write log 6194044836855269799 (index 244) to leader 0
client write log 2763001102704465158 (index 245) to leader 0
client write log 4934966918256937748 (index 246) to leader 0
client write log 4608333508899830376 (index 247) to leader 0
flag 33663 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 240 
------------------------------------------------------
flag 49176 term 45 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 45 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 45 leaderCommit: 240 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247}]
------------------------------------------------------
flag 93484 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 51543 term 45 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3909765264505011631 (index 248) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86886 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 52889 term 45 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 45 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 10687 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 38143 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 249->248
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93643 term 48 leader 0 nextIndex[1]: 240  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 22621 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 82089 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 93934 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 74849 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 50625 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 23262 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 25608 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4305 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 45476 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 49613 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 92930 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 34840 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 63136 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 12668 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 30321 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 71272 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 70521 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 45227 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 16504 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 60143 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 44421 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 36750 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 41954 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 6055 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 74772 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
flag 1084 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 18614 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248}]
------------------------------------------------------
client write log 3909765264505011631 (index 249) to leader 0
flag 99230 term 48 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 68560 term 48 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 48 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248} {3909765264505011631 48 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 45 239} {4585486853804097538 45 240} {8208136158347403801 45 241} {9165589630014992774 45 242} {201724681624597067 45 243} {6194044836855269799 45 244} {2763001102704465158 45 245} {4934966918256937748 45 246} {4608333508899830376 45 247} {3909765264505011631 45 248} {3909765264505011631 48 249}]
------------------------------------------------------
term 48 Server0 start snapshot! index=249
term 48 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 29020 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 61901 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
term 48 Server1 start snapshot! index=249
term 48 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 48 Server2 start snapshot! index=249
term 48 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 22961 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 42262 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52142 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 21853 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
flag 18725 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 75799 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
flag 2604 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 18566 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 35469 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 70204 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 55705 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 71528 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 64755 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 27586 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 19685 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 80661 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
flag 48808 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 58310 term 49 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
client write log 9142550482857132022 (index 250) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94822 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 98329 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 56269 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 74955 term 49 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 48 249} {9142550482857132022 49 250}]
------------------------------------------------------
flag 76090 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 24550 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 48311 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 250 
------------------------------------------------------
flag 48304 term 49 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 49 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 49 leaderCommit: 250 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 48 249} {9142550482857132022 49 250}]
------------------------------------------------------
client write log 3300866123120094301 (index 251) to leader 2
flag 32045 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 76327 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 49692 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 250 
------------------------------------------------------
flag 90941 term 49 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 49 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 49 leaderCommit: 250 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251}]
------------------------------------------------------
flag 29064 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 26242 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 3380 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 251 
------------------------------------------------------
flag 95624 term 49 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 49 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 49 leaderCommit: 251 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6158005988283866669 (index 252) to leader 2
flag 60112 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
flag 86112 term 48 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15226 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 251 
------------------------------------------------------
flag 1071 term 49 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 49 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 49 leaderCommit: 251 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
flag 92074 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 32606 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
flag 25082 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 52398 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
flag 11964 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 74887 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63650 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 39918 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
flag 32621 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 38682 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
flag 86448 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 3907 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3894456242518273318 (index 253) to leader 2
flag 20732 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
flag 69511 term 49 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 252 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252} {3894456242518273318 49 253}]
------------------------------------------------------
flag 98028 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 253 
------------------------------------------------------
flag 84446 term 49 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 49 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 49 leaderCommit: 253 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252} {3894456242518273318 49 253}]
------------------------------------------------------
client write log 4343215020099677875 (index 254) to leader 2
client write log 7625304355842919721 (index 255) to leader 2
client write log 85262419325468319 (index 256) to leader 2
client write log 2162936400021758904 (index 257) to leader 2
client write log 5225593398176295876 (index 258) to leader 2
client write log 9127075966893765553 (index 259) to leader 2
client write log 3394741589888136828 (index 260) to leader 2
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 55421 term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 49 leaderCommit: 253 
------------------------------------------------------
flag 15166 term 49 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 49 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 49 leaderCommit: 253 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 48 249} {9142550482857132022 49 250} {3300866123120094301 49 251} {6158005988283866669 49 252} {3894456242518273318 49 253} {4343215020099677875 49 254} {7625304355842919721 49 255} {85262419325468319 49 256} {2162936400021758904 49 257} {5225593398176295876 49 258} {9127075966893765553 49 259} {3394741589888136828 49 260}]
------------------------------------------------------
term 49 Server2 start snapshot! index=259
term 49 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 49
------------------------------------------------------
flag 48115 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260}]
------------------------------------------------------
term 49 Server1 start snapshot! index=259
term 49 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 0
client write log 80843341430852939 (index 261) to leader 2
term 49 server 2 not vote for server 0, 日志不够新
term 51 server 1 vote for server 2
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 36326 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 70925 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 262->261
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 262->261
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 253  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 49
------------------------------------------------------
flag 79900 term 51 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 49 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25632 term 51 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 51 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 50506 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 55260 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 69438 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85308 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 91413 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20623 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 7541 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 23581 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 12502 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 32491 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 70870 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 27935 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 86502 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 35183 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 99054 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 61714 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 69038 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 82268 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 43531 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 88631 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 53764 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49394 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 89450 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 93968 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 68805 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 91752 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 58627 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
flag 29106 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 53913 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70555 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 67923 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93804 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 84606 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86760 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 77259 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261}]
------------------------------------------------------
client write log 80843341430852939 (index 262) to leader 2
flag 43803 term 51 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 78744 term 51 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 51 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
flag 15861 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
flag 21154 term 51 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
flag 6004 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
flag 33091 term 51 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93845 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
flag 11468 term 51 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
flag 94588 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
flag 69086 term 51 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
flag 94738 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
flag 55299 term 51 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6311210552800709667 (index 263) to leader 2
flag 9593 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
flag 41251 term 51 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 262 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262} {6311210552800709667 51 263}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84866 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 263 
------------------------------------------------------
flag 2009 term 51 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 51 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 51 leaderCommit: 263 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262} {6311210552800709667 51 263}]
------------------------------------------------------
client write log 5678292215246812907 (index 264) to leader 2
client write log 1099770501360413365 (index 265) to leader 2
client write log 1348414244408379161 (index 266) to leader 2
client write log 2715030979727439792 (index 267) to leader 2
client write log 4481874206676338074 (index 268) to leader 2
client write log 4226076678918342463 (index 269) to leader 2
client write log 4177764783991258106 (index 270) to leader 2
client write log 6722153080632679797 (index 271) to leader 2
flag 35408 term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 51 leaderCommit: 263 
------------------------------------------------------
flag 25755 term 51 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 51 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 51 leaderCommit: 263 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 49 259} {3394741589888136828 49 260} {80843341430852939 49 261} {80843341430852939 51 262} {6311210552800709667 51 263} {5678292215246812907 51 264} {1099770501360413365 51 265} {1348414244408379161 51 266} {2715030979727439792 51 267} {4481874206676338074 51 268} {4226076678918342463 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271}]
------------------------------------------------------
term 51 Server2 start snapshot! index=269
term 51 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
flag 4480 term 51 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 51 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271}]
------------------------------------------------------
term 51 Server1 start snapshot! index=269
term 51 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8328258936817043307 (index 272) to leader 2
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 81186 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 25456 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 273->272
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 273->272
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 263  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
flag 97492 term 53 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 51 rf.commitIndex 269 rf.lastApplied 269
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 89526 term 53 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 53 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 52131 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6334 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 1172 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22794 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 95362 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 46959 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 58651 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 13748 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 77157 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95120 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 60846 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 43069 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 70109 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 16724 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 82344 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 45478 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 59843 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
flag 39379 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 74161 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3757 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 85895 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 78333 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 73989 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16914 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 76013 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21341 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 76165 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 21494 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 78251 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 91625 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 62957 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90003 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 25770 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
flag 16384 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 36288 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272}]
------------------------------------------------------
client write log 8328258936817043307 (index 273) to leader 2
flag 7301 term 53 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
flag 31160 term 53 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 53 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 51 leaderCommit: 271 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52351 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 5303 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
flag 92253 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 40466 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
flag 13757 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 23952 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
flag 49306 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 89347 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
flag 38980 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 55949 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
flag 69871 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 13803 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 2556 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 18433 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 31856 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 61979 term 53 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 274->273
------------------------------------------------------
flag 78939 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 273
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 0
term 54 server 1 become leader
------------------------------------------------------
flag 71161 term 54 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 71360 term 54 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273}]
------------------------------------------------------
flag 50513 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 273
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
client write log 6345400602772499705 (index 274) to leader 1
flag 22481 term 54 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 7532 term 54 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274}]
------------------------------------------------------
flag 67105 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 273
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
flag 47233 term 54 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 54 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 54 leaderCommit: 274 
------------------------------------------------------
flag 32094 term 54 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 274 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274}]
------------------------------------------------------
flag 19828 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 273
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
client write log 7990901471237464312 (index 275) to leader 1
flag 23695 term 54 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 54 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 54 leaderCommit: 274 
------------------------------------------------------
flag 59018 term 54 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 274 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 74574 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 77587 term 53 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 53 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 51 leaderCommit: 273 
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15937 term 54 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 54 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 54 leaderCommit: 275 
------------------------------------------------------
flag 22742 term 54 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 275 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275}]
------------------------------------------------------
flag 8199 term 53 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 53 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 273 
------------------------------------------------------
flag 41452 term 53 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 53 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 51 leaderCommit: 273 
------------------------------------------------------
!!!!!!connect server 2
client write log 2681770653904159236 (index 276) to leader 1
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 40359 term 54 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 54 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 54 leaderCommit: 275 
------------------------------------------------------
flag 51311 term 54 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 53 leaderCommit: 275 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94033 term 54 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
flag 13760 term 54 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
flag 84224 term 54 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
flag 8407 term 54 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 277->276
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99487 term 54 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 276
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 2 InstallSnapshot fail
rf.commitIndex 276 args.LastIncludedIndex 269
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35008 term 54 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
flag 47192 term 54 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 54 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 51 leaderCommit: 276 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
flag 28672 term 54 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
flag 49757 term 54 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1172173617382294927 (index 277) to leader 1
flag 95604 term 54 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
flag 36921 term 54 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 276 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276} {1172173617382294927 54 277}]
------------------------------------------------------
flag 11995 term 54 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 54 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 54 leaderCommit: 277 
------------------------------------------------------
flag 28860 term 54 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 277 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276} {1172173617382294927 54 277}]
------------------------------------------------------
client write log 8482902642012455132 (index 278) to leader 1
client write log 8905689530507012914 (index 279) to leader 1
client write log 1740369132717972187 (index 280) to leader 1
client write log 6788122504169095736 (index 281) to leader 1
client write log 5611389335545165511 (index 282) to leader 1
client write log 3507567298758199470 (index 283) to leader 1
client write log 2535771147855373503 (index 284) to leader 1
client write log 4485614295693895661 (index 285) to leader 1
flag 75573 term 54 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 54 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 54 leaderCommit: 277 
------------------------------------------------------
flag 90924 term 54 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 54 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 54 leaderCommit: 277 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 51 269} {4177764783991258106 51 270} {6722153080632679797 51 271} {8328258936817043307 51 272} {8328258936817043307 53 273} {6345400602772499705 54 274} {7990901471237464312 54 275} {2681770653904159236 54 276} {1172173617382294927 54 277} {8482902642012455132 54 278} {8905689530507012914 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285}]
------------------------------------------------------
term 54 Server1 start snapshot! index=279
term 54 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 277->276
------------------------------------------------------
flag 49368 term 54 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 54 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 276
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285}]
------------------------------------------------------
term 54 Server0 start snapshot! index=279
term 54 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
!!!!!!connect server 2
client write log 216514538572826684 (index 286) to leader 1
flag 70964 term 54 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 54 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 276
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 54
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 0 vote for server 1
term 56 server 1 get outdate rpc reply from server 0
flag 66632 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 40330 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 287->286
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 30156 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 277  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 54 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 0
flag 46695 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 31290 term 56 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 56 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 42378 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 96171 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19430 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 92794 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 98029 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 88895 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 87713 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 48431 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 17173 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 44695 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 29639 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 45404 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 33989 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 86570 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7419 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 67902 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25494 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 20800 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 45523 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 1797 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 1306 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 90582 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27443 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 19835 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64081 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 62178 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 99313 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 23061 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
flag 7695 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 17911 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286}]
------------------------------------------------------
client write log 216514538572826684 (index 287) to leader 1
flag 1390 term 56 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 72752 term 56 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 56 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77644 term 56 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
flag 15257 term 56 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
flag 28938 term 56 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
flag 89336 term 56 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
flag 74499 term 56 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
flag 61021 term 56 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
flag 73153 term 56 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
flag 33598 term 56 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
term 56 server 2 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 2
flag 24812 term 56 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
flag 33435 term 56 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 56 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 56 leaderCommit: 287 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 54 279} {1740369132717972187 54 280} {6788122504169095736 54 281} {5611389335545165511 54 282} {3507567298758199470 54 283} {2535771147855373503 54 284} {4485614295693895661 54 285} {216514538572826684 54 286} {216514538572826684 56 287}]
------------------------------------------------------
  ... Passed --  74.7  3 1708  681682  287
--- PASS: TestSnapshotInstall2D (74.69s)
PASS
