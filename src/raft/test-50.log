=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 55411 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 28265 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6856633111845680018 (index 1) to leader 2
flag 96588 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 42162 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
flag 22778 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 5174 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
flag 23965 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88785 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
flag 12973 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57852 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
flag 48697 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6175 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
flag 36924 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 22224 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
flag 38128 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43010 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6856633111845680018 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 240017946694669097 (index 2) to leader 2
flag 87860 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 72861 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6856633111845680018 1 1} {240017946694669097 1 2}]
------------------------------------------------------
flag 39184 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 14233 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6856633111845680018 1 1} {240017946694669097 1 2}]
------------------------------------------------------
client write log 7442267484278531912 (index 3) to leader 2
client write log 6625513249484443085 (index 4) to leader 2
client write log 9118283891343715777 (index 5) to leader 2
client write log 7315591335939526741 (index 6) to leader 2
client write log 2388680268075876975 (index 7) to leader 2
client write log 2878751553771682518 (index 8) to leader 2
client write log 6073975586614101728 (index 9) to leader 2
client write log 8574387467899548499 (index 10) to leader 2
client write log 3696957689127277138 (index 11) to leader 2
client write log 5754580997972909499 (index 12) to leader 2
client write log 2441398416798609145 (index 13) to leader 2
client write log 2613975961394895135 (index 14) to leader 2
flag 51874 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 59172 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {6856633111845680018 1 1} {240017946694669097 1 2} {7442267484278531912 1 3} {6625513249484443085 1 4} {9118283891343715777 1 5} {7315591335939526741 1 6} {2388680268075876975 1 7} {2878751553771682518 1 8} {6073975586614101728 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 89467 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1004601435803981830 (index 15) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 49968 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 92689 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 73256 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 62621 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
term 3 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 48267 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 31147 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 66507 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 31804 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 36175 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89593 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 61184 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 45474 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 44365 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 46068 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 36924 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 75956 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 28733 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 7047 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 24951 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 79543 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67420 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 41050 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
flag 22133 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 24712 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 4534 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15}]
------------------------------------------------------
flag 11283 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 5021452351032737892 (index 16) to leader 1
flag 42531 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 99988 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16}]
------------------------------------------------------
flag 75192 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 7393 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 99366 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16}]
------------------------------------------------------
client write log 4405377681144525982 (index 17) to leader 1
flag 28247 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73697 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 70746 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17}]
------------------------------------------------------
flag 78271 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 93119 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 44230 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8716708732728942748 (index 18) to leader 1
flag 69466 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 1
flag 6885 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 22460 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
flag 60647 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 31097 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
flag 90155 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
flag 16617 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 5693 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
flag 21945 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 20704 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
flag 99551 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 12658 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
flag 46448 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 47691 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2270746300109767079 (index 19) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25636 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 89058 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8574387467899548499 1 10} {3696957689127277138 1 11} {5754580997972909499 1 12} {2441398416798609145 1 13} {2613975961394895135 1 14} {1004601435803981830 1 15} {5021452351032737892 4 16} {4405377681144525982 4 17} {8716708732728942748 4 18} {2270746300109767079 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11054 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 2611623679160337898 (index 20) to leader 1
client write log 2738283783392042451 (index 21) to leader 1
client write log 6575184786070699861 (index 22) to leader 1
client write log 5503950724683252189 (index 23) to leader 1
client write log 761441320624737657 (index 24) to leader 1
client write log 1272626822455863574 (index 25) to leader 1
client write log 1045526919694470808 (index 26) to leader 1
client write log 8313436724348933860 (index 27) to leader 1
client write log 8495836656888116786 (index 28) to leader 1
client write log 518500808515269002 (index 29) to leader 1
client write log 4535773936447716265 (index 30) to leader 1
client write log 6643869403571610241 (index 31) to leader 1
client write log 483164507413759728 (index 32) to leader 1
client write log 6287700616027015770 (index 33) to leader 1
client write log 1234899818367613970 (index 34) to leader 1
flag 5917 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 19} {2611623679160337898 4 20} {2738283783392042451 4 21} {6575184786070699861 4 22} {5503950724683252189 4 23} {761441320624737657 4 24} {1272626822455863574 4 25} {1045526919694470808 4 26} {8313436724348933860 4 27} {8495836656888116786 4 28} {518500808515269002 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=34
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
flag 66641 term 4 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=34
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5064603868575838149 (index 35) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 28444 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 77413 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 36->35
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 36->35
------------------------------------------------------
flag 91535 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65929 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 9734 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40780 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 74022 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 74577 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 98983 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 85784 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 18932 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12200 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 61653 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 97168 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 77923 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 8341 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 47250 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 97942 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 69560 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 84086 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 60765 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 77359 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 46687 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 68664 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 73073 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16424 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 37019 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35811 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 69004 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 46471 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 18345 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 53793 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 25166 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 22866 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 23240 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 62488 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 54215 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
flag 45121 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 97316 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35}]
------------------------------------------------------
client write log 5064603868575838149 (index 36) to leader 1
flag 58203 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 97753 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
flag 95727 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 3530 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
flag 15108 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 16257 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
flag 96540 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 51305 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
flag 58225 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 24389 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94770 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 39975 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18035 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 80819 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2678890274233557724 (index 37) to leader 1
flag 67020 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 35232 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36} {2678890274233557724 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1580 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 89213 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36} {2678890274233557724 6 37}]
------------------------------------------------------
client write log 6770344032278828803 (index 38) to leader 1
client write log 7280009953533099730 (index 39) to leader 1
client write log 4571020291905338545 (index 40) to leader 1
client write log 8508115714086889060 (index 41) to leader 1
client write log 7662771299290103785 (index 42) to leader 1
client write log 7129506901322139495 (index 43) to leader 1
client write log 864862975367308136 (index 44) to leader 1
client write log 3536959753522069660 (index 45) to leader 1
client write log 8940201718057091914 (index 46) to leader 1
flag 59171 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 49982 term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {4535773936447716265 4 30} {6643869403571610241 4 31} {483164507413759728 4 32} {6287700616027015770 4 33} {1234899818367613970 4 34} {5064603868575838149 4 35} {5064603868575838149 6 36} {2678890274233557724 6 37} {6770344032278828803 6 38} {7280009953533099730 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=46
-------------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72905 term 6 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 6 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 2
client write log 647121637969778260 (index 47) to leader 1
flag 99580 term 6 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 6 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 89345 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 31132 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 48->47
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 80817 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 37  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
flag 808 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 27954 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 92459 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 23069 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76062 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 12875 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47339 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 25678 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87755 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 95326 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17456 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 27272 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 7361 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 98926 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 63883 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 49084 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 21253 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 17447 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 14287 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 77604 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 41418 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 58752 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 46735 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 83076 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 42496 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 32159 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
flag 98528 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 57238 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37303 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 52608 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31826 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 14281 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47}]
------------------------------------------------------
client write log 647121637969778260 (index 48) to leader 1
flag 3739 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 19721 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
flag 65046 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 73030 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
flag 31631 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 43647 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
flag 16798 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 1625 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
flag 96953 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 91052 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 2446 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 96235 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 61120 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 30502 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 68734 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 34851 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 20770 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 86104 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 92440 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 73443 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48}]
------------------------------------------------------
client write log 9195387140238676636 (index 49) to leader 2
flag 99798 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 16829 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 17336 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 23672 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {4571020291905338545 6 40} {8508115714086889060 6 41} {7662771299290103785 6 42} {7129506901322139495 6 43} {864862975367308136 6 44} {3536959753522069660 6 45} {8940201718057091914 6 46} {647121637969778260 6 47} {647121637969778260 8 48} {9195387140238676636 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 18046 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 41523 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 89148 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 6827094877158914625 (index 50) to leader 2
client write log 5242912309772184840 (index 51) to leader 2
client write log 402609414231620146 (index 52) to leader 2
client write log 8090717538523235002 (index 53) to leader 2
client write log 8678452516377798222 (index 54) to leader 2
client write log 8875683497848062337 (index 55) to leader 2
client write log 4870436568867630884 (index 56) to leader 2
client write log 5602452029335506160 (index 57) to leader 2
client write log 6253133092076199031 (index 58) to leader 2
client write log 4982809437529524985 (index 59) to leader 2
client write log 5597753368148015562 (index 60) to leader 2
client write log 4856513562513346073 (index 61) to leader 2
client write log 5158018519885828939 (index 62) to leader 2
client write log 2483327157050412596 (index 63) to leader 2
flag 23067 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 18881 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 49->48
------------------------------------------------------
flag 99037 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 49} {6827094877158914625 9 50} {5242912309772184840 9 51} {402609414231620146 9 52} {8090717538523235002 9 53} {8678452516377798222 9 54} {8875683497848062337 9 55} {4870436568867630884 9 56} {5602452029335506160 9 57} {6253133092076199031 9 58} {4982809437529524985 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=63
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 93278 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 37903 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=63
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8073584362915035945 (index 49) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 87211 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63471 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 42481 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 85583 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 26012 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 99844 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95013 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 91768 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 6423 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 11803 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46265 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 69916 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 91776 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 25433 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 10944 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 28918 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 82485 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 40945 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 35771 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 97698 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 64->63
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34644 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 63
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 63 args.LastIncludedIndex 59
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 95869 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 54948 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16997 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 31196 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 51235 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 35133 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 47430 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 46456 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 86489 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 23779 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 42109 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 70758 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20358 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 61615 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
flag 20332 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 66159 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
term 9 server 1 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 1
flag 52583 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 79213 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63}]
------------------------------------------------------
client write log 8073584362915035945 (index 64) to leader 2
flag 63609 term 9 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 77394 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
flag 24358 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 10739 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83876 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 14541 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57299 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 25533 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
flag 17970 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 95378 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
flag 86906 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 56347 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
flag 70784 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 96954 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7509690220675350005 (index 65) to leader 2
flag 57607 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 72441 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64} {7509690220675350005 9 65}]
------------------------------------------------------
flag 71437 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 73007 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64} {7509690220675350005 9 65}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5808570052425511248 (index 66) to leader 2
client write log 6167228083776234350 (index 67) to leader 2
client write log 2182717783199455288 (index 68) to leader 2
client write log 5221868484414565566 (index 69) to leader 2
client write log 6675607188516871330 (index 70) to leader 2
client write log 925544608571113645 (index 71) to leader 2
client write log 8569020712534851396 (index 72) to leader 2
flag 88964 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 88107 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 59} {5597753368148015562 9 60} {4856513562513346073 9 61} {5158018519885828939 9 62} {2483327157050412596 9 63} {8073584362915035945 9 64} {7509690220675350005 9 65} {5808570052425511248 9 66} {6167228083776234350 9 67} {2182717783199455288 9 68} {5221868484414565566 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=72
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 89768 term 9 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=72
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4985351184055275309 (index 73) to leader 2
term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 98466 term 9 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 67425 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 74251 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 74->73
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 65  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 6664 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
flag 48056 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 16276 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94175 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 77338 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
flag 67028 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 46092 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30206 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 93946 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
flag 19288 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 24271 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
flag 78578 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 3213 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
flag 57549 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 35452 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3166522523461358628 (index 74) to leader 2
flag 66037 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 59655 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73} {3166522523461358628 11 74}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96161 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 55584 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73} {3166522523461358628 11 74}]
------------------------------------------------------
client write log 5334364385490086514 (index 75) to leader 2
client write log 761018511421207630 (index 76) to leader 2
client write log 9118096843806134293 (index 77) to leader 2
client write log 1492478331925932655 (index 78) to leader 2
client write log 8607163924966905784 (index 79) to leader 2
client write log 6552083009238928201 (index 80) to leader 2
client write log 3530314255844980531 (index 81) to leader 2
client write log 7174004347459913549 (index 82) to leader 2
client write log 365511748541935387 (index 83) to leader 2
client write log 227396666016454666 (index 84) to leader 2
client write log 5203577530479355661 (index 85) to leader 2
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86917 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 19807 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 69} {6675607188516871330 9 70} {925544608571113645 9 71} {8569020712534851396 9 72} {4985351184055275309 9 73} {3166522523461358628 11 74} {5334364385490086514 11 75} {761018511421207630 11 76} {9118096843806134293 11 77} {1492478331925932655 11 78} {8607163924966905784 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=85
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 82395 term 11 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=85
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3431985650068099954 (index 86) to leader 2
term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 68382 term 11 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 36860 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 45934 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 80863 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
flag 73150 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 23918 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 6496 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 86903 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1690 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 66801 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 3927 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 31917 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 61194 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 52330 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 56989 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 71951 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 23784 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 94039 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 87647 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 70906 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 70706 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 93388 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 56422 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 81375 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 31717 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 34256 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 47399 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 97381 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 57321 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 44878 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 26522 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 47916 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83453 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 7180 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 51605 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 50176 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
flag 86717 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 20808 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86}]
------------------------------------------------------
client write log 3431985650068099954 (index 87) to leader 2
flag 99238 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 23116 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7306 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 3832 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 71144 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 30463 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
flag 22934 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 27187 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
flag 32877 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 85006 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
flag 48839 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 86200 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
flag 60349 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 76693 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 29615 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 8775 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 16875 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 88695 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 15533 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 93999 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
flag 64412 term 14 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 81310 term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87}]
------------------------------------------------------
client write log 3128395096639814851 (index 88) to leader 1
flag 89360 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 46158 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 89919 term 14 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 33 term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87} {3128395096639814851 14 88}]
------------------------------------------------------
flag 97450 term 13 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 29043 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 15623 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 36748 term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87} {3128395096639814851 14 88}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 88->87
------------------------------------------------------
client write log 9089417962585194923 (index 89) to leader 1
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 87
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 31525 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 13762 term 14 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 14 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 75843 term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {6552083009238928201 11 80} {3530314255844980531 11 81} {7174004347459913549 11 82} {365511748541935387 11 83} {227396666016454666 11 84} {5203577530479355661 11 85} {3431985650068099954 11 86} {3431985650068099954 13 87} {3128395096639814851 14 88} {9089417962585194923 14 89}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 87
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 2148 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 90221 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 89}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5082245014499676548 (index 90) to leader 1
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 87
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 42508 term 13 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 13 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71661 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 0 vote for server 1
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 90338 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 35345 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 91->90
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
flag 67815 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 83249 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28641 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 2624 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
flag 19844 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 31653 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98265 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 43287 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12275 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 95210 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
flag 70618 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 68637 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {5082245014499676548 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2387983081650495017 (index 91) to leader 1
flag 28170 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 33947 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {5082245014499676548 14 90} {2387983081650495017 16 91}]
------------------------------------------------------
flag 19010 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 10642 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {5082245014499676548 14 90} {2387983081650495017 16 91}]
------------------------------------------------------
client write log 5202835240636140625 (index 92) to leader 1
client write log 7727959426440214084 (index 93) to leader 1
client write log 4816377075359845287 (index 94) to leader 1
client write log 6111253782683574208 (index 95) to leader 1
client write log 5139089264358627137 (index 96) to leader 1
client write log 106447002008611450 (index 97) to leader 1
client write log 2141229095681082413 (index 98) to leader 1
client write log 5052155971499609885 (index 99) to leader 1
client write log 4414627609402037679 (index 100) to leader 1
client write log 5462856326528000921 (index 101) to leader 1
client write log 2753915833365871861 (index 102) to leader 1
flag 38313 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 94969 term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 89} {5082245014499676548 14 90} {2387983081650495017 16 91} {5202835240636140625 16 92} {7727959426440214084 16 93} {4816377075359845287 16 94} {6111253782683574208 16 95} {5139089264358627137 16 96} {106447002008611450 16 97} {2141229095681082413 16 98} {5052155971499609885 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=102
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98820 term 16 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 16 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=102
-------------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
!!!!!!connect server 2
client write log 7941139306999337075 (index 103) to leader 1
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 47974 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 46191 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 104->103
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
flag 81799 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 69174 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 97169 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 72476 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 67488 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7749 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 31622 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 35413 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 33860 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61096 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 85754 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 54439 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 66172 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 51589 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 50934 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25025 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 87494 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 43182 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 65935 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 12880 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 49580 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70174 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 81383 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93890 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 39266 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98361 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 39288 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 12605 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 29658 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 14977 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 6202 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52279 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 69503 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 82184 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 93042 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
flag 178 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 40715 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103}]
------------------------------------------------------
client write log 7941139306999337075 (index 104) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1933 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 89158 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
flag 4292 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 82205 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
flag 54907 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 49099 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
flag 93676 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 77485 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
flag 39651 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 46175 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
flag 98907 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 97359 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42848 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 73002 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 550599017088256404 (index 105) to leader 1
flag 39885 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 8811 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104} {550599017088256404 18 105}]
------------------------------------------------------
flag 86210 term 18 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 45467 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104} {550599017088256404 18 105}]
------------------------------------------------------
client write log 1791465348806585479 (index 106) to leader 1
client write log 1495063340133640575 (index 107) to leader 1
client write log 5083361820110952937 (index 108) to leader 1
client write log 7823439931831174160 (index 109) to leader 1
client write log 1087156971096061799 (index 110) to leader 1
client write log 512978071666515120 (index 111) to leader 1
flag 76249 term 18 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 27866 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 99} {4414627609402037679 16 100} {5462856326528000921 16 101} {2753915833365871861 16 102} {7941139306999337075 16 103} {7941139306999337075 18 104} {550599017088256404 18 105} {1791465348806585479 18 106} {1495063340133640575 18 107} {5083361820110952937 18 108} {7823439931831174160 18 109} {1087156971096061799 18 110} {512978071666515120 18 111}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=111
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80809 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=111
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1866429875000402202 (index 112) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33425 term 18 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get outdate rpc reply from server 0
flag 26009 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 51748 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 113->112
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
flag 79927 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
flag 9649 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 36972 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
flag 54239 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 10641 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
flag 4907 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 14571 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18714 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 55747 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65298 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 40168 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
flag 61759 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 9630 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
flag 91855 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 93834 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 43330 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 13129 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36987 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 31066 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 42725 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 36777 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
flag 86269 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 77156 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112}]
------------------------------------------------------
client write log 8038449173311715289 (index 113) to leader 0
flag 79381 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 61419 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46995 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 26958 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113}]
------------------------------------------------------
flag 75 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 76771 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 5989 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 39769 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113}]
------------------------------------------------------
client write log 859236355221841400 (index 114) to leader 0
flag 26243 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 40375 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 113->112
------------------------------------------------------
flag 57385 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 48986 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 113->112
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 112
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 112
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 34797 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 57520 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4584120539837265652 (index 113) to leader 1
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 112
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 112
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89996 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 60023 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 89726 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 40596 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79091 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 17833 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 52002 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 13495 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 2473 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 65688 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 50043 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 19365 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71520 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 72006 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12152 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 32383 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 21934 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 34985 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 69588 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 6172 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70764 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 28891 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 83745 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 2896 term 21 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 78582 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57619 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 38098 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 16026 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 32750 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 96964 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 80990 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27720 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 1471 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 27562 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 57048 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 7590 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 98563 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
flag 23408 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 26918 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114}]
------------------------------------------------------
client write log 4584120539837265652 (index 115) to leader 0
term 21 server 1 not vote for server 0, 日志不够新
term 21 server 0 get outdate rpc reply from server 1
flag 40277 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 64763 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
flag 71264 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 69472 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
flag 58577 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 86719 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
flag 24589 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 35557 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
flag 63752 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 45941 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
flag 32980 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 81969 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1883706949330833951 (index 116) to leader 0
flag 19307 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 93650 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115} {1883706949330833951 21 116}]
------------------------------------------------------
flag 45938 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 27213 term 21 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115} {1883706949330833951 21 116}]
------------------------------------------------------
client write log 4175515486949272695 (index 117) to leader 0
client write log 2160567617479941351 (index 118) to leader 0
client write log 6375653664159376281 (index 119) to leader 0
client write log 3405264474959774836 (index 120) to leader 0
client write log 4011957906098968093 (index 121) to leader 0
client write log 1044477151028743056 (index 122) to leader 0
client write log 6328235794787812969 (index 123) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52369 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 84674 term 21 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 18 109} {1087156971096061799 18 110} {512978071666515120 18 111} {1866429875000402202 18 112} {8038449173311715289 21 113} {859236355221841400 21 114} {4584120539837265652 21 115} {1883706949330833951 21 116} {4175515486949272695 21 117} {2160567617479941351 21 118} {6375653664159376281 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 96234 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8333619734273520244 (index 124) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 1, 日志不够新
term 21 server 2 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 1
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 2
flag 52848 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 2432 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 9863 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13709 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 92083 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76802 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 90549 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 68702 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 22622 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 98250 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 45558 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40942 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 8167 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72363 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 75706 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 37798 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 82291 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 57209 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 66976 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 63486 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 96916 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78509 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 73315 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9746 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 55862 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 42359 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 90550 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 68659 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 28304 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76036 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 626 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 91820 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 88084 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 61565 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 33162 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 59812 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 60363 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
flag 364 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 80491 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124}]
------------------------------------------------------
client write log 8333619734273520244 (index 125) to leader 0
flag 22982 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 60104 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88497 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 62910 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
flag 69061 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 89320 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16443 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 5765 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
flag 94297 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 60069 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75798 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 26153 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2400686886158985614 (index 126) to leader 0
flag 89750 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 65036 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125} {2400686886158985614 23 126}]
------------------------------------------------------
flag 51956 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 48544 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125} {2400686886158985614 23 126}]
------------------------------------------------------
client write log 3193024406790979490 (index 127) to leader 0
client write log 7133179820862324211 (index 128) to leader 0
client write log 6105745492621403045 (index 129) to leader 0
client write log 8856674465779165733 (index 130) to leader 0
client write log 8122036870623493333 (index 131) to leader 0
client write log 8228720359246193961 (index 132) to leader 0
client write log 7966129843641547867 (index 133) to leader 0
client write log 891808124571778129 (index 134) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9658 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 40998 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 119} {3405264474959774836 21 120} {4011957906098968093 21 121} {1044477151028743056 21 122} {6328235794787812969 21 123} {8333619734273520244 21 124} {8333619734273520244 23 125} {2400686886158985614 23 126} {3193024406790979490 23 127} {7133179820862324211 23 128} {6105745492621403045 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 60204 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1519367264631197793 (index 135) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 89563 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get outdate rpc reply from server 1
flag 36298 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 30917 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 136->135
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 90300 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
flag 50553 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 37382 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 89575 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 87607 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 52842 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 36580 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 9978 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 85839 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 50225 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 23556 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 70893 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 89696 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83668 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 73492 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 80259 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 59745 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 43044 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 77831 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 22928 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 24737 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 43305 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 7271 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 94583 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 76847 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 38050 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 50374 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 65725 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 19721 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 73877 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 76628 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 47949 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 35380 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
flag 36315 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 28183 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135}]
------------------------------------------------------
client write log 1519367264631197793 (index 136) to leader 0
flag 29709 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 15090 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
flag 7532 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 87019 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
flag 77111 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 95658 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
flag 58850 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 23427 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
flag 24296 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 43647 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
flag 5136 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 73949 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 31386 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 66130 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 95490 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 77962 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 86796 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 66395 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
flag 29632 term 26 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 69974 term 26 leader 2 nextIndex[1]: 137  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136}]
------------------------------------------------------
client write log 2862462210980736933 (index 137) to leader 2
flag 8643 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 52026 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 61652 term 26 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 34893 term 26 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136} {2862462210980736933 26 137}]
------------------------------------------------------
flag 85127 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 47169 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 63424 term 26 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 23616 term 26 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 26 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136} {2862462210980736933 26 137}]
------------------------------------------------------
flag 43175 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 35135 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
client write log 4054342410379224655 (index 138) to leader 2
flag 50303 term 26 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 20983 term 26 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 26 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136} {2862462210980736933 26 137} {4054342410379224655 26 138}]
------------------------------------------------------
flag 15721 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 58163 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77029 term 26 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
flag 39496 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 26 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136} {2862462210980736933 26 137} {4054342410379224655 26 138}]
------------------------------------------------------
flag 7148 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 44338 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
!!!!!!connect server 0
client write log 3517422514625007673 (index 139) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 80828 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 26 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 129} {8856674465779165733 23 130} {8122036870623493333 23 131} {8228720359246193961 23 132} {7966129843641547867 23 133} {891808124571778129 23 134} {1519367264631197793 23 135} {1519367264631197793 25 136} {2862462210980736933 26 137} {4054342410379224655 26 138} {3517422514625007673 26 139}]
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 136 args.LastIncludedIndex 129
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
term 26 Server2 start snapshot! index=139
term 26 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 95275 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 26 rf.commitIndex 139 rf.lastApplied 139
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 26 Server1 start snapshot! index=139
term 26 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 53676 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 87207 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 74762 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 54951 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 69140 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 30504 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 2760 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 7226 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6632259556681781854 (index 140) to leader 2
flag 29364 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 33090 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 26 139} {6632259556681781854 26 140}]
------------------------------------------------------
flag 52156 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 140 
------------------------------------------------------
flag 58092 term 26 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 26 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 26 139} {6632259556681781854 26 140}]
------------------------------------------------------
client write log 335924310353556712 (index 141) to leader 2
client write log 3275355332091981699 (index 142) to leader 2
client write log 7352002532631705160 (index 143) to leader 2
client write log 4641279285988731012 (index 144) to leader 2
client write log 7784237715236053532 (index 145) to leader 2
client write log 6901055338016260777 (index 146) to leader 2
client write log 1187930751074661026 (index 147) to leader 2
client write log 7633310616910690521 (index 148) to leader 2
client write log 2347474570519699387 (index 149) to leader 2
client write log 3330540045816886990 (index 150) to leader 2
client write log 2171837556817597876 (index 151) to leader 2
client write log 899633230875273090 (index 152) to leader 2
client write log 6097318956333582608 (index 153) to leader 2
flag 30256 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 140 
------------------------------------------------------
flag 53194 term 26 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 26 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 139} {6632259556681781854 26 140} {335924310353556712 26 141} {3275355332091981699 26 142} {7352002532631705160 26 143} {4641279285988731012 26 144} {7784237715236053532 26 145} {6901055338016260777 26 146} {1187930751074661026 26 147} {7633310616910690521 26 148} {2347474570519699387 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 24102 term 26 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2958802648678241832 (index 154) to leader 2
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 29048 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 57130 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 16106 term 28 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14372 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 27722 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
flag 23113 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 35285 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86071 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 61276 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15893 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 97569 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
flag 5287 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 11670 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 3429 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 25912 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
flag 64839 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 94205 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
flag 96942 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 68748 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48305 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 24199 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
flag 98716 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 47113 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57352 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 18400 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7964 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 87588 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16068 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 31744 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
flag 99751 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 53574 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5364 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 39111 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92479 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 89360 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79132 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 97221 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82365 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 87320 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154}]
------------------------------------------------------
client write log 2958802648678241832 (index 155) to leader 2
flag 56425 term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 17617 term 28 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
flag 49780 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 5488 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
flag 53660 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 12316 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
flag 72101 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 74792 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 98969 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 46308 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
flag 37179 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 17223 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2608384266109199462 (index 156) to leader 2
flag 15712 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 11144 term 28 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155} {2608384266109199462 28 156}]
------------------------------------------------------
flag 27025 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 77553 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155} {2608384266109199462 28 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1398450376077426547 (index 157) to leader 2
client write log 5195091787459133207 (index 158) to leader 2
client write log 2314662354447387098 (index 159) to leader 2
client write log 5017522094471116564 (index 160) to leader 2
client write log 5720106792600935944 (index 161) to leader 2
client write log 5082098147877327677 (index 162) to leader 2
client write log 3915193026568947700 (index 163) to leader 2
client write log 199528634105348385 (index 164) to leader 2
client write log 5726470486892960177 (index 165) to leader 2
client write log 8341414436465481923 (index 166) to leader 2
client write log 5826327333239554775 (index 167) to leader 2
client write log 4051902623822471594 (index 168) to leader 2
client write log 2723395866958596571 (index 169) to leader 2
client write log 6554306685975723264 (index 170) to leader 2
flag 21028 term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 46534 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 149} {3330540045816886990 26 150} {2171837556817597876 26 151} {899633230875273090 26 152} {6097318956333582608 26 153} {2958802648678241832 26 154} {2958802648678241832 28 155} {2608384266109199462 28 156} {1398450376077426547 28 157} {5195091787459133207 28 158} {2314662354447387098 28 159} {5017522094471116564 28 160} {5720106792600935944 28 161} {5082098147877327677 28 162} {3915193026568947700 28 163} {199528634105348385 28 164} {5726470486892960177 28 165} {8341414436465481923 28 166} {5826327333239554775 28 167} {4051902623822471594 28 168} {2723395866958596571 28 169} {6554306685975723264 28 170}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=170
-------------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 37278 term 28 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 28 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {6554306685975723264 28 170}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=170
-------------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1200387383383991443 (index 171) to leader 2
term 28 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 16640 term 28 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 28 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 170 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 55485 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 95057 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 172->171
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 75468 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25968 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 35718 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
flag 17604 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 48726 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
flag 50140 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 31758 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
flag 24436 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 34173 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
flag 18294 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 20961 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30535 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 31608 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
flag 58784 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 44279 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83393 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 90987 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 93923 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 67118 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 49427 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 32544 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 748 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 18887 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
flag 54651 term 31 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 12954 term 31 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 73650 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 5615 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171}]
------------------------------------------------------
client write log 1149597543399547210 (index 172) to leader 0
flag 13911 term 31 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 17437 term 31 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 24048 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 47861 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171} {1149597543399547210 31 172}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 50119 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 49352 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 63136 term 31 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 5277 term 31 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171} {1149597543399547210 31 172}]
------------------------------------------------------
client write log 5064687372784922733 (index 173) to leader 0
client write log 6455000485975738129 (index 174) to leader 0
client write log 4513703288853996332 (index 175) to leader 0
client write log 1292402374626143316 (index 176) to leader 0
client write log 7620744770810079533 (index 177) to leader 0
client write log 839839233791542553 (index 178) to leader 0
client write log 6690797959926129000 (index 179) to leader 0
client write log 341601991984456328 (index 180) to leader 0
client write log 5871809760932698444 (index 181) to leader 0
client write log 8859158283273696317 (index 182) to leader 0
client write log 8661058137811126912 (index 183) to leader 0
client write log 5957356418658477235 (index 184) to leader 0
flag 8253 term 31 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 17068 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 89496 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 32593 term 31 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 28 169} {6554306685975723264 28 170} {1200387383383991443 28 171} {1149597543399547210 31 172} {5064687372784922733 31 173} {6455000485975738129 31 174} {4513703288853996332 31 175} {1292402374626143316 31 176} {7620744770810079533 31 177} {839839233791542553 31 178} {6690797959926129000 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 172->171
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
flag 44153 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
flag 86986 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 12205 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4842995232182355091 (index 172) to leader 2
flag 64808 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 85591 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 39138 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 40817 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 58683 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27751 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 69230 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71266 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 69660 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40867 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 62673 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68946 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 4755 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 67755 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 98398 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 1284 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 83631 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98772 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 81783 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 56138 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 59345 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 23668 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 98658 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 70382 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 2004 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 94572 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 80795 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 70241 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 96634 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76921 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 14052 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 85764 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 19350 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 6925 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 60114 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 35117 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 20366 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 10570 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 73928 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
flag 36593 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 59371 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184}]
------------------------------------------------------
client write log 4842995232182355091 (index 185) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96057 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 38233 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
flag 80924 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 62884 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57908 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 39753 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
flag 42665 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 77789 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
flag 36292 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 62341 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
flag 75739 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 21140 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5970919875737856511 (index 186) to leader 0
flag 57055 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 61143 term 31 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185} {5970919875737856511 31 186}]
------------------------------------------------------
flag 35390 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 186 
------------------------------------------------------
flag 15403 term 31 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 31 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 186 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185} {5970919875737856511 31 186}]
------------------------------------------------------
client write log 8463942295285321687 (index 187) to leader 0
client write log 610127249818011706 (index 188) to leader 0
client write log 5097480900839050978 (index 189) to leader 0
client write log 8135051751704672943 (index 190) to leader 0
client write log 5241014314697838352 (index 191) to leader 0
client write log 6891442632151234412 (index 192) to leader 0
client write log 2506026071939383551 (index 193) to leader 0
client write log 4514161640360268770 (index 194) to leader 0
client write log 8403117783954955333 (index 195) to leader 0
client write log 999339131883947007 (index 196) to leader 0
client write log 3925904926179023821 (index 197) to leader 0
client write log 4400197036158933248 (index 198) to leader 0
client write log 506545034769867714 (index 199) to leader 0
client write log 5535693283925788192 (index 200) to leader 0
client write log 5363761879549363753 (index 201) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57745 term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 186 
------------------------------------------------------
flag 32957 term 31 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 31 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 186 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 179} {341601991984456328 31 180} {5871809760932698444 31 181} {8859158283273696317 31 182} {8661058137811126912 31 183} {5957356418658477235 31 184} {4842995232182355091 31 185} {5970919875737856511 31 186} {8463942295285321687 31 187} {610127249818011706 31 188} {5097480900839050978 31 189} {8135051751704672943 31 190} {5241014314697838352 31 191} {6891442632151234412 31 192} {2506026071939383551 31 193} {4514161640360268770 31 194} {8403117783954955333 31 195} {999339131883947007 31 196} {3925904926179023821 31 197} {4400197036158933248 31 198} {506545034769867714 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201}]
------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=201
-------------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 99804 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201}]
------------------------------------------------------
term 31 Server2 start snapshot! index=189
term 31 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=201
-------------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4764330470037238934 (index 202) to leader 0
term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 45955 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 32 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 1 vote for server 0
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26593 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 25561 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 5238 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
flag 40193 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 87864 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 84930 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 14610 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36004 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 21903 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 81848 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 75317 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73803 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 87191 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 89971 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 35721 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65026 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 25349 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33687 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 52829 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31216 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 41653 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85255 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 23098 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 54394 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 65197 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 30847 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 77149 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61849 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 27303 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 51725 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 96827 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 40869 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 40076 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 9484 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 79520 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
flag 80066 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 54642 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202}]
------------------------------------------------------
client write log 4764330470037238934 (index 203) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58073 term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 96528 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
flag 55664 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 20842 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57920 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 35201 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
flag 96254 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 71940 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
flag 74913 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 15160 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85219 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 13982 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
flag 56484 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 74426 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1994331942438031404 (index 204) to leader 0
flag 47790 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 87437 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203} {1994331942438031404 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37745 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 6374 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203} {1994331942438031404 33 204}]
------------------------------------------------------
client write log 6282476372242582573 (index 205) to leader 0
client write log 5745594091126854668 (index 206) to leader 0
client write log 7020997612793847241 (index 207) to leader 0
client write log 1199956940265329451 (index 208) to leader 0
client write log 8159735377848553390 (index 209) to leader 0
client write log 4977762912642333767 (index 210) to leader 0
client write log 2882363662806929865 (index 211) to leader 0
flag 71732 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 11217 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 199} {5535693283925788192 31 200} {5363761879549363753 31 201} {4764330470037238934 31 202} {4764330470037238934 33 203} {1994331942438031404 33 204} {6282476372242582573 33 205} {5745594091126854668 33 206} {7020997612793847241 33 207} {1199956940265329451 33 208} {8159735377848553390 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 24833 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1910006702064500715 (index 212) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 43124 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 44407 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
term 35 leader 0 nextIndex[1]: 204  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 90213 term 35 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 57299 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 86987 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3613 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 34249 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 98951 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 92447 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
flag 52121 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 31503 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 11588 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 12912 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 9540 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 85979 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 26876 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 11089 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 65008 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 54172 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 45355 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 93960 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 28818 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 23936 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 88420 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 38750 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 96993 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 95874 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 34618 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 17808 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 32193 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 91902 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 11814 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 97301 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 72394 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 57934 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
flag 69774 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 64900 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86459 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 1659 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212}]
------------------------------------------------------
client write log 1910006702064500715 (index 213) to leader 0
flag 21776 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 12678 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
flag 48667 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 56035 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
flag 76942 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 94302 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
flag 53448 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 13920 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56106 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 89661 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
flag 61823 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 24788 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
flag 96290 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 59234 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 44488 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 2169 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 34859 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 15303 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 3863 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 21347 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
flag 52734 term 36 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 82883 term 36 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213}]
------------------------------------------------------
flag 94346 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 25338 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
client write log 3250722887443715406 (index 214) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 41581 term 36 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213} {3250722887443715406 36 214}]
------------------------------------------------------
flag 18162 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 98233 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 93056 term 36 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213} {3250722887443715406 36 214}]
------------------------------------------------------
flag 73034 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 69904 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
client write log 4947494036332329655 (index 215) to leader 1
client write log 2628673221239012614 (index 216) to leader 1
client write log 4397123461070093431 (index 217) to leader 1
client write log 6948981212434485479 (index 218) to leader 1
client write log 3181714345414400471 (index 219) to leader 1
client write log 4607500453001604872 (index 220) to leader 1
client write log 7072101444484258653 (index 221) to leader 1
client write log 4938679104757271090 (index 222) to leader 1
client write log 1774819698743648697 (index 223) to leader 1
client write log 1239135784228400682 (index 224) to leader 1
client write log 5616268978790819606 (index 225) to leader 1
client write log 6147784834150817715 (index 226) to leader 1
client write log 841978744994039947 (index 227) to leader 1
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 47981 term 36 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 209} {4977762912642333767 33 210} {2882363662806929865 33 211} {1910006702064500715 33 212} {1910006702064500715 35 213} {3250722887443715406 36 214} {4947494036332329655 36 215} {2628673221239012614 36 216} {4397123461070093431 36 217} {6948981212434485479 36 218} {3181714345414400471 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
flag 47845 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 1018 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 90030 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
flag 84262 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 20500 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
!!!!!!connect server 0
client write log 5445237414147482037 (index 228) to leader 1
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 92170 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60301 term 36 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 55677 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
flag 51052 term 36 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 48175 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51053 term 36 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 4310 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
flag 23763 term 36 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 17827 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30032 term 36 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 20567 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
flag 4969 term 36 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 60722 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 665 term 36 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 77456 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3970426884792076080 (index 229) to leader 1
flag 38545 term 36 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 14351 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {4607500453001604872 36 220} {7072101444484258653 36 221} {4938679104757271090 36 222} {1774819698743648697 36 223} {1239135784228400682 36 224} {5616268978790819606 36 225} {6147784834150817715 36 226} {841978744994039947 36 227} {5445237414147482037 36 228} {3970426884792076080 36 229}]
------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72945 term 36 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
client write log 4828984797957697731 (index 230) to leader 1
client write log 2586225445176317994 (index 231) to leader 1
client write log 4615530667321195543 (index 232) to leader 1
client write log 2670805606268902041 (index 233) to leader 1
client write log 9158916086021204073 (index 234) to leader 1
client write log 2498307965778152230 (index 235) to leader 1
client write log 8682576427434830673 (index 236) to leader 1
client write log 3847586193964271422 (index 237) to leader 1
client write log 4478505806496612760 (index 238) to leader 1
client write log 8073161332166448196 (index 239) to leader 1
client write log 4841879497869141860 (index 240) to leader 1
flag 26033 term 36 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 229} {4828984797957697731 36 230} {2586225445176317994 36 231} {4615530667321195543 36 232} {2670805606268902041 36 233} {9158916086021204073 36 234} {2498307965778152230 36 235} {8682576427434830673 36 236} {3847586193964271422 36 237} {4478505806496612760 36 238} {8073161332166448196 36 239} {4841879497869141860 36 240}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
flag 79566 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8579973926902698988 (index 241) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 82376 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 94727 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 242->241
------------------------------------------------------
flag 88924 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 62551 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 88812 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 4715 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 29065 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 85710 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 63272 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 3138 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 77734 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 96510 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 55202 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60574 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 57377 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 25189 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 83089 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10262 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 31533 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 7361 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 52341 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81432 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 41916 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 58298 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 52311 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 279 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 52806 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 97208 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 49204 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18190 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 52859 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 16752 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 35255 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
flag 70351 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 93614 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91418 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 12125 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2213 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 61856 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241}]
------------------------------------------------------
client write log 8579973926902698988 (index 242) to leader 1
flag 13502 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 1699 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
flag 82904 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 58065 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
flag 26874 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 37177 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
flag 83918 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 90859 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
flag 81298 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 9232 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7167 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 59804 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 292994981292440983 (index 243) to leader 1
flag 76828 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 68585 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242} {292994981292440983 38 243}]
------------------------------------------------------
flag 88812 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 73721 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242} {292994981292440983 38 243}]
------------------------------------------------------
client write log 6960911498770150036 (index 244) to leader 1
client write log 441078753852346814 (index 245) to leader 1
client write log 7730701667518800031 (index 246) to leader 1
client write log 7242951093773178790 (index 247) to leader 1
client write log 5525797700194712672 (index 248) to leader 1
client write log 6854370274757926970 (index 249) to leader 1
client write log 8395386611505582691 (index 250) to leader 1
client write log 3602072007901351436 (index 251) to leader 1
client write log 6368351228597782012 (index 252) to leader 1
client write log 8606755632963452607 (index 253) to leader 1
client write log 740922347012199240 (index 254) to leader 1
client write log 8411384589159162214 (index 255) to leader 1
client write log 2896025193639512562 (index 256) to leader 1
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5562 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 70058 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 239} {4841879497869141860 36 240} {8579973926902698988 36 241} {8579973926902698988 38 242} {292994981292440983 38 243} {6960911498770150036 38 244} {441078753852346814 38 245} {7730701667518800031 38 246} {7242951093773178790 38 247} {5525797700194712672 38 248} {6854370274757926970 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
flag 51974 term 38 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 38 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256}]
------------------------------------------------------
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5314877506286543857 (index 257) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get outdate rpc reply from server 0
flag 31848 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 53806 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 258->257
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
flag 79619 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 38 rf.commitIndex 249 rf.lastApplied 249
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 15155 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 34599 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 29355 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 77978 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 57050 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 78711 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 60572 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 35234 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17987 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 59055 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 66689 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 87650 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 42064 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 73444 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 25525 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 48063 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35918 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 36365 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43110 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 84326 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 78433 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 78388 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28479 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 94753 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 84791 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 75945 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 16005 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 21252 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
flag 65789 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 41772 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83770 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 90424 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10266 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 23819 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5314877506286543857 (index 258) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62581 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 95461 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
flag 61483 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 68113 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
flag 92238 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 362 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1836 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 6981 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
flag 67305 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 54816 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
flag 52261 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 48691 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
flag 25391 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 26227 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 85583 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 78738 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 82660 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 57876 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 50888 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 71643 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 98305 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 74528 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
client write log 4341604662335892110 (index 259) to leader 0
flag 58071 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 2242 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 249} {8395386611505582691 38 250} {3602072007901351436 38 251} {6368351228597782012 38 252} {8606755632963452607 38 253} {740922347012199240 38 254} {8411384589159162214 38 255} {2896025193639512562 38 256} {5314877506286543857 38 257} {5314877506286543857 40 258} {4341604662335892110 41 259}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 21909 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 10753 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 54706 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 3855132857602025230 (index 260) to leader 0
flag 13841 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 59110 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 29130 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 258
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 51086 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 21389 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1660711759482215185 (index 259) to leader 1
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 258
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 52030 term 40 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 94293 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13806 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 98644 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 78961 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 18579 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 2527 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 71891 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 65221 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 64707 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 62758 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 94025 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 10232 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 7628 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 65413 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 21203 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 40469 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 56437 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 日志不够新
term 41 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38078 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 6671 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91740 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 34417 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 35204 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 48284 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 85233 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 99188 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 3287 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 61662 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 21444 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 71013 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 60652 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 12063 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 38022 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 78362 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 92008 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 71412 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
flag 98729 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 68708 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {3855132857602025230 41 260}]
------------------------------------------------------
client write log 1660711759482215185 (index 261) to leader 0
flag 17926 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 66369 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5197 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 21004 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7334 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 79866 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
flag 54256 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 25685 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76544 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 74682 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56234 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 65019 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6281138094663452390 (index 262) to leader 0
flag 14958 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 32439 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262}]
------------------------------------------------------
flag 78312 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 16983 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262}]
------------------------------------------------------
client write log 3429456133393729583 (index 263) to leader 0
client write log 9056750856687614047 (index 264) to leader 0
client write log 9063305705517474869 (index 265) to leader 0
client write log 7951604667198341815 (index 266) to leader 0
client write log 4050414723460529560 (index 267) to leader 0
client write log 3835809931551204402 (index 268) to leader 0
flag 98916 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 99470 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 262->261
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 0  matchIndex[1]: 261
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 86234 term 41 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 41 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268}]
------------------------------------------------------
!!!!!!connect server 1
client write log 61521142061601652 (index 269) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 1830 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 331 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
flag 1054 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 85783 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97403 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 65981 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 97281 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 94818 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 17713 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 99584 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 60341 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 48471 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 28759 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 18931 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 45094 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 57087 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89088 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 41045 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42399 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 43124 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 74453 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 39881 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57146 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 6112 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 25024 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 46006 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 28259 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 8945 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 45126 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 55474 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82796 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 33161 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95919 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 68571 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95241 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 89859 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13155 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 94598 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
flag 13680 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 33647 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269}]
------------------------------------------------------
client write log 61521142061601652 (index 270) to leader 0
flag 76122 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 23202 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269} {61521142061601652 43 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {3855132857602025230 41 260} {1660711759482215185 41 261} {6281138094663452390 41 262} {3429456133393729583 41 263} {9056750856687614047 41 264} {9063305705517474869 41 265} {7951604667198341815 41 266} {4050414723460529560 41 267} {3835809931551204402 41 268} {61521142061601652 41 269} {61521142061601652 43 270}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 63929 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 98425 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 43809 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 13804 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
flag 56188 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 99611 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50248 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 99653 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
flag 7233 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 36759 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30840 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 29764 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {61521142061601652 43 270}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 95377872633876017 (index 271) to leader 0
flag 8625 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 63945 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {61521142061601652 43 270} {95377872633876017 43 271}]
------------------------------------------------------
flag 95015 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 26970 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {61521142061601652 43 270} {95377872633876017 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6697755978884661496 (index 272) to leader 0
client write log 6485176293204625376 (index 273) to leader 0
client write log 6663774859498290586 (index 274) to leader 0
client write log 1551156330458558205 (index 275) to leader 0
client write log 2162130588736320766 (index 276) to leader 0
client write log 4744534945102144794 (index 277) to leader 0
client write log 6398086458719897350 (index 278) to leader 0
client write log 6877072048803781670 (index 279) to leader 0
client write log 5189661957570431529 (index 280) to leader 0
client write log 7107784585977110169 (index 281) to leader 0
client write log 9043658973355088258 (index 282) to leader 0
client write log 6339579318462178401 (index 283) to leader 0
client write log 3295642288867484543 (index 284) to leader 0
client write log 680027660212259500 (index 285) to leader 0
flag 30244 term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 68382 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 41 269} {61521142061601652 43 270} {95377872633876017 43 271} {6697755978884661496 43 272} {6485176293204625376 43 273} {6663774859498290586 43 274} {1551156330458558205 43 275} {2162130588736320766 43 276} {4744534945102144794 43 277} {6398086458719897350 43 278} {6877072048803781670 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 41956 term 43 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 43 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285}]
------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=285
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8555014606213136328 (index 286) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 12753 term 43 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 43 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 get outdate rpc reply from server 1
flag 67616 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 37055 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 287->286
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 49282 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 40378 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 75473 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 72853 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 17212 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 82486 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 55437 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 13310 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 59973 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 16627 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 76732 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49620 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 81913 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 44381 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 55056 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 98123 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 98750 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 23654 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 14107 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 74687 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 89949 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 60094 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 5350 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 92131 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 24583 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 44939 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 73514 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 47530 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 98597 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 62501 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 17198 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 73149 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 8991 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286}]
------------------------------------------------------
flag 6670 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 25288 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
client write log 8555014606213136328 (index 287) to leader 0
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 81960 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 86630 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 60354 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 25415 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 12841 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 23415 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 89309 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 42100 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 50723 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 9094 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 28510 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 93032 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
flag 84204 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 70988 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 3320 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 13144 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 93509 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 21174 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 615 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 83736 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
flag 57619 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 108 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287}]
------------------------------------------------------
client write log 870054176711734391 (index 288) to leader 2
flag 39109 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 2101 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 38867 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 98705 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287} {870054176711734391 46 288}]
------------------------------------------------------
flag 80741 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 20923 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 39238 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 15491 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287} {870054176711734391 46 288}]
------------------------------------------------------
client write log 776006722160054541 (index 289) to leader 2
flag 83718 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 64714 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 48662 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 98515 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 279} {5189661957570431529 43 280} {7107784585977110169 43 281} {9043658973355088258 43 282} {6339579318462178401 43 283} {3295642288867484543 43 284} {680027660212259500 43 285} {8555014606213136328 43 286} {8555014606213136328 45 287} {870054176711734391 46 288} {776006722160054541 46 289}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 61022 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 28810 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 4168 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2911967387351452276 (index 290) to leader 2
flag 52639 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 68669 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 12453 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 95183 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 14684 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
flag 59341 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 40453 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1182 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 98474 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
flag 6563 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 21016 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
flag 45496 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 59085 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24199 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 74508 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2911967387351452276 46 290}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6052301648710010172 (index 291) to leader 2
flag 15569 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 92971 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2911967387351452276 46 290} {6052301648710010172 46 291}]
------------------------------------------------------
flag 62775 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 11040 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2911967387351452276 46 290} {6052301648710010172 46 291}]
------------------------------------------------------
client write log 7755529461339144600 (index 292) to leader 2
client write log 4725222548961141788 (index 293) to leader 2
client write log 6428495290666656839 (index 294) to leader 2
client write log 9065167780532482212 (index 295) to leader 2
client write log 3960223834831949055 (index 296) to leader 2
client write log 3734508211482409675 (index 297) to leader 2
client write log 3420455777614517406 (index 298) to leader 2
client write log 496130927752975108 (index 299) to leader 2
client write log 4539076694519376708 (index 300) to leader 2
client write log 7933416920974841549 (index 301) to leader 2
client write log 1413263172148187261 (index 302) to leader 2
client write log 1592979111055708784 (index 303) to leader 2
client write log 3971879873546105623 (index 304) to leader 2
client write log 6477728147194456639 (index 305) to leader 2
flag 95079 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 94407 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 289} {2911967387351452276 46 290} {6052301648710010172 46 291} {7755529461339144600 46 292} {4725222548961141788 46 293} {6428495290666656839 46 294} {9065167780532482212 46 295} {3960223834831949055 46 296} {3734508211482409675 46 297} {3420455777614517406 46 298} {496130927752975108 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305}]
------------------------------------------------------
term 46 Server2 start snapshot! index=299
term 46 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 92025 term 46 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 46 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305}]
------------------------------------------------------
term 46 Server1 start snapshot! index=299
term 46 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3375522913012821246 (index 306) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 72681 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 66750 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 39166 term 48 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45306 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 60215 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20094 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 25859 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 85608 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 19691 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 16068 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 3591 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 26878 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 38322 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 63655 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 1589 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 82541 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 61006 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 34600 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 19434 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 44689 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 95438 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 73657 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 12598 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39390 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 49702 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40094 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 88855 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 97144 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 46317 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95229 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 67166 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
flag 18870 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 94374 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60374 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 88383 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97143 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 22073 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94549 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 36978 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306}]
------------------------------------------------------
client write log 3375522913012821246 (index 307) to leader 2
flag 65712 term 48 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 78266 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
flag 88529 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 49059 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
flag 38259 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 81709 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
flag 89571 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 86488 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
flag 38102 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 35648 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
flag 16393 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 65898 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68225 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 33463 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2500597271126938426 (index 308) to leader 2
flag 19121 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 19105 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307} {2500597271126938426 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16636 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 9596 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307} {2500597271126938426 48 308}]
------------------------------------------------------
client write log 2938727097968678182 (index 309) to leader 2
client write log 8311044069902431427 (index 310) to leader 2
client write log 557998318054763064 (index 311) to leader 2
client write log 2229099115694230420 (index 312) to leader 2
client write log 5527880274212229873 (index 313) to leader 2
client write log 7394369997487359064 (index 314) to leader 2
client write log 6663656515420908089 (index 315) to leader 2
client write log 8107561782499744364 (index 316) to leader 2
client write log 468205137156291185 (index 317) to leader 2
client write log 8456566928548623472 (index 318) to leader 2
client write log 824404100040145963 (index 319) to leader 2
client write log 7191418379334916493 (index 320) to leader 2
client write log 2128537473892979644 (index 321) to leader 2
client write log 4085732897255709302 (index 322) to leader 2
client write log 1914511472247999824 (index 323) to leader 2
flag 47173 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 80731 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 299} {4539076694519376708 46 300} {7933416920974841549 46 301} {1413263172148187261 46 302} {1592979111055708784 46 303} {3971879873546105623 46 304} {6477728147194456639 46 305} {3375522913012821246 46 306} {3375522913012821246 48 307} {2500597271126938426 48 308} {2938727097968678182 48 309} {8311044069902431427 48 310} {557998318054763064 48 311} {2229099115694230420 48 312} {5527880274212229873 48 313} {7394369997487359064 48 314} {6663656515420908089 48 315} {8107561782499744364 48 316} {468205137156291185 48 317} {8456566928548623472 48 318} {824404100040145963 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323}]
------------------------------------------------------
term 48 Server2 start snapshot! index=309
term 48 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=323
-------------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 22060 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=323
-------------------------------------------------------------
term 48 Server1 start snapshot! index=319
term 48 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9177149448723534469 (index 324) to leader 2
term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 93059 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 13149 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 82837 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 325->324
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 22060 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
flag 56023 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 44087 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
flag 46790 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 3290 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51897 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 10461 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
flag 39338 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 97434 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89470 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 38850 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41933 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 37041 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
flag 31440 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 1346 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93017 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 7891 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 81457 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 9145 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 97247 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 2418 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 9813 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 42662 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324}]
------------------------------------------------------
client write log 4035734407116692587 (index 325) to leader 0
flag 21151 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 55286 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 35118 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 74152 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324} {4035734407116692587 51 325}]
------------------------------------------------------
flag 38870 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 89278 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 42799 term 51 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 29174 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324} {4035734407116692587 51 325}]
------------------------------------------------------
client write log 6416169670615731477 (index 326) to leader 0
client write log 2542940255738959697 (index 327) to leader 0
client write log 1446247071139701429 (index 328) to leader 0
client write log 2193084688902978892 (index 329) to leader 0
client write log 3727296819262841592 (index 330) to leader 0
client write log 1253807237716365161 (index 331) to leader 0
client write log 8432830475291459270 (index 332) to leader 0
client write log 8575096812939351466 (index 333) to leader 0
client write log 513332779706387316 (index 334) to leader 0
client write log 3956794039835579823 (index 335) to leader 0
client write log 1757334062890005300 (index 336) to leader 0
client write log 1814464161253338961 (index 337) to leader 0
client write log 6367052352050998702 (index 338) to leader 0
client write log 6163011589246255655 (index 339) to leader 0
client write log 129093153398079586 (index 340) to leader 0
flag 49937 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 91964 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 87147 term 51 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 96623 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 319} {7191418379334916493 48 320} {2128537473892979644 48 321} {4085732897255709302 48 322} {1914511472247999824 48 323} {9177149448723534469 48 324} {4035734407116692587 51 325} {6416169670615731477 51 326} {2542940255738959697 51 327} {1446247071139701429 51 328} {2193084688902978892 51 329} {3727296819262841592 51 330} {1253807237716365161 51 331} {8432830475291459270 51 332} {8575096812939351466 51 333} {513332779706387316 51 334} {3956794039835579823 51 335} {1757334062890005300 51 336} {1814464161253338961 51 337} {6367052352050998702 51 338} {6163011589246255655 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
flag 91256 term 50 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 18013 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62661 term 51 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 51 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 51 Server1 start snapshot! index=329
term 51 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=340
-------------------------------------------------------------
term 51 Server1 start snapshot! index=339
term 51 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7167802772525150530 (index 325) to leader 2
term 50 server 2 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 2
term 51 server 1 not vote for server 2, 日志不够新
term 51 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 1
term 53 server 0 become leader
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get outdate rpc reply from server 2
flag 14877 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 74776 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 341->340
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27957 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 326  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 51 rf.commitIndex 339 rf.lastApplied 339
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 53831 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 53883 term 53 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 82830 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 68937 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 20345 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 73482 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 14057 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 12757 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 67425 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 10738 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70606 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 66540 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 92720 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 1701 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60694 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 62500 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 64891 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 63134 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47568 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 81169 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
update nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
flag 96521 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 24264 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 9304 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 64933 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
update nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 60158 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 33261 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 13514 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 55825 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 71504 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 74275 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 20929 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 14785 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 38345 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 3625 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
flag 22477 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 83093 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {129093153398079586 51 340}]
------------------------------------------------------
client write log 7167802772525150530 (index 341) to leader 0
flag 42672 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 77999 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
flag 3726 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 37428 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
flag 84140 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 68037 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
flag 45881 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 51276 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
flag 90897 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 75176 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26780 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 36862 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
flag 55895 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 90311 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1217721578774368230 (index 342) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8628 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 17296 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341} {1217721578774368230 53 342}]
------------------------------------------------------
flag 24328 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 24011 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341} {1217721578774368230 53 342}]
------------------------------------------------------
client write log 4336778184137058782 (index 343) to leader 0
client write log 7701121866422171261 (index 344) to leader 0
client write log 978522552571812207 (index 345) to leader 0
client write log 2721359771532579275 (index 346) to leader 0
client write log 9046301924286025089 (index 347) to leader 0
client write log 4488959471059142507 (index 348) to leader 0
client write log 6813140856885000156 (index 349) to leader 0
client write log 6294128629699649345 (index 350) to leader 0
client write log 5385270730052555889 (index 351) to leader 0
flag 10946 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 2409 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 51 339} {129093153398079586 51 340} {7167802772525150530 53 341} {1217721578774368230 53 342} {4336778184137058782 53 343} {7701121866422171261 53 344} {978522552571812207 53 345} {2721359771532579275 53 346} {9046301924286025089 53 347} {4488959471059142507 53 348} {6813140856885000156 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351}]
------------------------------------------------------
term 53 Server0 start snapshot! index=349
term 53 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=351
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 33849 term 53 leader 0 nextIndex[2]: 352  matchIndex[2]: 351
term 53 leader 0 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351}]
------------------------------------------------------
term 53 Server2 start snapshot! index=349
term 53 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=351
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4029205741519190534 (index 352) to leader 0
term 53 server 2 not vote for server 1, 日志不够新
term 53 server 0 not vote for server 1, 日志不够新
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get outdate rpc reply from server 1
flag 62555 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 79604 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 353->352
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 353->352
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 342  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 81912 term 55 leader 0 nextIndex[2]: 352  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24395 term 55 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 55 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 96158 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
update nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 14392 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 1319 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2767 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 13678 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 45382 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 62066 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 14389 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 67747 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17055 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 52257 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37769 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 12658 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76220 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 89026 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 25054 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 50821 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3335 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 30751 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 80227 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 28839 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 13106 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 96140 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59392 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 23893 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 3369 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 8146 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2450 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 19800 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 68235 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 54496 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
flag 68787 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 45561 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4029205741519190534 (index 353) to leader 0
flag 81476 term 55 leader 0 nextIndex[1]: 353  matchIndex[1]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
flag 91566 term 55 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 55 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
flag 25929 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
flag 96358 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
flag 71258 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
flag 30560 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
flag 50787 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
flag 81850 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
flag 50557 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
flag 13228 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
flag 44787 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
flag 98263 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
flag 45550 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
flag 38533 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 55 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {6294128629699649345 53 350} {5385270730052555889 53 351} {4029205741519190534 53 352} {4029205741519190534 55 353}]
------------------------------------------------------
  ... Passed --  79.0  3 1810  755005  353
--- PASS: TestSnapshotInstall2D (78.99s)
PASS
