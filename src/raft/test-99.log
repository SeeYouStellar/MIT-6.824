=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
client write log 5857028085077972156 (index 1) to leader 1
flag 6740 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 36829 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
flag 44848 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42913 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
flag 46796 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67586 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
flag 49591 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 60975 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
flag 38034 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76289 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
flag 99324 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14595 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5857028085077972156 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1856262070139503045 (index 2) to leader 1
flag 44019 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32158 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5857028085077972156 1 1} {1856262070139503045 1 2}]
------------------------------------------------------
flag 13707 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 85926 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5857028085077972156 1 1} {1856262070139503045 1 2}]
------------------------------------------------------
client write log 6460169745377117855 (index 3) to leader 1
client write log 8187853816576365475 (index 4) to leader 1
client write log 6907116917365394384 (index 5) to leader 1
client write log 5462334366037970479 (index 6) to leader 1
client write log 3457175753709268845 (index 7) to leader 1
client write log 8514884570317991209 (index 8) to leader 1
client write log 5385539554099975374 (index 9) to leader 1
client write log 2457507723527953141 (index 10) to leader 1
flag 24159 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 82344 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {5857028085077972156 1 1} {1856262070139503045 1 2} {6460169745377117855 1 3} {8187853816576365475 1 4} {6907116917365394384 1 5} {5462334366037970479 1 6} {3457175753709268845 1 7} {8514884570317991209 1 8} {5385539554099975374 1 9} {2457507723527953141 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 55604 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1470250104091372586 (index 11) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 73123 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 93752 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
flag 40600 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 10837 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 64884 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 32916 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 48031 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35450 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 91041 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 49138 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41181 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 87141 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 36953 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 48099 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 44611 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 13052 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 34091 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 8346 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 13026 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 9272 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 86741 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 61957 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 76826 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82493 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 97723 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 74061 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 42512 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 82607 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 68516 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 61322 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 69307 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 63367 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 58855 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 5628 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 13351 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 86921 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 93536 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
flag 96271 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 74256 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11}]
------------------------------------------------------
client write log 1470250104091372586 (index 12) to leader 1
flag 1935 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 55635 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
flag 93808 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 90207 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12657 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 72064 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
flag 96415 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 26320 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
flag 96712 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 85941 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
flag 7389 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 19578 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
flag 49672 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 94300 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 16382 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 68326 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 39634 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 31794 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 86813 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 91438 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 19479 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 37658 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
client write log 2883651674435173586 (index 13) to leader 0
flag 67375 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 11106 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13}]
------------------------------------------------------
flag 63682 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 68427 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 66764 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13}]
------------------------------------------------------
client write log 141112577398826338 (index 14) to leader 0
flag 98764 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 13606 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 11523 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 73690 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 59127 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5993351727150061024 (index 13) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9710 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 76952 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 46651 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 60222 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 74061 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 69365 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41365 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 7342 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 1
flag 16352 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 65642 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 33246 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 17390 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 86712 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 7373 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 72359 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 55487 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 69910 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 78404 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 15->14
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 14
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 72404 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 14 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 75156 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 1526 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 90874 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 70040 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74109 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 23635 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 17838 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 27632 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 53198 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 640 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 61302 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 43963 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 54691 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 10137 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 185 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 55663 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 5661 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 71027 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
flag 6297 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 56391 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14}]
------------------------------------------------------
client write log 5993351727150061024 (index 15) to leader 0
flag 13816 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 54828 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54291 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 2982 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
flag 38606 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 63849 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
flag 31082 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 42258 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
flag 90079 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 73600 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
flag 23145 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 76346 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33305 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 83590 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7586061535350883571 (index 16) to leader 0
flag 98735 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 44525 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15} {7586061535350883571 4 16}]
------------------------------------------------------
flag 93876 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 46584 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15} {7586061535350883571 4 16}]
------------------------------------------------------
client write log 5229254663639808016 (index 17) to leader 0
client write log 6875986951531032127 (index 18) to leader 0
client write log 6027512420807674489 (index 19) to leader 0
client write log 854914896662102334 (index 20) to leader 0
client write log 4347886145937995727 (index 21) to leader 0
client write log 9164301432866243648 (index 22) to leader 0
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38345 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 21411 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {2457507723527953141 1 10} {1470250104091372586 1 11} {1470250104091372586 3 12} {2883651674435173586 4 13} {141112577398826338 4 14} {5993351727150061024 4 15} {7586061535350883571 4 16} {5229254663639808016 4 17} {6875986951531032127 4 18} {6027512420807674489 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 55017 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6337174814829231094 (index 23) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 8878 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 51773 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 24->23
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 94818 term 6 leader 0 nextIndex[2]: 23  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 28273 term 6 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 65379 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 3572 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 10491 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 85896 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 48779 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 47550 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 43740 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 21317 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 20120 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 80087 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 95159 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41993 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 97955 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84310 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 82487 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50488 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 50358 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 9292 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 32420 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 28887 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 35467 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 3753 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 72847 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 46056 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 83163 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 94003 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 25229 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 75459 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 23401 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 47849 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 47232 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
flag 49453 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 355 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6337174814829231094 (index 24) to leader 0
flag 26179 term 6 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 98914 term 6 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
flag 44730 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 97491 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52081 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 19827 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
flag 71124 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 78857 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
flag 68 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 81919 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
flag 35646 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 64408 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
flag 13479 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 11174 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2505394739452167624 (index 25) to leader 0
flag 84709 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 8018 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24} {2505394739452167624 6 25}]
------------------------------------------------------
flag 98530 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 44924 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24} {2505394739452167624 6 25}]
------------------------------------------------------
client write log 1399362399245292866 (index 26) to leader 0
client write log 6255002888632066673 (index 27) to leader 0
client write log 4956906304032372931 (index 28) to leader 0
client write log 6625312909752265495 (index 29) to leader 0
client write log 3738203428902229211 (index 30) to leader 0
client write log 7555666727328832625 (index 31) to leader 0
client write log 1309138725424548054 (index 32) to leader 0
client write log 7886183473230627936 (index 33) to leader 0
client write log 6503208656839034777 (index 34) to leader 0
client write log 4718045118253486738 (index 35) to leader 0
client write log 8579410426872979441 (index 36) to leader 0
client write log 6669389403922233583 (index 37) to leader 0
flag 14413 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 31549 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 19} {854914896662102334 4 20} {4347886145937995727 4 21} {9164301432866243648 4 22} {6337174814829231094 4 23} {6337174814829231094 6 24} {2505394739452167624 6 25} {1399362399245292866 6 26} {6255002888632066673 6 27} {4956906304032372931 6 28} {6625312909752265495 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 92362 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8552082070984506503 (index 38) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 95927 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 89730 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 95710 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 25  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 70726 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 9278 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 56577 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 38591 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 32558 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 2736 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 43616 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30899 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 66421 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 96132 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 31765 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11223 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 80309 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 71454 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 83667 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16124 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 49219 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 59656 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 96587 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 38354 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 61225 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 73283 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 42057 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 30306 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 44850 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 26729 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 63200 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 97354 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 57320 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16057 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 85312 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
flag 95299 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 27992 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38}]
------------------------------------------------------
client write log 8552082070984506503 (index 39) to leader 0
flag 99812 term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 30993 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38} {8552082070984506503 8 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {3738203428902229211 6 30} {7555666727328832625 6 31} {1309138725424548054 6 32} {7886183473230627936 6 33} {6503208656839034777 6 34} {4718045118253486738 6 35} {8579410426872979441 6 36} {6669389403922233583 6 37} {8552082070984506503 6 38} {8552082070984506503 8 39}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 47147 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 90653 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 58204 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 57215 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 12216 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 26207 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 76188 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 42416 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 48167 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 80670 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 30254 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 31370 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 79962 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 46222 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 58267 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 21236 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 86864 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 22320 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
client write log 5374355012760581048 (index 40) to leader 1
flag 63559 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 26426 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 8 39} {5374355012760581048 9 40}]
------------------------------------------------------
flag 91402 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 81259 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 27737 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 18165 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 8 39} {5374355012760581048 9 40}]
------------------------------------------------------
client write log 7814710885424598685 (index 41) to leader 1
client write log 2796394467845594297 (index 42) to leader 1
client write log 5675129453833108067 (index 43) to leader 1
client write log 7693129973036984600 (index 44) to leader 1
client write log 8895937755882005962 (index 45) to leader 1
client write log 1319604711428686729 (index 46) to leader 1
client write log 5598139987278154450 (index 47) to leader 1
client write log 6068430713024495752 (index 48) to leader 1
client write log 3115614353368205412 (index 49) to leader 1
client write log 5479692343153805581 (index 50) to leader 1
flag 72694 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 67923 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 83212 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 58634 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {5374355012760581048 9 40} {7814710885424598685 9 41} {2796394467845594297 9 42} {5675129453833108067 9 43} {7693129973036984600 9 44} {8895937755882005962 9 45} {1319604711428686729 9 46} {5598139987278154450 9 47} {6068430713024495752 9 48} {3115614353368205412 9 49} {5479692343153805581 9 50}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 39
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 77193 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 89382 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {5479692343153805581 9 50}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5463563602185067167 (index 51) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 39
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 57773 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 41283 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 4246 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 93856 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
flag 97598 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 67687 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
flag 36403 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 59647 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
flag 44111 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 28059 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22738 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 41696 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
flag 27148 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 42217 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
flag 20373 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 34845 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1316673749956616345 (index 52) to leader 1
flag 80664 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 63807 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51} {1316673749956616345 9 52}]
------------------------------------------------------
flag 89029 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 70709 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51} {1316673749956616345 9 52}]
------------------------------------------------------
client write log 8279556323021662876 (index 53) to leader 1
client write log 2747462162053441013 (index 54) to leader 1
client write log 6392882589946056393 (index 55) to leader 1
client write log 2408329350244310840 (index 56) to leader 1
client write log 3092673334819555252 (index 57) to leader 1
client write log 1963499001089200955 (index 58) to leader 1
client write log 619997763285093882 (index 59) to leader 1
client write log 6151501432484029842 (index 60) to leader 1
client write log 6417214108122625095 (index 61) to leader 1
client write log 7049312104345105957 (index 62) to leader 1
client write log 8246575272904030289 (index 63) to leader 1
client write log 1087636824572633311 (index 64) to leader 1
client write log 8980978542416352698 (index 65) to leader 1
client write log 8288000538679667218 (index 66) to leader 1
term 9 server 0 not vote for server 1, 日志不够新
term 9 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75459 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 59864 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 49} {5479692343153805581 9 50} {5463563602185067167 9 51} {1316673749956616345 9 52} {8279556323021662876 9 53} {2747462162053441013 9 54} {6392882589946056393 9 55} {2408329350244310840 9 56} {3092673334819555252 9 57} {1963499001089200955 9 58} {619997763285093882 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=66
-------------------------------------------------------------
flag 16586 term 9 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 9 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=66
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1570871189857991059 (index 67) to leader 1
flag 4769 term 9 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 9 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get outdate rpc reply from server 2
flag 32164 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 42082 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 68->67
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 86021 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 27476 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 78807 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 37722 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 1010 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 54813 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 78002 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 5056 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 8879 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40298 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 41594 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 36464 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 42968 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43423 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 3614 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 98608 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 60878 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1992 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 99937 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 88994 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 27367 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 39403 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 6363 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 73202 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 87977 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 72037 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 13973 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 81464 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 46865 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 34227 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 237 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 55959 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 26956 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
flag 40974 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 72643 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67}]
------------------------------------------------------
client write log 1570871189857991059 (index 68) to leader 1
flag 58321 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 97868 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90641 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 63443 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
term 11 server 0 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18848 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 79647 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39482 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 10776 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
flag 21373 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 27155 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
flag 54389 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 50910 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3644041477915973807 (index 69) to leader 1
flag 85856 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 28781 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {6151501432484029842 9 60} {6417214108122625095 9 61} {7049312104345105957 9 62} {8246575272904030289 9 63} {1087636824572633311 9 64} {8980978542416352698 9 65} {8288000538679667218 9 66} {1570871189857991059 9 67} {1570871189857991059 11 68} {3644041477915973807 11 69}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7065 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 3420851522497838638 (index 70) to leader 1
client write log 6223243920647752624 (index 71) to leader 1
client write log 338403642491363236 (index 72) to leader 1
client write log 98031031090840807 (index 73) to leader 1
client write log 4282450526059446805 (index 74) to leader 1
client write log 8107168916989613619 (index 75) to leader 1
client write log 9179913679700463165 (index 76) to leader 1
flag 28881 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76}]
------------------------------------------------------
flag 13107 term 11 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76}]
------------------------------------------------------
!!!!!!connect server 2
client write log 149347384050225014 (index 77) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7152 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 97811 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
flag 53717 term 13 leader 1 nextIndex[0]: 77  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 69  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21816 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 48027 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 71732 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 26572 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96751 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 29266 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 90917 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 59470 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6578 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 61606 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 63589 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 49947 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96018 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 18891 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64668 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 742 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18410 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 80213 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 75840 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 58645 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 5737 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 85417 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90740 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 18070 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 39028 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 97680 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 88726 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 40437 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 45291 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 9395 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 52024 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 85308 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
flag 47993 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 80543 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47725 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 25971 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77}]
------------------------------------------------------
client write log 149347384050225014 (index 78) to leader 1
flag 96945 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 54399 term 13 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97540 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 47072 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
flag 80929 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 81216 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
flag 7048 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 19433 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
flag 53468 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 98515 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
flag 48278 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 88771 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4565 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 3600 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 85507 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 18382 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40922 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 79587 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 55218 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 45598 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 14604 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 42354 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get vote from server 0
term 14 server 2 become leader
------------------------------------------------------
flag 57677 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 83961 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78}]
------------------------------------------------------
client write log 1538616921704935177 (index 79) to leader 2
flag 39362 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 3604 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 54256 term 14 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 38793 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {3420851522497838638 11 70} {6223243920647752624 11 71} {338403642491363236 11 72} {98031031090840807 11 73} {4282450526059446805 11 74} {8107168916989613619 11 75} {9179913679700463165 11 76} {149347384050225014 11 77} {149347384050225014 13 78} {1538616921704935177 14 79}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 79->78
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 78
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 78993 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 13607 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 6325699033320116030 (index 80) to leader 2
client write log 7672600335919973437 (index 81) to leader 2
client write log 448999844100204015 (index 82) to leader 2
client write log 8604206326704747844 (index 83) to leader 2
client write log 3656909850507930672 (index 84) to leader 2
client write log 7169815950002954066 (index 85) to leader 2
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 78
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 41252 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 51016 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 78
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 9028 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 47762 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6611701579825126923 (index 79) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 78
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 78
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 88099 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 47935 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 71823 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 78  matchIndex[1]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5445 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 80564 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 98618 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 59971 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 94556 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 59953 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 55135 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 27144 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 5354 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 83891 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 30517 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 29116 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 80858 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 90716 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47023 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 54825 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 74025 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 4194 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 74029 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 90334 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 19478 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 64062 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 88296 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 69391 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 68613 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 41115 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
update nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 78891 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 36953 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98018 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 47077 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70394 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 17638 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16258 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 82561 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85}]
------------------------------------------------------
flag 75057 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 14176 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
client write log 6611701579825126923 (index 86) to leader 2
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
flag 1820 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 86526 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
flag 16205 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 31906 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
flag 45177 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 31291 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
flag 93968 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 97800 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
flag 22987 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 38140 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
flag 93280 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 62018 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6872700944438527731 (index 87) to leader 2
flag 74446 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 23659 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86} {6872700944438527731 14 87}]
------------------------------------------------------
flag 89926 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 82482 term 14 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86} {6872700944438527731 14 87}]
------------------------------------------------------
client write log 7178671647895733851 (index 88) to leader 2
client write log 6602581724150182040 (index 89) to leader 2
client write log 4014760412675073918 (index 90) to leader 2
client write log 1625387358898855257 (index 91) to leader 2
client write log 4666231130565578125 (index 92) to leader 2
client write log 1442747083906201863 (index 93) to leader 2
client write log 5981592479496031993 (index 94) to leader 2
client write log 1771474316240979103 (index 95) to leader 2
flag 62654 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 28948 term 14 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 79} {6325699033320116030 14 80} {7672600335919973437 14 81} {448999844100204015 14 82} {8604206326704747844 14 83} {3656909850507930672 14 84} {7169815950002954066 14 85} {6611701579825126923 14 86} {6872700944438527731 14 87} {7178671647895733851 14 88} {6602581724150182040 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=95
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 83777 term 14 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 14 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=95
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6249606743951695997 (index 96) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 96->95
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 95 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get outdate rpc reply from server 0
flag 23231 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 63112 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 97->96
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 97->96
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 65549 term 16 leader 2 nextIndex[1]: 96  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
flag 18882 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 35500 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19486 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 93262 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 20778 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 53847 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 94731 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 14297 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94657 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 99953 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 23260 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 65868 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91731 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 33405 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 21201 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 54371 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 58188 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 76390 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
update nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 71243 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 92590 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 72131 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 2870 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 93983 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 28315 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 30133 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 43763 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 72232 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 10348 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 30603 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 72513 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 74030 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 86462 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
flag 5277 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 27160 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96}]
------------------------------------------------------
client write log 6249606743951695997 (index 97) to leader 2
flag 33516 term 16 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 4486 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
flag 3281 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 92581 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
flag 72400 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 73609 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
flag 55831 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 24779 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
flag 75730 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 1877 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8019 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 26485 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1755219626357597665 (index 98) to leader 2
flag 45852 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 77506 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97} {1755219626357597665 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28744 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 46971 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97} {1755219626357597665 16 98}]
------------------------------------------------------
client write log 961289589687293745 (index 99) to leader 2
client write log 3693920537059911151 (index 100) to leader 2
client write log 300764305868092543 (index 101) to leader 2
client write log 7471093861533249810 (index 102) to leader 2
client write log 7405703186854796059 (index 103) to leader 2
client write log 6876494843756518695 (index 104) to leader 2
client write log 481596713013290725 (index 105) to leader 2
flag 96389 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 46521 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 89} {4014760412675073918 14 90} {1625387358898855257 14 91} {4666231130565578125 14 92} {1442747083906201863 14 93} {5981592479496031993 14 94} {1771474316240979103 14 95} {6249606743951695997 14 96} {6249606743951695997 16 97} {1755219626357597665 16 98} {961289589687293745 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=105
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 6850 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4640353186907253999 (index 106) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 17261 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 61849 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 107->106
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 107->106
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 58758 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89980 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 41441 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 22945 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 94384 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 52487 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 28028 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43733 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 63785 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95931 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 60562 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 51301 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 65033 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 26074 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 51445 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 50085 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 67359 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 97174 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 16056 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 28054 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 94544 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 36518 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 65361 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 44262 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 7418 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 57071 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 29585 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 58028 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 23053 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32374 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 51088 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91359 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 13958 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
flag 45792 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 82948 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106}]
------------------------------------------------------
client write log 4640353186907253999 (index 107) to leader 2
flag 13691 term 18 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 43809 term 18 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 18 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
flag 29628 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 38556 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95562 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 78671 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
flag 55191 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 79051 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
flag 68147 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 32494 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
flag 97743 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 58574 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 97488 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 58290 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 45284 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 33296 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 62194 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 80018 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 70418 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 2264 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 38442 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 61287 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107}]
------------------------------------------------------
client write log 8891618446440369988 (index 108) to leader 0
flag 72066 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 72347 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 16271 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 13600 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107} {8891618446440369988 19 108}]
------------------------------------------------------
flag 53296 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 92391 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 93582 term 19 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 48672 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107} {8891618446440369988 19 108}]
------------------------------------------------------
client write log 3574043729650462733 (index 109) to leader 0
client write log 8503651866323678123 (index 110) to leader 0
client write log 1474576146917717862 (index 111) to leader 0
client write log 405925679361128455 (index 112) to leader 0
client write log 65896474014153712 (index 113) to leader 0
client write log 964936297514790588 (index 114) to leader 0
client write log 9168547327634728799 (index 115) to leader 0
client write log 579919938755018382 (index 116) to leader 0
client write log 64340519942099289 (index 117) to leader 0
client write log 7462146877656395214 (index 118) to leader 0
flag 35999 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 64085 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12414 term 19 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 7773 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 99} {3693920537059911151 16 100} {300764305868092543 16 101} {7471093861533249810 16 102} {7405703186854796059 16 103} {6876494843756518695 16 104} {481596713013290725 16 105} {4640353186907253999 16 106} {4640353186907253999 18 107} {8891618446440369988 19 108} {3574043729650462733 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=118
-------------------------------------------------------------
flag 43897 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 38911 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 81903 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=118
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5518959021937720673 (index 108) to leader 2
flag 67880 term 18 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 76220 term 18 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 18 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75412 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36367 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 32941 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 22561 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 94915 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 44706 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 68534 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 11905 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 33883 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 30918 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 39549 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 41970 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 41648 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 15746 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 77564 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17323 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 60026 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 20962 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 71571 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 51658 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 22466 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 25499 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 41047 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9357 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 57309 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85819 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 16687 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 21632 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 12552 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65078 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 46104 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 28768 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 72989 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 96757 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 87206 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
flag 48844 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 72005 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64274 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 896 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118}]
------------------------------------------------------
client write log 5518959021937720673 (index 119) to leader 0
flag 54328 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 44335 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118} {5518959021937720673 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {8503651866323678123 19 110} {1474576146917717862 19 111} {405925679361128455 19 112} {65896474014153712 19 113} {964936297514790588 19 114} {9168547327634728799 19 115} {579919938755018382 19 116} {64340519942099289 19 117} {7462146877656395214 19 118} {5518959021937720673 19 119}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22839 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 20143 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 90875 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 12890 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
flag 64291 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 119 args.LastIncludedIndex 119
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
flag 93594 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 7450 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
flag 58256 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 119 args.LastIncludedIndex 119
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5916575828132096601 (index 120) to leader 0
flag 59372 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 8763 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5916575828132096601 19 120}]
------------------------------------------------------
flag 49779 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 31669 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5916575828132096601 19 120}]
------------------------------------------------------
client write log 6786173095015472965 (index 121) to leader 0
client write log 6945300354214549371 (index 122) to leader 0
client write log 4175110641257280520 (index 123) to leader 0
client write log 3881268490901155342 (index 124) to leader 0
client write log 7857419439218676345 (index 125) to leader 0
client write log 1315303229682635857 (index 126) to leader 0
client write log 7066421644332635571 (index 127) to leader 0
client write log 2676478185379482481 (index 128) to leader 0
client write log 7248515309188132335 (index 129) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37994 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 62762 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 119} {5916575828132096601 19 120} {6786173095015472965 19 121} {6945300354214549371 19 122} {4175110641257280520 19 123} {3881268490901155342 19 124} {7857419439218676345 19 125} {1315303229682635857 19 126} {7066421644332635571 19 127} {2676478185379482481 19 128} {7248515309188132335 19 129}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 67108 term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5544903175654795945 (index 130) to leader 0
term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 22515 term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 10955 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 65617 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 131->130
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 34046 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97837 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 60290 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65605 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 77910 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
flag 65429 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 17301 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59784 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 23096 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
flag 55325 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 97993 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
flag 35650 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 99280 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
flag 62131 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 87837 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5544903175654795945 19 130}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8642830813843274764 (index 131) to leader 0
flag 44982 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 61721 term 21 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131}]
------------------------------------------------------
flag 68878 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 71047 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2646625990271883171 (index 132) to leader 0
client write log 4206888521407582138 (index 133) to leader 0
client write log 4472997461209571169 (index 134) to leader 0
client write log 3454985699925319551 (index 135) to leader 0
client write log 4398447060894548622 (index 136) to leader 0
client write log 1289644053335501802 (index 137) to leader 0
client write log 2154444459983998424 (index 138) to leader 0
flag 67683 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 99366 term 21 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 21 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63263 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 89972 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6689052659272301933 (index 139) to leader 0
flag 69435 term 21 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 21 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 12647 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 22 server 1 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get outdate rpc reply from server 0
flag 27153 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 77938 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 140->139
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 93017 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 86838 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 86691 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 35977 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 35821 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 72875 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20924 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 21928 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 7946 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 97750 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 16329 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 89475 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58905 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 97906 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 45452 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 29469 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 2 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 2
flag 11441 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 47394 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 9075 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 83079 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 49304 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 13721 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38878 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 34355 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 60673 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 8340 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 5426 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 70202 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
flag 92224 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 83270 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139}]
------------------------------------------------------
client write log 6689052659272301933 (index 140) to leader 2
flag 90867 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 30713 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 129} {5544903175654795945 19 130} {8642830813843274764 21 131} {2646625990271883171 21 132} {4206888521407582138 21 133} {4472997461209571169 21 134} {3454985699925319551 21 135} {4398447060894548622 21 136} {1289644053335501802 21 137} {2154444459983998424 21 138} {6689052659272301933 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 81228 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 98385 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 13359 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 18575 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34632 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 51016 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97387 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 48623 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 70903 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 81146 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 20655 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 92370 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 27481 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 85298 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20359 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 57064 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
flag 31122 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 3247 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {6689052659272301933 24 140}]
------------------------------------------------------
client write log 1142941595209001883 (index 141) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38171 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 76282 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 92990 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 93148 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6689052659272301933 24 140} {1142941595209001883 25 141}]
------------------------------------------------------
flag 95444 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 37465 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 41648 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 7284 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6689052659272301933 24 140} {1142941595209001883 25 141}]
------------------------------------------------------
client write log 8886891904697128573 (index 142) to leader 0
client write log 3296304311833707985 (index 143) to leader 0
client write log 389219965251965364 (index 144) to leader 0
client write log 3480478410801979725 (index 145) to leader 0
client write log 4843418512410534215 (index 146) to leader 0
client write log 4762457427571341561 (index 147) to leader 0
client write log 5953097029336736118 (index 148) to leader 0
client write log 7313520656886951240 (index 149) to leader 0
client write log 8303369810801051365 (index 150) to leader 0
client write log 3998428640372245349 (index 151) to leader 0
client write log 6826036690538122761 (index 152) to leader 0
client write log 4218283300030477102 (index 153) to leader 0
client write log 4277828483065457431 (index 154) to leader 0
flag 42500 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 35946 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 97579 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 49319 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 139} {6689052659272301933 24 140} {1142941595209001883 25 141} {8886891904697128573 25 142} {3296304311833707985 25 143} {389219965251965364 25 144} {3480478410801979725 25 145} {4843418512410534215 25 146} {4762457427571341561 25 147} {5953097029336736118 25 148} {7313520656886951240 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
flag 26232 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 11395 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 10316 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4811399343312967010 (index 141) to leader 2
flag 9948 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 42353 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54045 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 22542 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 32797 term 25 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 89483 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 7114 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 28865 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 67409 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 87220 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 66059 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75277 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 43566 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74235 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 99132 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 56997 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 18014 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 54685 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 18930 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 39350 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 78606 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 69556 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 34017 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 155->154
------------------------------------------------------
flag 95401 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 154
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 2 InstallSnapshot fail
rf.commitIndex 154 args.LastIncludedIndex 149
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 62037 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 75553 term 25 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 29698 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 5386 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 10639 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 6292 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22522 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 65021 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 39226 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 56173 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 75744 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 78528 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
flag 42604 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 61182 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26731 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 79393 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154}]
------------------------------------------------------
client write log 4811399343312967010 (index 155) to leader 0
flag 76935 term 25 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 90971 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
flag 42216 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 14983 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4333 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 46680 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
term 25 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
flag 49756 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 55640 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
flag 78951 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 28549 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 156->155
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 76082 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 155
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 2 InstallSnapshot fail
rf.commitIndex 155 args.LastIncludedIndex 149
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
term 25 server 2 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 2
flag 41274 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 72698 term 25 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6758757701942347360 (index 156) to leader 0
flag 94942 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 34016 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155} {6758757701942347360 25 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46278 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 41556 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155} {6758757701942347360 25 156}]
------------------------------------------------------
client write log 3463005533844540737 (index 157) to leader 0
client write log 6854127029873245632 (index 158) to leader 0
client write log 2621314513198801887 (index 159) to leader 0
client write log 4648616636514202733 (index 160) to leader 0
client write log 1736049336342958280 (index 161) to leader 0
client write log 8819556863794059949 (index 162) to leader 0
client write log 3311160837321246971 (index 163) to leader 0
client write log 1401285994492710450 (index 164) to leader 0
client write log 8337961050348440064 (index 165) to leader 0
client write log 6220176438572661429 (index 166) to leader 0
client write log 3250416613812089304 (index 167) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78896 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 72508 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 149} {8303369810801051365 25 150} {3998428640372245349 25 151} {6826036690538122761 25 152} {4218283300030477102 25 153} {4277828483065457431 25 154} {4811399343312967010 25 155} {6758757701942347360 25 156} {3463005533844540737 25 157} {6854127029873245632 25 158} {2621314513198801887 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167}]
------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 57307 term 25 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 25 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167}]
------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3701055190210731242 (index 168) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 46477 term 25 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 25 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 1
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 2
flag 86704 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 83390 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 69583 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
flag 87373 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 59513 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56873 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 93375 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 14795 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 90792 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 26539 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 17031 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47440 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 31414 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 71755 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 93884 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 52742 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 33118 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 50515 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 36058 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 24163 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 68905 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 61247 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 80882 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 81613 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 58846 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 2969 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 75142 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 27338 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 35943 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 81960 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 46116 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
flag 60762 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 33778 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73609 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 85103 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89293 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 11255 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168}]
------------------------------------------------------
client write log 3701055190210731242 (index 169) to leader 0
flag 3748 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 57430 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168} {3701055190210731242 27 169}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 25 159} {4648616636514202733 25 160} {1736049336342958280 25 161} {8819556863794059949 25 162} {3311160837321246971 25 163} {1401285994492710450 25 164} {8337961050348440064 25 165} {6220176438572661429 25 166} {3250416613812089304 25 167} {3701055190210731242 25 168} {3701055190210731242 27 169}]
------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 65640 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 66250 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 27 Server1 start snapshot! index=169
term 27 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 74171 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 56719 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5405 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 17273 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55693 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 92728 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39904 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 92753 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6811333355783954736 (index 170) to leader 0
flag 33334 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 25841 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 27 169} {6811333355783954736 27 170}]
------------------------------------------------------
flag 48969 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
flag 78969 term 27 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 27 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 27 169} {6811333355783954736 27 170}]
------------------------------------------------------
client write log 7047833582855594709 (index 171) to leader 0
client write log 271808018742353857 (index 172) to leader 0
client write log 3800764023173877083 (index 173) to leader 0
client write log 5985699493156497385 (index 174) to leader 0
client write log 670991515335225350 (index 175) to leader 0
client write log 9170962587735378223 (index 176) to leader 0
client write log 8423751942607740214 (index 177) to leader 0
client write log 7331884303889254680 (index 178) to leader 0
client write log 1254665181361464483 (index 179) to leader 0
flag 70512 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
flag 92337 term 27 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 27 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 27 169} {6811333355783954736 27 170} {7047833582855594709 27 171} {271808018742353857 27 172} {3800764023173877083 27 173} {5985699493156497385 27 174} {670991515335225350 27 175} {9170962587735378223 27 176} {8423751942607740214 27 177} {7331884303889254680 27 178} {1254665181361464483 27 179}]
------------------------------------------------------
term 27 Server0 start snapshot! index=179
term 27 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 53331 term 27 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 27 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 179 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 27 179}]
------------------------------------------------------
term 27 Server2 start snapshot! index=179
term 27 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8049700538342767526 (index 180) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 35122 term 27 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 27 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 179 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 2
flag 2657 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 99241 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 181->180
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 1635 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 27 rf.commitIndex 179 rf.lastApplied 179
flag 75124 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 70705 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 server 0 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 0
flag 92909 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 9994 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33259 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 81908 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
flag 99414 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 23122 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
flag 87624 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 74837 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
flag 19812 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 12972 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 72048 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 41583 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 47701 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 97293 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 86992 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 89242 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
flag 90386 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 98476 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 30782 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 98752 term 30 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 27 179} {8049700538342767526 27 180}]
------------------------------------------------------
client write log 5509218334621732945 (index 181) to leader 1
flag 29750 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 77911 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 3518 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 66456 term 30 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {8049700538342767526 27 180} {5509218334621732945 30 181}]
------------------------------------------------------
flag 36308 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 74490 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 19115 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 20554 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 181 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 27 179} {8049700538342767526 27 180} {5509218334621732945 30 181}]
------------------------------------------------------
client write log 6251090931823798780 (index 182) to leader 1
client write log 7619262143740051340 (index 183) to leader 1
client write log 2350942450869218966 (index 184) to leader 1
client write log 1924307343919723009 (index 185) to leader 1
client write log 5688784727602910045 (index 186) to leader 1
client write log 3830557442667672198 (index 187) to leader 1
client write log 7279311602544527530 (index 188) to leader 1
client write log 8210413733727001982 (index 189) to leader 1
flag 9576 term 29 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 76715 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
flag 86823 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 181 
------------------------------------------------------
flag 39517 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 181 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 27 179} {8049700538342767526 27 180} {5509218334621732945 30 181} {6251090931823798780 30 182} {7619262143740051340 30 183} {2350942450869218966 30 184} {1924307343919723009 30 185} {5688784727602910045 30 186} {3830557442667672198 30 187} {7279311602544527530 30 188} {8210413733727001982 30 189}]
------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 181->180
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 180
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 34711 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 92165 term 30 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1471296026820972720 (index 190) to leader 1
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 180
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 87880 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 27 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 37404 term 30 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
term 30 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96438 term 30 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 11865 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
term 30 leader 1 nextIndex[0]: 0  matchIndex[0]: 190
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 76911 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 InstallSnapshot fail
rf.commitIndex 189 args.LastIncludedIndex 189
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 71161 term 30 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 13131 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
flag 25566 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 45069 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
flag 5545 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 67912 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73362 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 75487 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36041 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 35125 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
flag 44292 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 42493 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {1471296026820972720 30 190}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4080270221712984166 (index 191) to leader 1
flag 10329 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 52851 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {1471296026820972720 30 190} {4080270221712984166 30 191}]
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 72824 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 45638 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {1471296026820972720 30 190} {4080270221712984166 30 191}]
------------------------------------------------------
client write log 8977702133605607423 (index 192) to leader 1
client write log 6765150597839857 (index 193) to leader 1
client write log 5596037138526815436 (index 194) to leader 1
client write log 4532294233810379899 (index 195) to leader 1
client write log 2728645200322455343 (index 196) to leader 1
client write log 7134741894007290721 (index 197) to leader 1
client write log 7209819337137736954 (index 198) to leader 1
client write log 3811833407813157729 (index 199) to leader 1
client write log 2524320334626061867 (index 200) to leader 1
client write log 8132983364519029758 (index 201) to leader 1
client write log 4631778285688833683 (index 202) to leader 1
client write log 2668880490006165406 (index 203) to leader 1
client write log 2435263352261327224 (index 204) to leader 1
client write log 7668816517830617613 (index 205) to leader 1
client write log 7782302393609237982 (index 206) to leader 1
flag 89786 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 41625 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 30 189} {1471296026820972720 30 190} {4080270221712984166 30 191} {8977702133605607423 30 192} {6765150597839857 30 193} {5596037138526815436 30 194} {4532294233810379899 30 195} {2728645200322455343 30 196} {7134741894007290721 30 197} {7209819337137736954 30 198} {3811833407813157729 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206}]
------------------------------------------------------
term 30 Server1 start snapshot! index=199
term 30 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=206
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 207->206
------------------------------------------------------
term 30 leader 1 nextIndex[0]: 0  matchIndex[0]: 206
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 30 rf.commitIndex 199 rf.lastApplied 199
term 30 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
flag 50509 term 30 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 30 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 38230 term 30 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 30 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5708610889677771045 (index 207) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53333 term 30 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 30 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 30576 term 30 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 30 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 not vote for server 2, 日志不够新
term 30 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 1 vote for server 0
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 47583 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 37187 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 66434 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 191  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 30 rf.commitIndex 199 rf.lastApplied 199
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 67573 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 99939 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94668 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 65690 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 96067 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 44091 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43890 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 51145 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
flag 78798 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 3245 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 92684 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 88210 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30555 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 66884 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 39049 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 40855 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66506 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 45611 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
flag 15554 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 56453 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 13049 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 91074 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 66079 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 25614 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
flag 77471 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 62931 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32129 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 92376 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207}]
------------------------------------------------------
client write log 5708610889677771045 (index 208) to leader 0
flag 94348 term 33 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
flag 80399 term 33 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 206 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14854 term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 63707 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
flag 47562 term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 86556 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
flag 5250 term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 94754 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
flag 1081 term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 73125 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
flag 33752 term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 22727 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6843509733522626668 (index 209) to leader 0
flag 73986 term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 82462 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 30 199} {2524320334626061867 30 200} {8132983364519029758 30 201} {4631778285688833683 30 202} {2668880490006165406 30 203} {2435263352261327224 30 204} {7668816517830617613 30 205} {7782302393609237982 30 206} {5708610889677771045 30 207} {5708610889677771045 33 208} {6843509733522626668 33 209}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 78955 term 33 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 5612381646621895519 (index 210) to leader 0
client write log 7731197639513128339 (index 211) to leader 0
client write log 6894607492470690909 (index 212) to leader 0
client write log 173521099161796676 (index 213) to leader 0
client write log 2560422543099129210 (index 214) to leader 0
client write log 1125285693516972107 (index 215) to leader 0
client write log 3887650016166653775 (index 216) to leader 0
client write log 6444625261126576592 (index 217) to leader 0
client write log 3160195296096141142 (index 218) to leader 0
client write log 7467394315636369519 (index 219) to leader 0
client write log 8382183951277815491 (index 220) to leader 0
client write log 7519332736799038278 (index 221) to leader 0
client write log 3853385715600340794 (index 222) to leader 0
client write log 1322091616498449254 (index 223) to leader 0
client write log 2198618397404828601 (index 224) to leader 0
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 68408 term 33 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 209} {5612381646621895519 33 210} {7731197639513128339 33 211} {6894607492470690909 33 212} {173521099161796676 33 213} {2560422543099129210 33 214} {1125285693516972107 33 215} {3887650016166653775 33 216} {6444625261126576592 33 217} {3160195296096141142 33 218} {7467394315636369519 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224}]
------------------------------------------------------
term 33 Server0 start snapshot! index=219
term 33 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 55380 term 33 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 33 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224}]
------------------------------------------------------
term 33 Server2 start snapshot! index=219
term 33 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5855624366957504723 (index 225) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 62906 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 18694 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 226->225
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 209  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 65121 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 33 rf.commitIndex 219 rf.lastApplied 219
flag 27452 term 35 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 34428 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97954 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 20767 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19879 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 45844 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 54721 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 80399 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 22316 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 508 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 55761 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 94083 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 30962 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 35469 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 14296 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 20501 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 85458 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 97153 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 26229 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 68793 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 87519 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 14471 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3776 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 99360 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95832 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 92304 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76906 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 61896 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 17720 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 8419 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 27447 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 6843 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 82839 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 14916 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
flag 46808 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 33829 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225}]
------------------------------------------------------
client write log 5855624366957504723 (index 226) to leader 0
flag 31687 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
flag 5527 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
flag 48358 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 85444 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
flag 86404 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 51363 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
flag 39735 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 9904 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
flag 97169 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 79993 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
flag 77396 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 24878 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 545 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 29289 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 93291 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 353 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 19911 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 84273 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 90118 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 57619 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
client write log 2821284721061361135 (index 227) to leader 2
flag 76071 term 36 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 73859 term 36 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226} {2821284721061361135 36 227}]
------------------------------------------------------
flag 36373 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 30789 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 6993 term 36 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 227 
------------------------------------------------------
flag 74413 term 36 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226} {2821284721061361135 36 227}]
------------------------------------------------------
client write log 5793328534842409260 (index 228) to leader 2
flag 99824 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 30371 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 42671 term 36 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 227 
------------------------------------------------------
flag 57729 term 36 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226} {2821284721061361135 36 227} {5793328534842409260 36 228}]
------------------------------------------------------
flag 64481 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 31609 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 227->226
------------------------------------------------------
flag 46767 term 36 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 228 
------------------------------------------------------
flag 69340 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226} {2821284721061361135 36 227} {5793328534842409260 36 228}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4893440717135007667 (index 229) to leader 2
flag 99780 term 35 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 226
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56752 term 36 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 228 
------------------------------------------------------
flag 26634 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226} {2821284721061361135 36 227} {5793328534842409260 36 228} {4893440717135007667 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 33 219} {8382183951277815491 33 220} {7519332736799038278 33 221} {3853385715600340794 33 222} {1322091616498449254 33 223} {2198618397404828601 33 224} {5855624366957504723 33 225} {5855624366957504723 35 226} {2821284721061361135 36 227} {5793328534842409260 36 228} {4893440717135007667 36 229}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 97622 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 83854 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 75584 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 28652 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 48260 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 34281 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 42750 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 95922 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 34230 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 97653 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 52755 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6992817048504488616 (index 230) to leader 2
flag 89836 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 18574 term 36 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {6992817048504488616 36 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22489 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
flag 59945 term 36 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 36 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {6992817048504488616 36 230}]
------------------------------------------------------
client write log 7562176002269689719 (index 231) to leader 2
client write log 2568867001212930647 (index 232) to leader 2
client write log 2273455959477446682 (index 233) to leader 2
client write log 5024306008698915443 (index 234) to leader 2
client write log 6530799450238224483 (index 235) to leader 2
client write log 1763600268453624992 (index 236) to leader 2
client write log 916112214613539264 (index 237) to leader 2
client write log 2799222545559342629 (index 238) to leader 2
client write log 4348867492377290548 (index 239) to leader 2
client write log 8265417323396444383 (index 240) to leader 2
client write log 3302550094812905660 (index 241) to leader 2
client write log 7230789208689096660 (index 242) to leader 2
client write log 4112064238734422343 (index 243) to leader 2
client write log 2199913210515426292 (index 244) to leader 2
client write log 2246664981374757281 (index 245) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 44589 term 36 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 36 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 229} {6992817048504488616 36 230} {7562176002269689719 36 231} {2568867001212930647 36 232} {2273455959477446682 36 233} {5024306008698915443 36 234} {6530799450238224483 36 235} {1763600268453624992 36 236} {916112214613539264 36 237} {2799222545559342629 36 238} {4348867492377290548 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 6408 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
!!!!!!connect server 0
client write log 479391008812292337 (index 246) to leader 2
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 34128 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 92918 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 96220 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 247->246
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 33147 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
flag 64290 term 38 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 38 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 67224 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
flag 16370 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 17397 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
flag 96393 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 96000 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
flag 26715 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 29696 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
flag 27551 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 53257 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
flag 6531 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 74763 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1149091694564250049 (index 247) to leader 2
flag 59730 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 13227 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246} {1149091694564250049 38 247}]
------------------------------------------------------
flag 78174 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 35022 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246} {1149091694564250049 38 247}]
------------------------------------------------------
client write log 890441963863203412 (index 248) to leader 2
client write log 7660977238306811403 (index 249) to leader 2
client write log 125566896004980530 (index 250) to leader 2
client write log 2011243938451437331 (index 251) to leader 2
client write log 4738964077933937733 (index 252) to leader 2
client write log 3669089294827168810 (index 253) to leader 2
client write log 180945896912421206 (index 254) to leader 2
client write log 8016737474003398364 (index 255) to leader 2
client write log 2959384834671390286 (index 256) to leader 2
client write log 7397290054915506610 (index 257) to leader 2
client write log 8475569907111078666 (index 258) to leader 2
client write log 6482434502318060470 (index 259) to leader 2
flag 79164 term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 90497 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 239} {8265417323396444383 36 240} {3302550094812905660 36 241} {7230789208689096660 36 242} {4112064238734422343 36 243} {2199913210515426292 36 244} {2246664981374757281 36 245} {479391008812292337 36 246} {1149091694564250049 38 247} {890441963863203412 38 248} {7660977238306811403 38 249} {125566896004980530 38 250} {2011243938451437331 38 251} {4738964077933937733 38 252} {3669089294827168810 38 253} {180945896912421206 38 254} {8016737474003398364 38 255} {2959384834671390286 38 256} {7397290054915506610 38 257} {8475569907111078666 38 258} {6482434502318060470 38 259}]
------------------------------------------------------
term 38 Server2 start snapshot! index=249
term 38 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 27300 term 38 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 38 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4434876564737819197 (index 260) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 247->246
------------------------------------------------------
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 84643 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 39062 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 261->260
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 247  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 85286 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
flag 70592 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 94463 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50924 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 18883 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91388 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 7891 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39498 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 51026 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 24466 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 52652 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32619 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 49337 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 8071 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 80195 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49521 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 11674 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 28231 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 75899 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38046 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 8650 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 17581 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 42202 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27797 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 96764 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 84813 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 52848 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 75830 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 26170 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 17187 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 66468 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 69486 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 4168 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17039 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 62801 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
flag 30056 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 15721 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {4434876564737819197 38 260}]
------------------------------------------------------
client write log 4434876564737819197 (index 261) to leader 2
flag 652 term 40 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 37452 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
flag 32396 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 38816 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
flag 43320 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 55428 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16047 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 50687 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
flag 94056 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 85778 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8571 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 6215 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 31738 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 64237 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48940 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 79703 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 88705 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 85981 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 92292 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 48116 term 40 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
flag 91941 term 41 leader 1 nextIndex[0]: 262  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 91794 term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261}]
------------------------------------------------------
client write log 2573596477007155568 (index 262) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 262->261
------------------------------------------------------
flag 43532 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 261
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 4242 term 41 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 22424 term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262}]
------------------------------------------------------
flag 48419 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 261
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47876 term 41 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 41 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 81884 term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262}]
------------------------------------------------------
client write log 166468433783697300 (index 263) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40362 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 261
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 93541 term 41 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 41 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 14318 term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263}]
------------------------------------------------------
flag 25978 term 40 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 261
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 262->261
------------------------------------------------------
flag 20026 term 41 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 41 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 70502 term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8742977761745432089 (index 264) to leader 1
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 261
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 261
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27582 term 41 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 41 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 17141 term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86483 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 33470 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
flag 26807 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 264
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 264 args.LastIncludedIndex 259
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58730 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 99171 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
flag 77143 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 70257 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
flag 5013 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 24350 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4133356488423546166 (index 265) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43933 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 13734 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264} {4133356488423546166 41 265}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12163 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 50590 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264} {4133356488423546166 41 265}]
------------------------------------------------------
client write log 1884036430587448037 (index 266) to leader 1
client write log 5140151279680795577 (index 267) to leader 1
client write log 6010787079491274307 (index 268) to leader 1
client write log 3033934027138044593 (index 269) to leader 1
client write log 8658486600850502825 (index 270) to leader 1
client write log 6469786230036776878 (index 271) to leader 1
client write log 1461693135789432045 (index 272) to leader 1
client write log 7386402790738105290 (index 273) to leader 1
client write log 85373923699643202 (index 274) to leader 1
client write log 7651065403696964057 (index 275) to leader 1
flag 39535 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 75018 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 38 259} {4434876564737819197 38 260} {4434876564737819197 40 261} {2573596477007155568 41 262} {166468433783697300 41 263} {8742977761745432089 41 264} {4133356488423546166 41 265} {1884036430587448037 41 266} {5140151279680795577 41 267} {6010787079491274307 41 268} {3033934027138044593 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275}]
------------------------------------------------------
term 41 Server1 start snapshot! index=269
term 41 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
flag 36759 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8381864795571843598 (index 276) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 68372 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 95858 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 277->276
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 277->276
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59449 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69323 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 47297 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 89491 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 37554 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34070 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 35799 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 85648 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 39516 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 25244 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 25257 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 12743 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 9578 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7013 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 38052 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40129 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 16438 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 79719 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 75305 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95748 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 67986 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59496 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 94379 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 35269 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 48465 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 17838 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 37753 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 84309 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 49547 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4302 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 85356 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 56599 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 36217 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 40305 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 29803 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
flag 44213 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 10742 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276}]
------------------------------------------------------
client write log 8381864795571843598 (index 277) to leader 1
flag 80305 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 59027 term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
flag 82753 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 77655 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
flag 60782 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 27381 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
flag 5158 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 85878 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65499 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 43078 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15535 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 62970 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3721864167255669171 (index 278) to leader 1
flag 58961 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 15750 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277} {3721864167255669171 43 278}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49600 term 43 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 43 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 52763 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277} {3721864167255669171 43 278}]
------------------------------------------------------
client write log 8861794209253722458 (index 279) to leader 1
client write log 5970470062303458589 (index 280) to leader 1
client write log 3366778909530449213 (index 281) to leader 1
client write log 623530056778489633 (index 282) to leader 1
client write log 7504402355612282690 (index 283) to leader 1
client write log 5945109464921360663 (index 284) to leader 1
client write log 5455039887459477730 (index 285) to leader 1
client write log 9017024585084862141 (index 286) to leader 1
client write log 5040850133218254249 (index 287) to leader 1
client write log 5735818204374940231 (index 288) to leader 1
client write log 7785621804719653395 (index 289) to leader 1
client write log 5885392204617973289 (index 290) to leader 1
client write log 6606235892667835180 (index 291) to leader 1
client write log 111919870368554421 (index 292) to leader 1
client write log 5116731409278368981 (index 293) to leader 1
flag 12875 term 43 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 43 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 92150 term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 269} {8658486600850502825 41 270} {6469786230036776878 41 271} {1461693135789432045 41 272} {7386402790738105290 41 273} {85373923699643202 41 274} {7651065403696964057 41 275} {8381864795571843598 41 276} {8381864795571843598 43 277} {3721864167255669171 43 278} {8861794209253722458 43 279} {5970470062303458589 43 280} {3366778909530449213 43 281} {623530056778489633 43 282} {7504402355612282690 43 283} {5945109464921360663 43 284} {5455039887459477730 43 285} {9017024585084862141 43 286} {5040850133218254249 43 287} {5735818204374940231 43 288} {7785621804719653395 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293}]
------------------------------------------------------
term 43 Server1 start snapshot! index=279
term 43 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=293
-------------------------------------------------------------
term 43 Server1 start snapshot! index=289
term 43 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=293
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6246 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=293
-------------------------------------------------------------
term 43 Server0 start snapshot! index=289
term 43 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=293
-------------------------------------------------------------
!!!!!!connect server 2
client write log 190852319634794760 (index 294) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 0 vote for server 1
term 45 server 1 get outdate rpc reply from server 0
flag 42681 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 39209 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 295->294
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 295->294
------------------------------------------------------
flag 24703 term 45 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 278  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 43 rf.commitIndex 289 rf.lastApplied 289
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 97105 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 65171 term 45 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 45 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 30734 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 93497 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 30253 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 72338 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 2
flag 82741 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 10417 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 72792 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 37296 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 54596 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 74475 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 89154 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 43877 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93035 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 62082 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 80495 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 25569 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 10250 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 67970 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
flag 70937 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 89053 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 24952 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 74453 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 14336 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 64065 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 64995 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 92154 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 43226 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 73193 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 51160 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 14350 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 55888 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 6224 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
flag 62414 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 20884 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294}]
------------------------------------------------------
client write log 190852319634794760 (index 295) to leader 1
flag 47311 term 45 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 18577 term 45 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 45 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
flag 98020 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 89641 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39575 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 46457 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
flag 97190 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 80254 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1052 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 96316 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
flag 15276 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 10710 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
flag 68966 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 18749 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 59416 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 14025 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 6465 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 54728 term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 296->295
------------------------------------------------------
flag 7478 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 75288 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 40114 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 50243 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295}]
------------------------------------------------------
client write log 4841989255236495106 (index 296) to leader 0
flag 77814 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 2053 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
flag 38808 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296}]
------------------------------------------------------
flag 38920 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 38430 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 58299 term 46 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 46 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296}]
------------------------------------------------------
client write log 94756317890944269 (index 297) to leader 0
flag 90878 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 11849 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 43463 term 46 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 46 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 75547 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 56318 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 68967 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5993131734955465544 (index 296) to leader 1
flag 67089 term 45 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 45 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 295 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62380 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 39862 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 78707 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 6634 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 66477 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 94974 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 90097 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 1369 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 78160 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 90176 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 27317 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 17782 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 95286 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 39892 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 91351 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 18206 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51951 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 45290 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33154 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 21155 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 82626 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 38259 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 53902 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 54617 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62108 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 13240 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22884 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 21 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21700 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 28871 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72827 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 39932 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51719 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 56646 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 32192 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 71117 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 54501 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 27928 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
flag 68769 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 93543 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297}]
------------------------------------------------------
client write log 5993131734955465544 (index 298) to leader 0
flag 24319 term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 32461 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
flag 26582 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 58844 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
flag 69390 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 88329 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
flag 16393 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 79639 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
flag 28110 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 72419 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82993 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 39695 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
flag 88547 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 57579 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7262308473823028871 (index 299) to leader 0
flag 79195 term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 21826 term 46 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 46 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 43 289} {5885392204617973289 43 290} {6606235892667835180 43 291} {111919870368554421 43 292} {5116731409278368981 43 293} {190852319634794760 43 294} {190852319634794760 45 295} {4841989255236495106 46 296} {94756317890944269 46 297} {5993131734955465544 46 298} {7262308473823028871 46 299}]
------------------------------------------------------
term 46 Server0 start snapshot! index=299
term 46 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 10662 term 46 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 46 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 299 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 299}]
------------------------------------------------------
term 46 Server2 start snapshot! index=299
term 46 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 5838852717278037843 (index 300) to leader 0
client write log 4086117497518999785 (index 301) to leader 0
client write log 3118047431590409563 (index 302) to leader 0
client write log 4515912559231965907 (index 303) to leader 0
client write log 9090663235945675458 (index 304) to leader 0
client write log 7874560863147938781 (index 305) to leader 0
client write log 6333226891338176467 (index 306) to leader 0
client write log 7481315604608105378 (index 307) to leader 0
client write log 6712532747570458938 (index 308) to leader 0
client write log 6265993313713381914 (index 309) to leader 0
client write log 1760916153734589098 (index 310) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 28806 term 46 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 46 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 299 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 299} {5838852717278037843 46 300} {4086117497518999785 46 301} {3118047431590409563 46 302} {4515912559231965907 46 303} {9090663235945675458 46 304} {7874560863147938781 46 305} {6333226891338176467 46 306} {7481315604608105378 46 307} {6712532747570458938 46 308} {6265993313713381914 46 309} {1760916153734589098 46 310}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=310
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 21858 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310}]
------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=310
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4694522532241515172 (index 311) to leader 0
term 46 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 11885 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 33035 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 78294 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 312->311
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 14577 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 46 rf.commitIndex 309 rf.lastApplied 309
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 364 term 48 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 48 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 88576 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 65227 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 80426 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46439 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 12546 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99073 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 74809 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 69182 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 41609 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51274 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 10697 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 41142 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 61412 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42098 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 277 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 99167 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 36805 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 69344 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 94529 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 25556 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 89245 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45307 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 59421 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88066 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 22149 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 72999 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 82962 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 97561 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 22991 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12400 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 28977 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
flag 78743 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 54342 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311}]
------------------------------------------------------
client write log 4694522532241515172 (index 312) to leader 0
flag 19159 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 44442 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
flag 23577 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 75719 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20181 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 43988 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
flag 59331 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 89754 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12179 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 32020 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
term 48 server 1 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 1
flag 25649 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 77189 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2591548016393407200 (index 313) to leader 0
flag 99976 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 19628 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312} {2591548016393407200 48 313}]
------------------------------------------------------
flag 67371 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
flag 38904 term 48 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 48 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312} {2591548016393407200 48 313}]
------------------------------------------------------
client write log 4142171172983629225 (index 314) to leader 0
client write log 6192361532572197832 (index 315) to leader 0
client write log 1273949186359271430 (index 316) to leader 0
client write log 2742870295364782419 (index 317) to leader 0
client write log 462788969181273596 (index 318) to leader 0
client write log 5358724901335770351 (index 319) to leader 0
client write log 6714268746037766050 (index 320) to leader 0
client write log 3591873560235076223 (index 321) to leader 0
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54997 term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
flag 85750 term 48 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 48 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 309} {1760916153734589098 46 310} {4694522532241515172 46 311} {4694522532241515172 48 312} {2591548016393407200 48 313} {4142171172983629225 48 314} {6192361532572197832 48 315} {1273949186359271430 48 316} {2742870295364782419 48 317} {462788969181273596 48 318} {5358724901335770351 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321}]
------------------------------------------------------
term 48 Server0 start snapshot! index=319
term 48 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=321
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 13235 term 48 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=321
-------------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 612063424200750339 (index 322) to leader 0
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 3557 term 48 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 62263 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 47321 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 323->322
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 313  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 98564 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 57257 term 50 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 39213 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
flag 43287 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 84687 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
flag 57853 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 81878 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56971 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 31051 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
flag 56377 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 45604 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
flag 33560 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 85035 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 20513 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 34778 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 4709 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 93419 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 65214 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 3718 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 93892 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 48814 term 50 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 323->322
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
flag 17248 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 98403 term 51 leader 1 nextIndex[2]: 323  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322}]
------------------------------------------------------
client write log 1381833470220059360 (index 323) to leader 1
flag 93035 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 322
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 98697 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 44138 term 51 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322} {1381833470220059360 51 323}]
------------------------------------------------------
flag 3466 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 322
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65232 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 46242 term 51 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322} {1381833470220059360 51 323}]
------------------------------------------------------
client write log 6110332732036560590 (index 324) to leader 1
client write log 706377862065888710 (index 325) to leader 1
client write log 1214885414574597237 (index 326) to leader 1
client write log 1746670535830659640 (index 327) to leader 1
client write log 390380547916119642 (index 328) to leader 1
client write log 2681434120553575845 (index 329) to leader 1
client write log 3736043366410733069 (index 330) to leader 1
client write log 4565517944390572945 (index 331) to leader 1
flag 53085 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 322
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 52288 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 80701 term 51 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 319} {6714268746037766050 48 320} {3591873560235076223 48 321} {612063424200750339 48 322} {1381833470220059360 51 323} {6110332732036560590 51 324} {706377862065888710 51 325} {1214885414574597237 51 326} {1746670535830659640 51 327} {390380547916119642 51 328} {2681434120553575845 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331}]
------------------------------------------------------
term 51 Server1 start snapshot! index=329
term 51 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
flag 56832 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 322
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 1245 term 51 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4923923669005955598 (index 332) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 323->322
------------------------------------------------------
flag 93615 term 50 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 322
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 21200 term 51 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 52466 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 15158 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 333->332
------------------------------------------------------
flag 89275 term 53 leader 1 nextIndex[0]: 330  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 88337 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
flag 24461 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 46522 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97765 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 38866 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95669 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 70961 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
flag 90526 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 95638 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
flag 95664 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 44630 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4029425678526130025 (index 333) to leader 1
flag 36357 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 90019 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332} {4029425678526130025 53 333}]
------------------------------------------------------
flag 1185 term 53 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 53 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 2884 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332} {4029425678526130025 53 333}]
------------------------------------------------------
client write log 5575679410194223226 (index 334) to leader 1
client write log 4981986090029130339 (index 335) to leader 1
client write log 3407154709236063778 (index 336) to leader 1
client write log 1605891170158847650 (index 337) to leader 1
client write log 3453714562132198769 (index 338) to leader 1
client write log 8816807741024251688 (index 339) to leader 1
client write log 8931636777660604146 (index 340) to leader 1
client write log 25068846179821735 (index 341) to leader 1
client write log 1519067739198471279 (index 342) to leader 1
client write log 4304499327987558831 (index 343) to leader 1
client write log 5405328152580157952 (index 344) to leader 1
flag 23660 term 53 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 53 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 16092 term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 51 329} {3736043366410733069 51 330} {4565517944390572945 51 331} {4923923669005955598 51 332} {4029425678526130025 53 333} {5575679410194223226 53 334} {4981986090029130339 53 335} {3407154709236063778 53 336} {1605891170158847650 53 337} {3453714562132198769 53 338} {8816807741024251688 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344}]
------------------------------------------------------
term 53 Server1 start snapshot! index=339
term 53 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
flag 78598 term 53 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 53 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344}]
------------------------------------------------------
term 53 Server0 start snapshot! index=339
term 53 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8081288409129857828 (index 345) to leader 1
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 0 not vote for server 2, 日志不够新
term 55 server 2 vote for server 1
term 55 server 0 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 1 get outdate rpc reply from server 0
flag 51008 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 25960 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 346->345
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
flag 27127 term 55 leader 1 nextIndex[0]: 345  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 53 rf.commitIndex 339 rf.lastApplied 339
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71877 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 54910 term 55 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 55 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 88703 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 88968 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 81909 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 47222 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 42137 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 48177 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 96505 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 63721 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 50813 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 3299 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 97453 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 84231 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 53494 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 24883 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 24164 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 90961 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99689 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 18031 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3695 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 45148 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33495 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 24859 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 4925 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 67874 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 58706 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 93374 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78167 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 73682 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 40577 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 18404 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
flag 68599 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 62886 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13324 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 26722 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345}]
------------------------------------------------------
client write log 8081288409129857828 (index 346) to leader 1
flag 96536 term 55 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 95592 term 55 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 55 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
term 55 server 2 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72331 term 55 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
flag 94831 term 55 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
term 55 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
flag 21571 term 55 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
flag 51775 term 55 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
flag 52505 term 55 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
flag 88036 term 55 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
term 55 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
term 55 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86625 term 55 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
flag 96460 term 55 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68021 term 55 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
flag 16554 term 55 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 55 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 339} {8931636777660604146 53 340} {25068846179821735 53 341} {1519067739198471279 53 342} {4304499327987558831 53 343} {5405328152580157952 53 344} {8081288409129857828 53 345} {8081288409129857828 55 346}]
------------------------------------------------------
  ... Passed --  80.2  3 1825  836166  346
--- PASS: TestSnapshotInstall2D (80.17s)
PASS
