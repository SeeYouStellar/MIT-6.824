=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 1 vote for server 2
term 1 server 2 get outdate rpc reply from server 1
client write log 2667991724329180027 (index 1) to leader 2
flag 77043 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 14350 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
flag 27849 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7137 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
flag 17218 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 50580 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
flag 16891 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 99116 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
flag 16109 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57302 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
flag 66499 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 93866 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2667991724329180027 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 456307999772956897 (index 2) to leader 2
flag 53682 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2848 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2667991724329180027 1 1} {456307999772956897 1 2}]
------------------------------------------------------
flag 38434 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 3767 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2667991724329180027 1 1} {456307999772956897 1 2}]
------------------------------------------------------
client write log 6579186509084642390 (index 3) to leader 2
client write log 299677179419604202 (index 4) to leader 2
client write log 4414524942828903701 (index 5) to leader 2
client write log 7286239676629050278 (index 6) to leader 2
client write log 7441134892487061508 (index 7) to leader 2
client write log 2702143385732827017 (index 8) to leader 2
client write log 399450756163664213 (index 9) to leader 2
client write log 6087209123907830156 (index 10) to leader 2
client write log 6426290971166207115 (index 11) to leader 2
client write log 1430099180044772479 (index 12) to leader 2
client write log 7667667623042056773 (index 13) to leader 2
client write log 3985753932711214079 (index 14) to leader 2
client write log 3911391485326675709 (index 15) to leader 2
client write log 6463013000785333494 (index 16) to leader 2
client write log 8350604105072289194 (index 17) to leader 2
flag 91861 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 79834 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {2667991724329180027 1 1} {456307999772956897 1 2} {6579186509084642390 1 3} {299677179419604202 1 4} {4414524942828903701 1 5} {7286239676629050278 1 6} {7441134892487061508 1 7} {2702143385732827017 1 8} {399450756163664213 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 53726 term 1 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 1 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1689410934622787368 (index 18) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 46336 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 69142 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 32977 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 44003 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 71870 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 95463 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 16254 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 45794 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 46830 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 26838 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 88622 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 31858 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 56376 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 18140 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 8981 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 71634 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 19326 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 57837 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66046 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 50440 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 17587 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 9801 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 95631 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 14937 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 2910 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 42663 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 12901 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 10063 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 20513 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 35654 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 56858 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 21469 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 71115 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 3878 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 14356 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 78346 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 8933 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
flag 70347 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 64171 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18}]
------------------------------------------------------
client write log 1689410934622787368 (index 19) to leader 2
flag 21838 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 85185 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18} {1689410934622787368 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6087209123907830156 1 10} {6426290971166207115 1 11} {1430099180044772479 1 12} {7667667623042056773 1 13} {3985753932711214079 1 14} {3911391485326675709 1 15} {6463013000785333494 1 16} {8350604105072289194 1 17} {1689410934622787368 1 18} {1689410934622787368 3 19}]
------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98098 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 79207 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 91346 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 53832 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 65067 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 44096 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 67113 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 71209 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 28383 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 81856 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 43071 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 5108 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 88896 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 83214 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 9757 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 6405 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 60099 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 20->19
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
client write log 6456312270955143475 (index 20) to leader 1
flag 6467 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 77434 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {6456312270955143475 4 20}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 66689 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 87670 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {6456312270955143475 4 20}]
------------------------------------------------------
client write log 7394381329176104501 (index 21) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 43053 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 42129 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 41565 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 86490 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21}]
------------------------------------------------------
!!!!!!connect server 2
client write log 695080473781804166 (index 22) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82318 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 80182 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
flag 15401 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 24656 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 962 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 35320 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
flag 36869 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 47618 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66121 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 95348 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
flag 55519 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 19526 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51336 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 21910 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3693563914099933488 (index 23) to leader 1
flag 74832 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 13172 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22} {3693563914099933488 4 23}]
------------------------------------------------------
flag 71811 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 51347 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22} {3693563914099933488 4 23}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5020734726801643990 (index 24) to leader 1
client write log 3317494256980974354 (index 25) to leader 1
client write log 7447879708083700686 (index 26) to leader 1
client write log 8326623125449947587 (index 27) to leader 1
client write log 2674445842086198437 (index 28) to leader 1
client write log 976297827816430367 (index 29) to leader 1
flag 16841 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 46066 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 19} {6456312270955143475 4 20} {7394381329176104501 4 21} {695080473781804166 4 22} {3693563914099933488 4 23} {5020734726801643990 4 24} {3317494256980974354 4 25} {7447879708083700686 4 26} {8326623125449947587 4 27} {2674445842086198437 4 28} {976297827816430367 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 19075 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8438775748024676819 (index 30) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 15772 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 56595 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46281 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65899 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 24229 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 56428 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 18843 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75957 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 22516 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 55313 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 37288 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 57277 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 56934 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 23164 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 26446 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 87613 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 28190 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 69540 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 90764 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 44768 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 75588 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93881 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 51750 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 59024 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 73481 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 62410 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 64737 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 84369 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 43052 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98904 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 77181 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11479 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 4346 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
flag 55300 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 79821 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50053 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 44176 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {8438775748024676819 4 30}]
------------------------------------------------------
client write log 8438775748024676819 (index 31) to leader 1
flag 30713 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 86648 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
flag 87365 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 25340 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
flag 9814 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 57010 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
flag 53177 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 2017 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
flag 26107 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 36640 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45578 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 99733 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70997 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 46603 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3916004860883292298 (index 32) to leader 1
flag 87861 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 75076 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31} {3916004860883292298 6 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14834 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 52652 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31} {3916004860883292298 6 32}]
------------------------------------------------------
client write log 7026466665028413733 (index 33) to leader 1
client write log 1915948165627231360 (index 34) to leader 1
client write log 5298582995700739110 (index 35) to leader 1
client write log 7086021064083445344 (index 36) to leader 1
client write log 5455208660587982989 (index 37) to leader 1
client write log 6060790656012710660 (index 38) to leader 1
client write log 4017951351151739548 (index 39) to leader 1
client write log 6309400797411039694 (index 40) to leader 1
client write log 1649969667541897151 (index 41) to leader 1
client write log 534585835710995651 (index 42) to leader 1
client write log 2250786197324854749 (index 43) to leader 1
flag 1539 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 90443 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 29} {8438775748024676819 4 30} {8438775748024676819 6 31} {3916004860883292298 6 32} {7026466665028413733 6 33} {1915948165627231360 6 34} {5298582995700739110 6 35} {7086021064083445344 6 36} {5455208660587982989 6 37} {6060790656012710660 6 38} {4017951351151739548 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
flag 54184 term 6 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5163267005490843176 (index 44) to leader 1
flag 32138 term 6 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 72643 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 68289 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 45->44
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 96124 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55800 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 66309 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 95159 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 57951 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97359 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 95080 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 44245 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 75019 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 58209 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 71129 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 97103 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 9147 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 67455 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 41468 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52510 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 49355 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 99899 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 74941 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67070 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 64593 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 86993 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 94881 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 47855 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 50921 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 24400 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 77327 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 50083 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 94828 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 6203 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 82337 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 34432 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 21855 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44}]
------------------------------------------------------
flag 52893 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 8040 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
client write log 5163267005490843176 (index 45) to leader 1
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 865 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 60199 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69650 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 21904 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
flag 40683 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 5976 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
flag 13357 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 13006 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
flag 47008 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 12956 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33412 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 4053 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
flag 9256 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 18783 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 4011 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 28706 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38288 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 80327 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 7961 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 65730 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 24925 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 19095 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45}]
------------------------------------------------------
flag 58198 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 24031 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
client write log 8082894061767644438 (index 46) to leader 0
flag 5262 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 24799 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46}]
------------------------------------------------------
flag 17698 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 10077 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 2994 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 93262 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46}]
------------------------------------------------------
client write log 5676059940972244819 (index 47) to leader 0
flag 54341 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 807 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 41716 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 52096 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 62345 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 92247 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 64798 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
flag 66724 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7805942057776268743 (index 46) to leader 1
flag 70988 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 72826 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33726 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
flag 55095 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 27062 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 98985 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48027 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 25084 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 40320 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 38309 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 34200 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 72578 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 95586 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 89109 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46428 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 1815 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 94945 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 52484 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 83026 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 32983 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 71177 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 74081 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 20458 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 55369 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 97334 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 85124 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 55386 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 7551 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 91311 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 47337 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 18966 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 14061 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 41471 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 35576 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 96075 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 54911 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68561 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 7840 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 30338 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 93325 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
flag 5533 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 8885 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47}]
------------------------------------------------------
client write log 7805942057776268743 (index 48) to leader 0
flag 71178 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 22041 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
flag 4510 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 31433 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
flag 64947 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 81015 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75384 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 93618 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
flag 66632 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 67382 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
flag 10527 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 61092 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
flag 19780 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 27434 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8683842518266990320 (index 49) to leader 0
flag 52996 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 40349 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {6309400797411039694 6 40} {1649969667541897151 6 41} {534585835710995651 6 42} {2250786197324854749 6 43} {5163267005490843176 6 44} {5163267005490843176 8 45} {8082894061767644438 9 46} {5676059940972244819 9 47} {7805942057776268743 9 48} {8683842518266990320 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 47800 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 5163212316228726350 (index 50) to leader 0
client write log 4309873627511638640 (index 51) to leader 0
client write log 1781581582779531574 (index 52) to leader 0
client write log 3662397037511703360 (index 53) to leader 0
client write log 5565303290528507822 (index 54) to leader 0
client write log 197956727349991575 (index 55) to leader 0
client write log 1296946243917819436 (index 56) to leader 0
client write log 1269128414429648925 (index 57) to leader 0
client write log 1853948916605636372 (index 58) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 22048 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58}]
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 93871 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58}]
------------------------------------------------------
!!!!!!connect server 1
client write log 839064986041901381 (index 59) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 37721 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 46057 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 60->59
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 49  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 87301 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95376 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 40827 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 97895 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 93244 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 11632 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 12780 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46526 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 6954 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 43035 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 94990 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 44589 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 86975 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 6752 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 64512 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 83715 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 6341 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71198 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 83952 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 85069 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 59407 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 11225 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 97336 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 22763 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 87956 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 94263 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 39799 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 84543 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 90287 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 25250 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 5002 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 55404 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 58021 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51159 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 69503 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
flag 35768 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 4220 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59}]
------------------------------------------------------
client write log 839064986041901381 (index 60) to leader 0
flag 3945 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 49823 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {5163212316228726350 9 50} {4309873627511638640 9 51} {1781581582779531574 9 52} {3662397037511703360 9 53} {5565303290528507822 9 54} {197956727349991575 9 55} {1296946243917819436 9 56} {1269128414429648925 9 57} {1853948916605636372 9 58} {839064986041901381 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63870 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 33667 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
flag 70742 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 95037 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29376 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 48197 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
flag 73980 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 7124 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6122 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 80107 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {839064986041901381 11 60}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 1
client write log 4058469551749385013 (index 61) to leader 0
flag 40989 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 94231 term 11 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {839064986041901381 11 60} {4058469551749385013 11 61}]
------------------------------------------------------
flag 8809 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 80570 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {839064986041901381 11 60} {4058469551749385013 11 61}]
------------------------------------------------------
client write log 7857117000397082582 (index 62) to leader 0
client write log 4071128726526997643 (index 63) to leader 0
client write log 1379272120756376632 (index 64) to leader 0
client write log 8577033182161339143 (index 65) to leader 0
client write log 4363010874944317525 (index 66) to leader 0
client write log 2714332043932996839 (index 67) to leader 0
client write log 4135682366879589621 (index 68) to leader 0
client write log 2539992011340745468 (index 69) to leader 0
client write log 578611330478750270 (index 70) to leader 0
client write log 333653334976629430 (index 71) to leader 0
flag 13681 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 14158 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 59} {839064986041901381 11 60} {4058469551749385013 11 61} {7857117000397082582 11 62} {4071128726526997643 11 63} {1379272120756376632 11 64} {8577033182161339143 11 65} {4363010874944317525 11 66} {2714332043932996839 11 67} {4135682366879589621 11 68} {2539992011340745468 11 69} {578611330478750270 11 70} {333653334976629430 11 71}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 39661 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4362283846687401528 (index 72) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 1
term 13 server 0 become leader
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 0 get outdate rpc reply from server 2
flag 315 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 97729 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 73->72
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 73->72
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 38040 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 53757 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 12050 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96035 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 90558 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 17580 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 60083 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 23300 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 2010 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92049 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 21769 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70876 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 61759 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 57397 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 10758 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 71135 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 19740 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 16189 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 10977 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 75007 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 36016 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 52241 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 26780 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 4104 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 17866 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 89606 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 94874 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 86678 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 6531 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 63642 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 47263 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 28750 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 30636 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
flag 85032 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 67646 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72}]
------------------------------------------------------
client write log 4362283846687401528 (index 73) to leader 0
flag 28935 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 59409 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
flag 3805 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 28614 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
flag 28215 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 78875 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
flag 84311 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 39471 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
flag 61544 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 71778 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
flag 23761 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 49328 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22171 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 26716 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75950 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 62329 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16802 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 80424 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 6007 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 84846 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 41648 term 14 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 53389 term 14 leader 2 nextIndex[1]: 74  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
client write log 6014918715856703401 (index 74) to leader 2
term 14 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74}]
------------------------------------------------------
flag 56324 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 71460 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 10957 term 14 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 62965 term 14 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74}]
------------------------------------------------------
flag 43303 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 70245 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 97659 term 14 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 58920 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74}]
------------------------------------------------------
client write log 1019807200865744912 (index 75) to leader 2
flag 88488 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 18486 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 94473 term 14 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 66665 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75}]
------------------------------------------------------
flag 76949 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 45644 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 27950 term 14 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 9560 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7610105634411592363 (index 76) to leader 2
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32988 term 13 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 66838 term 13 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 13 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49550 term 14 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
flag 59074 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
flag 91076 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 3017 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
flag 2294 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 82631 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
flag 25573 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 60089 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42587 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 82355 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
flag 93190 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 48263 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2520017176771478653 (index 77) to leader 2
flag 52083 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 61000 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76} {2520017176771478653 14 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33898 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
flag 56214 term 14 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76} {2520017176771478653 14 77}]
------------------------------------------------------
client write log 207056257655424643 (index 78) to leader 2
client write log 1681516497618453977 (index 79) to leader 2
client write log 96237268136626748 (index 80) to leader 2
client write log 3438706942781490832 (index 81) to leader 2
client write log 2667885200131122128 (index 82) to leader 2
client write log 6321668892615521331 (index 83) to leader 2
client write log 2855553963378165285 (index 84) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62393 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
flag 32732 term 14 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 69} {578611330478750270 11 70} {333653334976629430 11 71} {4362283846687401528 11 72} {4362283846687401528 13 73} {6014918715856703401 14 74} {1019807200865744912 14 75} {7610105634411592363 14 76} {2520017176771478653 14 77} {207056257655424643 14 78} {1681516497618453977 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=84
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 80364 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8190848168479621618 (index 85) to leader 2
term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 79890 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get outdate rpc reply from server 0
flag 1665 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 77851 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 44203 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6008 term 16 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 28508 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 50540 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 56246 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 87089 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 20871 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28915 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 17064 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 22931 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 93081 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 30336 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 18224 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 1208 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 18036 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 5560 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 1897 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 58079 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 53660 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70262 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 81972 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 39479 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 79467 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63460 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 53771 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 17676 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 44718 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 3274 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 84200 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 11627 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 70488 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16772 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 60533 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
flag 47828 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 66462 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8190848168479621618 (index 86) to leader 2
flag 95259 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 68352 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
flag 74737 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 27860 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
flag 44625 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 40945 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32934 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 70428 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
flag 75815 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 72252 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
flag 20689 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 53888 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 96351 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 55372 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 778060514043176298 (index 87) to leader 2
flag 17373 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 24476 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86} {778060514043176298 16 87}]
------------------------------------------------------
flag 95710 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 32334 term 16 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86} {778060514043176298 16 87}]
------------------------------------------------------
client write log 1902369344877541466 (index 88) to leader 2
client write log 8033087713946644283 (index 89) to leader 2
client write log 2254617688726553095 (index 90) to leader 2
client write log 3703513564809194593 (index 91) to leader 2
client write log 3618753103028225880 (index 92) to leader 2
client write log 6971805904470449169 (index 93) to leader 2
client write log 6844573569277683550 (index 94) to leader 2
client write log 70365557314505438 (index 95) to leader 2
client write log 9146534886504993596 (index 96) to leader 2
client write log 7680537906310992420 (index 97) to leader 2
client write log 1111467088110411490 (index 98) to leader 2
client write log 6026250821757348839 (index 99) to leader 2
client write log 8427445103742072769 (index 100) to leader 2
client write log 7139146884949506167 (index 101) to leader 2
flag 76384 term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 49997 term 16 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 79} {96237268136626748 14 80} {3438706942781490832 14 81} {2667885200131122128 14 82} {6321668892615521331 14 83} {2855553963378165285 14 84} {8190848168479621618 14 85} {8190848168479621618 16 86} {778060514043176298 16 87} {1902369344877541466 16 88} {8033087713946644283 16 89} {2254617688726553095 16 90} {3703513564809194593 16 91} {3618753103028225880 16 92} {6971805904470449169 16 93} {6844573569277683550 16 94} {70365557314505438 16 95} {9146534886504993596 16 96} {7680537906310992420 16 97} {1111467088110411490 16 98} {6026250821757348839 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=101
-------------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 45259 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=101
-------------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3719328764783236349 (index 102) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 99905 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 46161 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 103->102
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 73667 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46552 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 15119 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 405 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 81410 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 71384 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 76015 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 17136 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 35811 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95684 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 76157 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 69423 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 962 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 84332 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 11901 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 66973 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 75922 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 36473 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 44260 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 56802 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 28259 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91629 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 95228 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 81099 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 91940 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 71244 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 46877 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 90621 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 22771 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
flag 83184 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 55695 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32129 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 3261 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80322 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 95850 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14420 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 18392 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102}]
------------------------------------------------------
client write log 3719328764783236349 (index 103) to leader 2
flag 75050 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 1984 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
flag 14720 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 9752 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
flag 25762 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 69101 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
flag 75673 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 79889 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
flag 25002 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 34226 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
flag 75719 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 53477 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
flag 74972 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 26902 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 19739 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 18008 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 91129 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 94286 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 19064 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 58511 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 68010 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 49147 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
flag 33694 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 87405 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103}]
------------------------------------------------------
client write log 5389508122655114463 (index 104) to leader 1
flag 11531 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 54255 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 22441 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 31174 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104}]
------------------------------------------------------
flag 15137 term 18 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 70520 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
flag 2906 term 19 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 56882 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104}]
------------------------------------------------------
client write log 8696585191650949273 (index 105) to leader 1
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 87267 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 34897 term 19 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 295 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105}]
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 69895 term 18 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 104->103
------------------------------------------------------
flag 12199 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 34692 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2333796898383925563 (index 106) to leader 1
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 103
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21736 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 6662 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11314 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 99927 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
flag 78842 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 60397 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56720 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 26705 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
flag 83134 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 64187 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
flag 59376 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 35459 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 159642704692504490 (index 107) to leader 1
flag 2834 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 62500 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106} {159642704692504490 19 107}]
------------------------------------------------------
flag 67061 term 19 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 21809 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106} {159642704692504490 19 107}]
------------------------------------------------------
client write log 4725399184304312505 (index 108) to leader 1
client write log 1108379929125431670 (index 109) to leader 1
client write log 1147424747496821906 (index 110) to leader 1
client write log 118522882363288751 (index 111) to leader 1
client write log 4658797479496620044 (index 112) to leader 1
client write log 4753606243348337148 (index 113) to leader 1
client write log 3040354872214105032 (index 114) to leader 1
client write log 1876055479781488842 (index 115) to leader 1
client write log 6034546955813817301 (index 116) to leader 1
client write log 8750866103031338898 (index 117) to leader 1
client write log 2174704585073164674 (index 118) to leader 1
client write log 7955290541640027661 (index 119) to leader 1
client write log 2336142864541636567 (index 120) to leader 1
client write log 331130376455791029 (index 121) to leader 1
client write log 7881471303600665246 (index 122) to leader 1
flag 19573 term 19 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 48232 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 99} {8427445103742072769 16 100} {7139146884949506167 16 101} {3719328764783236349 16 102} {3719328764783236349 18 103} {5389508122655114463 19 104} {8696585191650949273 19 105} {2333796898383925563 19 106} {159642704692504490 19 107} {4725399184304312505 19 108} {1108379929125431670 19 109} {1147424747496821906 19 110} {118522882363288751 19 111} {4658797479496620044 19 112} {4753606243348337148 19 113} {3040354872214105032 19 114} {1876055479781488842 19 115} {6034546955813817301 19 116} {8750866103031338898 19 117} {2174704585073164674 19 118} {7955290541640027661 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=122
-------------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
flag 70687 term 19 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 19 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=122
-------------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5863370541311702182 (index 123) to leader 1
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 28256 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 52097 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 124->123
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 124->123
------------------------------------------------------
flag 97832 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 107  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 16819 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 36237 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 32819 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 25167 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 68798 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 45204 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30325 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 79293 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 67535 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 13437 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 49186 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 73297 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7316 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 77951 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52922 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 76517 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 63221 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 19911 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 61676 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 90074 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95454 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 15589 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42410 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 66486 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48988 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 20131 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 46817 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 3403 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65886 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 67918 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48814 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 86589 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
flag 20246 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 6080 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8029 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 9433 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123}]
------------------------------------------------------
client write log 5863370541311702182 (index 124) to leader 1
flag 56392 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 67310 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
flag 15214 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 71160 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
flag 25258 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 9713 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
flag 47737 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 15812 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
flag 10407 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 91284 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
flag 95102 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 61080 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
flag 96299 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 55890 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3581849802674021593 (index 125) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18846 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 22566 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124} {3581849802674021593 21 125}]
------------------------------------------------------
flag 88168 term 21 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 10694 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124} {3581849802674021593 21 125}]
------------------------------------------------------
client write log 4813950264151955526 (index 126) to leader 1
client write log 3367479831114421038 (index 127) to leader 1
client write log 3709119517075900544 (index 128) to leader 1
client write log 5238131502187320013 (index 129) to leader 1
client write log 5261472857863397783 (index 130) to leader 1
client write log 6737794890045550003 (index 131) to leader 1
client write log 4660199968049406910 (index 132) to leader 1
client write log 2851799222997463521 (index 133) to leader 1
client write log 9155543458125401564 (index 134) to leader 1
client write log 8372328976923188550 (index 135) to leader 1
client write log 5047130394617018602 (index 136) to leader 1
client write log 7799182755109777576 (index 137) to leader 1
client write log 7304146209881792962 (index 138) to leader 1
flag 50318 term 21 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 49012 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 119} {2336142864541636567 19 120} {331130376455791029 19 121} {7881471303600665246 19 122} {5863370541311702182 19 123} {5863370541311702182 21 124} {3581849802674021593 21 125} {4813950264151955526 21 126} {3367479831114421038 21 127} {3709119517075900544 21 128} {5238131502187320013 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=138
-------------------------------------------------------------
flag 30425 term 21 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=138
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2707354271284473806 (index 139) to leader 1
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 8471 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 56824 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9434 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 125  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79153 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 66175 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 27624 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 8180 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17399 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 33110 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 1153 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 40463 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 5781 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 28711 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 58647 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 95021 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 8338 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 5632 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 22904 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 4552 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 48187 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 60925 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 75712 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 81998 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 12702 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 77550 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68416 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 94287 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 80458 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 14683 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37516 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 12471 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 2646 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 68787 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71003 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 6964 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 13647 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 68132 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
flag 76747 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 62813 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139}]
------------------------------------------------------
client write log 2707354271284473806 (index 140) to leader 1
flag 9787 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
flag 63439 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 129} {5261472857863397783 21 130} {6737794890045550003 21 131} {4660199968049406910 21 132} {2851799222997463521 21 133} {9155543458125401564 21 134} {8372328976923188550 21 135} {5047130394617018602 21 136} {7799182755109777576 21 137} {7304146209881792962 21 138} {2707354271284473806 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 53437 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 24329 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 39238 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 21789 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37125 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 76574 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
flag 63390 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 70885 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
flag 20725 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 40999 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46390 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 29550 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 26855 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 30468 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 28159 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 9070 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 52950 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 27634 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 98005 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 5884 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
flag 37855 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 39790 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2707354271284473806 23 140}]
------------------------------------------------------
client write log 1062940869213248929 (index 141) to leader 2
flag 27708 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 12122 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 56991 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 26853 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {2707354271284473806 23 140} {1062940869213248929 24 141}]
------------------------------------------------------
flag 62318 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 42766 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 76295 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 42487 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {2707354271284473806 23 140} {1062940869213248929 24 141}]
------------------------------------------------------
client write log 5312221479687215732 (index 142) to leader 2
client write log 3644853556606672725 (index 143) to leader 2
client write log 3420784659910844094 (index 144) to leader 2
client write log 3179846140948439846 (index 145) to leader 2
client write log 3296270641671627377 (index 146) to leader 2
client write log 6702706700563882317 (index 147) to leader 2
client write log 1524285087148767045 (index 148) to leader 2
client write log 1950454606255899647 (index 149) to leader 2
client write log 5621101536946721379 (index 150) to leader 2
client write log 4517800121366118900 (index 151) to leader 2
client write log 2198809289622906594 (index 152) to leader 2
client write log 8520757364766706016 (index 153) to leader 2
client write log 3506273821402488312 (index 154) to leader 2
flag 55144 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 44414 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 48181 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 44869 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 139} {2707354271284473806 23 140} {1062940869213248929 24 141} {5312221479687215732 24 142} {3644853556606672725 24 143} {3420784659910844094 24 144} {3179846140948439846 24 145} {3296270641671627377 24 146} {6702706700563882317 24 147} {1524285087148767045 24 148} {1950454606255899647 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
flag 37959 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 47771 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 27102 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4420357363600073038 (index 141) to leader 1
flag 6804 term 23 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 48523 term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92824 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 42301 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 96004 term 24 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40821 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 14157 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 16106 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 68923 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 24248 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 81671 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60609 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 2927 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 41169 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 68179 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 53521 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 74908 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10132 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 7706 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
flag 71110 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 154
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 154 args.LastIncludedIndex 149
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 24725 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 25534 term 24 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 32458 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 16828 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 12564 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 37265 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39244 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 41328 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 7520 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 53930 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 15494 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 69996 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 39323 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 51387 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
flag 82078 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 24027 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52274 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 88307 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44148 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 41278 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154}]
------------------------------------------------------
client write log 4420357363600073038 (index 155) to leader 2
flag 76851 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 52058 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
flag 29748 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 62219 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
flag 6348 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 82966 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
flag 89789 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 48333 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 156->155
------------------------------------------------------
flag 36731 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 155
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 155 args.LastIncludedIndex 149
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96349 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 9546 term 24 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
flag 605 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 47274 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8305690265912081446 (index 156) to leader 2
flag 95777 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 24660 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155} {8305690265912081446 24 156}]
------------------------------------------------------
flag 40084 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 78367 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155} {8305690265912081446 24 156}]
------------------------------------------------------
client write log 5785304272114917357 (index 157) to leader 2
client write log 6934964455799761563 (index 158) to leader 2
client write log 5777853703507671340 (index 159) to leader 2
client write log 1579591014316834430 (index 160) to leader 2
client write log 1440137014442429355 (index 161) to leader 2
client write log 1921996411833567019 (index 162) to leader 2
client write log 3653522275341475647 (index 163) to leader 2
client write log 7347294654407103141 (index 164) to leader 2
client write log 5068207828904333068 (index 165) to leader 2
client write log 4226271426201653062 (index 166) to leader 2
flag 18772 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 36404 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 24 149} {5621101536946721379 24 150} {4517800121366118900 24 151} {2198809289622906594 24 152} {8520757364766706016 24 153} {3506273821402488312 24 154} {4420357363600073038 24 155} {8305690265912081446 24 156} {5785304272114917357 24 157} {6934964455799761563 24 158} {5777853703507671340 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 46381 term 24 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 24 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3800716942280151035 (index 167) to leader 2
term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 56658 term 24 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 24 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 0
term 26 server 1 vote for server 2
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 1
flag 25026 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 24643 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 168->167
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 156  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 503 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
term 26 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34149 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 40698 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
flag 93245 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 80987 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63658 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 61845 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
flag 60027 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 89012 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
flag 37786 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 24285 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
flag 24968 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 35258 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98756 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 58935 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7731654618491092450 (index 168) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84466 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 88362 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167} {7731654618491092450 26 168}]
------------------------------------------------------
flag 88326 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 33320 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167} {7731654618491092450 26 168}]
------------------------------------------------------
client write log 2788358772607840751 (index 169) to leader 2
client write log 8662335930385783906 (index 170) to leader 2
client write log 3664272944780810380 (index 171) to leader 2
client write log 7100127349835208610 (index 172) to leader 2
client write log 5993137336003621720 (index 173) to leader 2
client write log 3236694274683425888 (index 174) to leader 2
client write log 9214663874142381139 (index 175) to leader 2
client write log 77662661696204402 (index 176) to leader 2
client write log 1002204443909359923 (index 177) to leader 2
client write log 174364341430383686 (index 178) to leader 2
client write log 8726094766989327890 (index 179) to leader 2
client write log 8687085932847753096 (index 180) to leader 2
flag 22944 term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 42268 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 24 159} {1579591014316834430 24 160} {1440137014442429355 24 161} {1921996411833567019 24 162} {3653522275341475647 24 163} {7347294654407103141 24 164} {5068207828904333068 24 165} {4226271426201653062 24 166} {3800716942280151035 24 167} {7731654618491092450 26 168} {2788358772607840751 26 169} {8662335930385783906 26 170} {3664272944780810380 26 171} {7100127349835208610 26 172} {5993137336003621720 26 173} {3236694274683425888 26 174} {9214663874142381139 26 175} {77662661696204402 26 176} {1002204443909359923 26 177} {174364341430383686 26 178} {8726094766989327890 26 179} {8687085932847753096 26 180}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=180
-------------------------------------------------------------
term 26 Server2 start snapshot! index=179
term 26 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 51496 term 26 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 26 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=180
-------------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1541206457085186513 (index 181) to leader 2
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 78631 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 17511 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 182->181
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 182->181
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 168  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 63244 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 48094 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 95608 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28572 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 13858 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 50722 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 43904 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 73270 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 43625 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57512 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 3163 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 49368 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 69192 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 37831 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 28485 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 41351 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 8274 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95315 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 83875 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37801 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 51403 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 62545 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 63004 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 98824 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 21179 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55784 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 73888 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 77811 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 46419 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46199 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 12398 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 43591 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 78402 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
flag 86494 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 94446 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181}]
------------------------------------------------------
client write log 1541206457085186513 (index 182) to leader 2
flag 602 term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 74287 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
flag 34717 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 59854 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
flag 50968 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 39853 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
flag 96235 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 93091 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
flag 42507 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 70430 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
flag 26059 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 52835 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 9737 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 83532 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 47030 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 312 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20038 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 46932 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 90933 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 43505 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
client write log 890211983706351519 (index 183) to leader 0
flag 7052 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 21383 term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182} {890211983706351519 29 183}]
------------------------------------------------------
flag 8160 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 84497 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 40731 term 29 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 70910 term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182} {890211983706351519 29 183}]
------------------------------------------------------
client write log 2691690690946460772 (index 184) to leader 0
client write log 3996108797011185239 (index 185) to leader 0
client write log 8599631335917381785 (index 186) to leader 0
client write log 4387654292512651341 (index 187) to leader 0
client write log 1483284984763286000 (index 188) to leader 0
client write log 9114130329111111678 (index 189) to leader 0
client write log 4420986574649809338 (index 190) to leader 0
client write log 765248290075754581 (index 191) to leader 0
client write log 7487073489533640857 (index 192) to leader 0
client write log 8074072913432822792 (index 193) to leader 0
flag 36965 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 30640 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 94026 term 29 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 13518 term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 179} {8687085932847753096 26 180} {1541206457085186513 26 181} {1541206457085186513 28 182} {890211983706351519 29 183} {2691690690946460772 29 184} {3996108797011185239 29 185} {8599631335917381785 29 186} {4387654292512651341 29 187} {1483284984763286000 29 188} {9114130329111111678 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=193
-------------------------------------------------------------
flag 74972 term 28 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 90666 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 68671 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=193
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 183->182
------------------------------------------------------
!!!!!!connect server 2
client write log 1360976081546337214 (index 183) to leader 2
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 182
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 45569 term 28 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 28 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25864 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97291 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 81323 term 29 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 29 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 66766 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 46829 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40610 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 88648 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 39943 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 42032 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 76970 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 54538 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73009 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 75473 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 59712 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 62463 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 43898 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 15229 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 55484 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 38131 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 97119 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 19558 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 94651 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 27569 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 30612 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 71124 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 48282 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 26516 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 71255 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 88482 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45328 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 69462 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 91159 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 66029 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11753 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 2751 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
flag 38159 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 70704 term 29 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 194->193
------------------------------------------------------
flag 13100 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 0  matchIndex[2]: 193
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot fail
rf.commitIndex 193 args.LastIncludedIndex 189
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193}]
------------------------------------------------------
client write log 1360976081546337214 (index 194) to leader 0
flag 16296 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 6600 term 29 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 29 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12528 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 46974 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
flag 53518 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 37351 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
flag 66477 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 6927 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
flag 30435 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 4831 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
flag 11874 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 27267 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6338877966108845973 (index 195) to leader 0
flag 38219 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 41410 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194} {6338877966108845973 29 195}]
------------------------------------------------------
flag 34378 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 54837 term 29 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 29 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194} {6338877966108845973 29 195}]
------------------------------------------------------
client write log 1154900197382354972 (index 196) to leader 0
client write log 1315812078890650615 (index 197) to leader 0
client write log 3886534235205020913 (index 198) to leader 0
client write log 6116337792263157683 (index 199) to leader 0
client write log 4909498110169943218 (index 200) to leader 0
client write log 5878402658991726693 (index 201) to leader 0
client write log 3028599371701219250 (index 202) to leader 0
client write log 615815625157655440 (index 203) to leader 0
client write log 512867159306174624 (index 204) to leader 0
client write log 3876489591143449965 (index 205) to leader 0
client write log 1893649258319835353 (index 206) to leader 0
client write log 8928467450946264672 (index 207) to leader 0
client write log 7421071487180297152 (index 208) to leader 0
client write log 7901752346648358916 (index 209) to leader 0
client write log 2434734161432655209 (index 210) to leader 0
flag 12037 term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 71905 term 29 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 29 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 189} {4420986574649809338 29 190} {765248290075754581 29 191} {7487073489533640857 29 192} {8074072913432822792 29 193} {1360976081546337214 29 194} {6338877966108845973 29 195} {1154900197382354972 29 196} {1315812078890650615 29 197} {3886534235205020913 29 198} {6116337792263157683 29 199} {4909498110169943218 29 200} {5878402658991726693 29 201} {3028599371701219250 29 202} {615815625157655440 29 203} {512867159306174624 29 204} {3876489591143449965 29 205} {1893649258319835353 29 206} {8928467450946264672 29 207} {7421071487180297152 29 208} {7901752346648358916 29 209} {2434734161432655209 29 210}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=210
-------------------------------------------------------------
term 29 Server0 start snapshot! index=209
term 29 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 83652 term 29 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 29 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2434734161432655209 29 210}]
------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=210
-------------------------------------------------------------
term 29 Server2 start snapshot! index=209
term 29 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3748491226588315184 (index 211) to leader 0
term 29 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 2805 term 29 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 29 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 67724 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 8682 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 212->211
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 195  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 45400 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 29 rf.commitIndex 209 rf.lastApplied 209
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
flag 8231 term 31 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 87476 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73650 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 10689 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
flag 31641 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 25746 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91690 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 6386 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
flag 76982 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 2193 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
flag 8761 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 89369 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2706023375507862034 (index 212) to leader 0
flag 95205 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 16418 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212}]
------------------------------------------------------
flag 94883 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 212 
------------------------------------------------------
flag 82279 term 31 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212}]
------------------------------------------------------
client write log 41037871953605174 (index 213) to leader 0
client write log 2315536742246964853 (index 214) to leader 0
client write log 5545242133002824111 (index 215) to leader 0
client write log 8010122579202278714 (index 216) to leader 0
client write log 3114892998976645878 (index 217) to leader 0
client write log 2169127447420996145 (index 218) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2439 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 212 
------------------------------------------------------
flag 16845 term 31 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218}]
------------------------------------------------------
flag 2973 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 218 
------------------------------------------------------
flag 88638 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2306075947337940241 (index 219) to leader 0
flag 26388 term 31 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 218 
------------------------------------------------------
flag 97203 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 32 Server0 start snapshot! index=219
term 32 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
term 32 server 0 not vote for server 1, 日志不够新
term 31 server 2 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 1
flag 93315 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 94230 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99541 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 99593 term 34 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 56785 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 3546 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34663 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 37539 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91276 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 33624 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 0
flag 48660 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 38083 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 98710 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 48868 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
flag 4786 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 18188 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 91762 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 26700 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 32690 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 42974 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 89431 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 22821 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 68554 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 39892 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35111 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 62205 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
flag 57611 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 66233 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49794 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 66880 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219}]
------------------------------------------------------
client write log 2306075947337940241 (index 220) to leader 2
flag 54971 term 34 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 40185 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 209} {2434734161432655209 29 210} {3748491226588315184 29 211} {2706023375507862034 31 212} {41037871953605174 31 213} {2315536742246964853 31 214} {5545242133002824111 31 215} {8010122579202278714 31 216} {3114892998976645878 31 217} {2169127447420996145 31 218} {2306075947337940241 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60210 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 33050 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 2
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
flag 46008 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 79330 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
flag 28293 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 96207 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
flag 8323 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 47464 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
flag 24265 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 92464 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12435 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 12333 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 58143 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 2843 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 12525 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 19889 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 15984 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 95761 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 0
term 35 server 1 become leader
------------------------------------------------------
flag 34739 term 35 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 40751 term 35 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {2306075947337940241 34 220}]
------------------------------------------------------
client write log 2836055266926554680 (index 221) to leader 1
flag 16672 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 10402 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 60920 term 35 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 56145 term 35 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221}]
------------------------------------------------------
flag 21665 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 89628 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 75726 term 35 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 54874 term 35 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221}]
------------------------------------------------------
client write log 787495572602118118 (index 222) to leader 1
flag 19012 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 4886 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 70001 term 35 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 12189 term 35 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222}]
------------------------------------------------------
flag 13134 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 74253 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 53246 term 35 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 35 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
flag 81896 term 35 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4178577098400697846 (index 223) to leader 1
flag 9515 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 50988 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 35 server 0 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34353 term 35 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 35 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
flag 51654 term 35 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
flag 76562 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 10090 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66132 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 23054 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
flag 26000 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 56796 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
flag 42360 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 89229 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52285 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 28938 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25594 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 4939 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5817207742160909669 (index 224) to leader 1
flag 5007 term 35 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 28175 term 35 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 35 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223} {5817207742160909669 35 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 224->223
------------------------------------------------------
flag 1628 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223} {5817207742160909669 35 224}]
------------------------------------------------------
client write log 8062266022463138855 (index 225) to leader 1
client write log 647239694854224437 (index 226) to leader 1
client write log 825922199491764138 (index 227) to leader 1
client write log 2256773808224631826 (index 228) to leader 1
client write log 8844622707686531674 (index 229) to leader 1
client write log 1176437466595113489 (index 230) to leader 1
client write log 3789936510543471169 (index 231) to leader 1
client write log 3329126372817037423 (index 232) to leader 1
client write log 8188601514598969612 (index 233) to leader 1
client write log 1358809125283035802 (index 234) to leader 1
flag 58354 term 35 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 35 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 219} {2306075947337940241 34 220} {2836055266926554680 35 221} {787495572602118118 35 222} {4178577098400697846 35 223} {5817207742160909669 35 224} {8062266022463138855 35 225} {647239694854224437 35 226} {825922199491764138 35 227} {2256773808224631826 35 228} {8844622707686531674 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234}]
------------------------------------------------------
term 35 Server1 start snapshot! index=229
term 35 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74227 term 35 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 35 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234}]
------------------------------------------------------
term 35 Server0 start snapshot! index=229
term 35 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7214439124906412792 (index 235) to leader 1
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 0 not vote for server 2, 日志不够新
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 54376 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 78211 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 236->235
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
term 37 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
flag 61907 term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 224  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 879 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 50310 term 37 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 47641 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 1207 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 24657 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 3942 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 68440 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 79027 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 16105 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 44732 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 22839 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 18711 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 92285 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 42075 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 84828 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 65123 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64419 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 91962 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 99638 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 50489 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 95474 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 5662 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77302 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 57622 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61102 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 75471 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 27005 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 74806 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65116 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 91139 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10085 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 60697 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
flag 10372 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 56953 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62355 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 85852 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7214439124906412792 (index 236) to leader 1
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76990 term 37 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
flag 44532 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
flag 73090 term 37 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 51763 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
flag 57600 term 37 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 29546 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
flag 75658 term 37 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 59929 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
flag 44270 term 37 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 73890 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78687 term 37 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 95408 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7861547226303903703 (index 237) to leader 1
flag 71903 term 37 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 63154 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236} {7861547226303903703 37 237}]
------------------------------------------------------
flag 2698 term 37 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 23368 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236} {7861547226303903703 37 237}]
------------------------------------------------------
client write log 330869796561933082 (index 238) to leader 1
client write log 5769621467099834991 (index 239) to leader 1
client write log 7341859915804626692 (index 240) to leader 1
client write log 2245192329689847836 (index 241) to leader 1
client write log 6733387408840350236 (index 242) to leader 1
client write log 7269073973892271260 (index 243) to leader 1
client write log 2288546452343229287 (index 244) to leader 1
client write log 1772957182886423517 (index 245) to leader 1
client write log 3569272107286942524 (index 246) to leader 1
client write log 2204441506328759918 (index 247) to leader 1
client write log 4188421876565066918 (index 248) to leader 1
client write log 4735022682641059600 (index 249) to leader 1
client write log 141017434882615539 (index 250) to leader 1
client write log 8531111294895826890 (index 251) to leader 1
client write log 1509021417824359351 (index 252) to leader 1
flag 18087 term 37 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 90565 term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 35 229} {1176437466595113489 35 230} {3789936510543471169 35 231} {3329126372817037423 35 232} {8188601514598969612 35 233} {1358809125283035802 35 234} {7214439124906412792 35 235} {7214439124906412792 37 236} {7861547226303903703 37 237} {330869796561933082 37 238} {5769621467099834991 37 239} {7341859915804626692 37 240} {2245192329689847836 37 241} {6733387408840350236 37 242} {7269073973892271260 37 243} {2288546452343229287 37 244} {1772957182886423517 37 245} {3569272107286942524 37 246} {2204441506328759918 37 247} {4188421876565066918 37 248} {4735022682641059600 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=252
-------------------------------------------------------------
term 37 Server1 start snapshot! index=249
term 37 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
flag 51828 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252}]
------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=252
-------------------------------------------------------------
term 37 Server0 start snapshot! index=249
term 37 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7724175332679303588 (index 253) to leader 1
term 37 server 1 not vote for server 2, 日志不够新
term 37 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get outdate rpc reply from server 0
flag 62622 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 79391 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 254->253
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 254->253
------------------------------------------------------
flag 66706 term 39 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 43575 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 30251 term 39 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99608 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 86573 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 76135 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 38378 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 44868 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 75814 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20429 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 54553 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 23695 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 33293 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23324 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 31991 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10236 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 78489 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 36046 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 92322 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99856 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 84978 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94179 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 28713 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 6034 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 43303 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 58956 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 46919 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46972 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 83080 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 86143 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 49726 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 29311 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 60712 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 44693 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 41097 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
flag 6189 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 89785 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253}]
------------------------------------------------------
client write log 7724175332679303588 (index 254) to leader 1
flag 90034 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
flag 29648 term 39 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
flag 1649 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 93701 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
flag 97125 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 99775 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 2 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 2
flag 85228 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 51808 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
flag 40767 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 63959 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
flag 95056 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 22129 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
flag 6604 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 74380 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 83887 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 79995 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 77847 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 12667 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 31846 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 17293 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
flag 48111 term 40 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 58593 term 40 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254}]
------------------------------------------------------
flag 86062 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 42654 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2288412953054129560 (index 255) to leader 0
flag 83649 term 40 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 46296 term 40 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255}]
------------------------------------------------------
flag 66825 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 45251 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 87751 term 40 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 91939 term 40 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255}]
------------------------------------------------------
flag 89051 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 90089 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
client write log 6344792101353362053 (index 256) to leader 0
flag 14062 term 40 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 17007 term 40 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 34030 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 630 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 61488 term 40 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 28512 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 56734 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 33712 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
!!!!!!connect server 1
client write log 5314250972274103166 (index 255) to leader 1
flag 43448 term 40 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 87156 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 14114 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 41055 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 71091 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 84947 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 日志不够新
term 40 server 0 get outdate rpc reply from server 1
flag 18592 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 99642 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 83703 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 77022 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 64809 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 64436 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82325 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 93887 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 60758 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 24224 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82743 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 52589 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 41008 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 70195 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 72936 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 41294 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87346 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 21731 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 22979 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 89740 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 78576 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 19038 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 92681 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 11973 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 82981 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 12003 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 76894 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 52036 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29086 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 20572 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 37079 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 28311 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
flag 42891 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 49506 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
client write log 5314250972274103166 (index 257) to leader 0
term 40 leader 0 nextIndex[1]: 0  matchIndex[1]: 256
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 14655 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
term 40 server 1 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 76555 term 40 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 257 
------------------------------------------------------
flag 64771 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
flag 9270 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 74246 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
flag 24181 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 59457 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32516 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 70534 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
flag 24541 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 61332 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
flag 56785 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 71493 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
flag 79641 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 99684 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 309388445038309959 (index 258) to leader 0
flag 68332 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 33009 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257} {309388445038309959 40 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31776 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 70646 term 40 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257} {309388445038309959 40 258}]
------------------------------------------------------
client write log 1377182607611345985 (index 259) to leader 0
client write log 8735756572113956881 (index 260) to leader 0
client write log 7323980473746094652 (index 261) to leader 0
client write log 8943606790545767208 (index 262) to leader 0
client write log 8719999023642359034 (index 263) to leader 0
client write log 2428334202088641962 (index 264) to leader 0
client write log 8683195536878077779 (index 265) to leader 0
client write log 1555734316324355222 (index 266) to leader 0
client write log 3221713822672336197 (index 267) to leader 0
client write log 6366377769792870998 (index 268) to leader 0
client write log 4647980205614156986 (index 269) to leader 0
client write log 6581725885645097245 (index 270) to leader 0
client write log 2411761724364179455 (index 271) to leader 0
client write log 6685135718702037161 (index 272) to leader 0
flag 70334 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 47264 term 40 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 37 249} {141017434882615539 37 250} {8531111294895826890 37 251} {1509021417824359351 37 252} {7724175332679303588 37 253} {7724175332679303588 39 254} {2288412953054129560 40 255} {6344792101353362053 40 256} {5314250972274103166 40 257} {309388445038309959 40 258} {1377182607611345985 40 259} {8735756572113956881 40 260} {7323980473746094652 40 261} {8943606790545767208 40 262} {8719999023642359034 40 263} {2428334202088641962 40 264} {8683195536878077779 40 265} {1555734316324355222 40 266} {3221713822672336197 40 267} {6366377769792870998 40 268} {4647980205614156986 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=272
-------------------------------------------------------------
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 62108 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272}]
------------------------------------------------------
term 40 Server2 start snapshot! index=259
term 40 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=272
-------------------------------------------------------------
term 40 Server2 start snapshot! index=269
term 40 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3473537443302779368 (index 273) to leader 0
term 40 server 2 not vote for server 1, 日志不够新
term 40 server 0 not vote for server 1, 日志不够新
term 42 server 2 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 1 vote for server 0
term 42 server 0 get outdate rpc reply from server 1
flag 12809 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 13775 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 274->273
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 89632 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 40 rf.commitIndex 269 rf.lastApplied 269
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 62505 term 42 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 42 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 22772 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 84318 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 55788 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 59366 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 98476 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 51607 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 87455 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18736 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 73571 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5414 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 22173 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 77977 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 64005 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 60042 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 58753 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95951 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 62704 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 27994 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 10181 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 17438 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 68525 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 77456 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 55157 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86548 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 40134 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 67615 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 94764 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 21495 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 61153 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76935 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 66199 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 1642 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 57400 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
flag 50999 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 23086 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273}]
------------------------------------------------------
client write log 3473537443302779368 (index 274) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16388 term 42 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
flag 29992 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
flag 65912 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 44233 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
flag 96222 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 1178 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
flag 54328 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 80666 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
flag 86436 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 96050 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24004 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 84832 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
flag 88691 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 70349 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2998353120695394975 (index 275) to leader 0
flag 21704 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 69293 term 42 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274} {2998353120695394975 42 275}]
------------------------------------------------------
flag 72632 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 275 
------------------------------------------------------
flag 26224 term 42 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 275 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274} {2998353120695394975 42 275}]
------------------------------------------------------
client write log 7220925513520267218 (index 276) to leader 0
client write log 6979557219985935672 (index 277) to leader 0
client write log 8999788972671602461 (index 278) to leader 0
client write log 6444736785649447310 (index 279) to leader 0
client write log 3620844780868811455 (index 280) to leader 0
client write log 1993184660015577210 (index 281) to leader 0
client write log 8104259132996449986 (index 282) to leader 0
client write log 8368594420992194307 (index 283) to leader 0
flag 10044 term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 275 
------------------------------------------------------
flag 46095 term 42 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 275 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 40 269} {6581725885645097245 40 270} {2411761724364179455 40 271} {6685135718702037161 40 272} {3473537443302779368 40 273} {3473537443302779368 42 274} {2998353120695394975 42 275} {7220925513520267218 42 276} {6979557219985935672 42 277} {8999788972671602461 42 278} {6444736785649447310 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283}]
------------------------------------------------------
term 42 Server0 start snapshot! index=279
term 42 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=283
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 60212 term 42 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 42 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 42 leaderCommit: 283 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 Server2 start snapshot! index=279
term 42 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5116679128434401737 (index 284) to leader 0
term 42 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 44340 term 42 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 42 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 42 leaderCommit: 283 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 81889 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 35879 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 285->284
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 275  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 56423 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 42 rf.commitIndex 279 rf.lastApplied 279
flag 25634 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 93984 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72147 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 28046 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
flag 87709 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 740 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
term 44 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
flag 16929 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 89475 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
flag 48924 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 19133 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
flag 97024 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 37081 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 76855 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 58043 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 12206 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 20651 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 84790 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 57805 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 42243 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 74943 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
flag 46856 term 45 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 16904 term 45 leader 2 nextIndex[1]: 285  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284}]
------------------------------------------------------
client write log 1027989555200633013 (index 285) to leader 2
flag 44958 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 74316 term 44 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 53310 term 45 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 54289 term 45 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 285->284
------------------------------------------------------
flag 28604 term 44 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 89262 term 45 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 59332 term 45 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285}]
------------------------------------------------------
client write log 7904658911205051292 (index 286) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 285->284
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 56032 term 45 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 31152 term 45 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286}]
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 50590 term 45 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 73637 term 45 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286}]
------------------------------------------------------
!!!!!!connect server 0
client write log 973593407935132035 (index 287) to leader 2
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 284
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43991 term 45 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 9290 term 45 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92398 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 60889 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
flag 45721 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 50541 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71241 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 70121 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16401 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 11202 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
flag 2267 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 41079 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37924 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 61617 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7915882162293704621 (index 288) to leader 2
flag 81880 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 61017 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287} {7915882162293704621 45 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23042 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 33294 term 45 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287} {7915882162293704621 45 288}]
------------------------------------------------------
client write log 7304341341303909388 (index 289) to leader 2
client write log 8629411765692690505 (index 290) to leader 2
client write log 4283073185409247537 (index 291) to leader 2
client write log 2871050612144112869 (index 292) to leader 2
client write log 4193938389148482754 (index 293) to leader 2
client write log 3741602981082369810 (index 294) to leader 2
client write log 3242797137040017978 (index 295) to leader 2
client write log 5717300459968111763 (index 296) to leader 2
client write log 7995890197765830770 (index 297) to leader 2
client write log 4368783093092263601 (index 298) to leader 2
client write log 7288224444268106011 (index 299) to leader 2
client write log 5561887592550204049 (index 300) to leader 2
client write log 1191254991099866391 (index 301) to leader 2
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
flag 67533 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 18314 term 45 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 279} {3620844780868811455 42 280} {1993184660015577210 42 281} {8104259132996449986 42 282} {8368594420992194307 42 283} {5116679128434401737 42 284} {1027989555200633013 45 285} {7904658911205051292 45 286} {973593407935132035 45 287} {7915882162293704621 45 288} {7304341341303909388 45 289} {8629411765692690505 45 290} {4283073185409247537 45 291} {2871050612144112869 45 292} {4193938389148482754 45 293} {3741602981082369810 45 294} {3242797137040017978 45 295} {5717300459968111763 45 296} {7995890197765830770 45 297} {4368783093092263601 45 298} {7288224444268106011 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301}]
------------------------------------------------------
term 45 Server2 start snapshot! index=289
term 45 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 45 Server2 start snapshot! index=299
term 45 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 76947 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301}]
------------------------------------------------------
term 45 Server1 start snapshot! index=289
term 45 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 45 Server1 start snapshot! index=299
term 45 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1822407061428593823 (index 302) to leader 2
term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 78034 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get outdate rpc reply from server 0
flag 9550 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 2727 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 303->302
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 43564 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 45 rf.commitIndex 299 rf.lastApplied 299
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83485 term 47 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 47 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 14646 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
flag 57651 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 41211 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
flag 92569 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 57950 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21579 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 95227 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
flag 92673 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 79364 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
flag 50604 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 94485 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3092843565793549328 (index 303) to leader 2
flag 75806 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
flag 34196 term 47 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302} {3092843565793549328 47 303}]
------------------------------------------------------
flag 5 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 60039 term 47 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 47 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302} {3092843565793549328 47 303}]
------------------------------------------------------
client write log 1689635661469972059 (index 304) to leader 2
client write log 5512032252091172666 (index 305) to leader 2
client write log 6299632068125992456 (index 306) to leader 2
client write log 4820666679367987187 (index 307) to leader 2
client write log 7116177565246388542 (index 308) to leader 2
client write log 5901117677466521705 (index 309) to leader 2
client write log 6173521451072671089 (index 310) to leader 2
client write log 9191596219091718612 (index 311) to leader 2
client write log 8294492071536759492 (index 312) to leader 2
client write log 8908646893112863067 (index 313) to leader 2
client write log 1440368147569920076 (index 314) to leader 2
client write log 5874713225631701599 (index 315) to leader 2
client write log 2338907916253687617 (index 316) to leader 2
client write log 6552397512407326467 (index 317) to leader 2
client write log 8575792845804022482 (index 318) to leader 2
flag 86692 term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 59478 term 47 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 47 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 45 299} {5561887592550204049 45 300} {1191254991099866391 45 301} {1822407061428593823 45 302} {3092843565793549328 47 303} {1689635661469972059 47 304} {5512032252091172666 47 305} {6299632068125992456 47 306} {4820666679367987187 47 307} {7116177565246388542 47 308} {5901117677466521705 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318}]
------------------------------------------------------
term 47 Server2 start snapshot! index=309
term 47 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=318
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 48030 term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 47 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318}]
------------------------------------------------------
term 47 Server1 start snapshot! index=309
term 47 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=318
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3708335115136135031 (index 319) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 28721 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 35890 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 320->319
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 320->319
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 303  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 84342 term 49 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 47 rf.commitIndex 309 rf.lastApplied 309
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4259 term 49 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 601 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
flag 66368 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 56563 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49873 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 57375 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14949 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 19447 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16218 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 64487 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 11345 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 40093 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75334 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 96960 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55424 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 47389 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 30354 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 23385 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 35484 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 18476 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 26798 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 93379 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62281 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 45105 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 1 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 1
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 99408 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 94931 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 20500 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 6816 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 85454 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 69510 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 85827 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 59053 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
flag 74780 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 22458 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319}]
------------------------------------------------------
client write log 3708335115136135031 (index 320) to leader 2
flag 43769 term 49 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
flag 93136 term 49 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 49 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 318 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 309} {6173521451072671089 47 310} {9191596219091718612 47 311} {8294492071536759492 47 312} {8908646893112863067 47 313} {1440368147569920076 47 314} {5874713225631701599 47 315} {2338907916253687617 47 316} {6552397512407326467 47 317} {8575792845804022482 47 318} {3708335115136135031 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
term 49 Server2 start snapshot! index=319
term 49 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 54253 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 6763 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
term 49 Server1 start snapshot! index=319
term 49 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
term 49 Server0 start snapshot! index=319
term 49 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 61804 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 79069 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
flag 34938 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 55062 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
flag 94205 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 53725 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
flag 92249 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 60301 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18908 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 34770 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11998 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 54271 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 62012 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 21332 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 38940 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 52080 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 1
term 50 server 0 become leader
------------------------------------------------------
flag 97633 term 50 leader 0 nextIndex[1]: 321  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 88996 term 50 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 47 319} {3708335115136135031 49 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2410186782801493912 (index 321) to leader 0
flag 33370 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 12979 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 72446 term 50 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 50 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 52089 term 50 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 47 319} {3708335115136135031 49 320} {2410186782801493912 50 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56953 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 3819 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 60722 term 50 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 50 leaderCommit: 321 
------------------------------------------------------
flag 84522 term 50 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 47 319} {3708335115136135031 49 320} {2410186782801493912 50 321}]
------------------------------------------------------
client write log 3023396352510566413 (index 322) to leader 0
client write log 7327540663289526297 (index 323) to leader 0
client write log 1271969902296478356 (index 324) to leader 0
client write log 7664244120592868797 (index 325) to leader 0
client write log 710610897386444682 (index 326) to leader 0
client write log 2966036138954054387 (index 327) to leader 0
client write log 2042450459994402181 (index 328) to leader 0
client write log 25679165670105627 (index 329) to leader 0
client write log 2047527680122275063 (index 330) to leader 0
client write log 7060065541765249357 (index 331) to leader 0
client write log 4906418114189586403 (index 332) to leader 0
client write log 8973999838436281138 (index 333) to leader 0
client write log 234274349125910249 (index 334) to leader 0
flag 40336 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 61840 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 31092 term 50 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 50 leaderCommit: 321 
------------------------------------------------------
flag 39346 term 50 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 47 319} {3708335115136135031 49 320} {2410186782801493912 50 321} {3023396352510566413 50 322} {7327540663289526297 50 323} {1271969902296478356 50 324} {7664244120592868797 50 325} {710610897386444682 50 326} {2966036138954054387 50 327} {2042450459994402181 50 328} {25679165670105627 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 50 Server0 start snapshot! index=329
term 50 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=334
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50421 term 49 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
flag 97167 term 49 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 49 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 49 leaderCommit: 320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
flag 54138 term 50 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 50 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 50 Server1 start snapshot! index=329
term 50 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=334
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4407297550183859805 (index 321) to leader 2
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 320
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 0  matchIndex[1]: 320
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29358 term 50 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 50 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 50 rf.commitIndex 329 rf.lastApplied 329
term 50 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
term 52 server 1 vote for server 0
term 52 server 0 get outdate rpc reply from server 1
flag 69969 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 56017 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 335->334
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 47975 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 72022 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24138 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 86961 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22480 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 45730 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 99001 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 15505 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 83113 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 6843 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 61570 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 80573 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66124 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 42629 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3134 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 4802 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82822 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 5261 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87706 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 45397 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 65714 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 13373 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 91670 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 44273 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45789 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 54983 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 77126 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 56818 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 41373 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 27352 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 82887 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 86087 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 1772 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 90077 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
flag 45735 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 62217 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334}]
------------------------------------------------------
client write log 4407297550183859805 (index 335) to leader 0
flag 12635 term 52 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
flag 88780 term 52 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 52 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24727 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
flag 35414 term 52 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45893 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
flag 88591 term 52 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51058 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
flag 65647 term 52 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
flag 72804 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
flag 66118 term 52 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
flag 16191 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
flag 19672 term 52 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1327363590630619436 (index 336) to leader 0
flag 85877 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
flag 86334 term 52 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335} {1327363590630619436 52 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8745 term 52 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 52 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 52 leaderCommit: 336 
------------------------------------------------------
flag 82429 term 52 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 52 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 52 leaderCommit: 336 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335} {1327363590630619436 52 336}]
------------------------------------------------------
client write log 1608994086558420080 (index 337) to leader 0
client write log 7752572398177122508 (index 338) to leader 0
client write log 2452485860684479938 (index 339) to leader 0
client write log 4039710981142882507 (index 340) to leader 0
client write log 2846446277645584942 (index 341) to leader 0
client write log 8005744157917564970 (index 342) to leader 0
client write log 5403629622527342878 (index 343) to leader 0
client write log 5763041695682710981 (index 344) to leader 0
client write log 8237062134206027127 (index 345) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 336->335
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 335
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 37713 term 52 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 52 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 52 leaderCommit: 336 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 50 329} {2047527680122275063 50 330} {7060065541765249357 50 331} {4906418114189586403 50 332} {8973999838436281138 50 333} {234274349125910249 50 334} {4407297550183859805 52 335} {1327363590630619436 52 336} {1608994086558420080 52 337} {7752572398177122508 52 338} {2452485860684479938 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345}]
------------------------------------------------------
term 52 Server0 start snapshot! index=339
term 52 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=345
-------------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 335
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 17212 term 52 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 52 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 52 leaderCommit: 345 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345}]
------------------------------------------------------
term 52 Server2 start snapshot! index=339
term 52 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=345
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2462967726906664099 (index 346) to leader 0
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 335
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 65653 term 52 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 52 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 52 leaderCommit: 345 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 53 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get outdate rpc reply from server 1
flag 13622 term 54 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 46742 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 347->346
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 19436 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 52 rf.commitIndex 339 rf.lastApplied 339
flag 79062 term 54 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 54 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 57221 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
flag 5954 term 54 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 55228 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 40635 term 54 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 21390 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
term 54 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85842 term 54 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 46614 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
flag 86505 term 54 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 82143 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70432 term 54 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 91477 term 54 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 54 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 52 339} {4039710981142882507 52 340} {2846446277645584942 52 341} {8005744157917564970 52 342} {5403629622527342878 52 343} {5763041695682710981 52 344} {8237062134206027127 52 345} {2462967726906664099 52 346}]
------------------------------------------------------
  ... Passed --  78.5  3 1786  746000  346
--- PASS: TestSnapshotInstall2D (78.49s)
PASS
