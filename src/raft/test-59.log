=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 39201 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 47983 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2976464156014652662 (index 1) to leader 0
flag 79070 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 4236 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
flag 98819 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 78571 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
flag 73527 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54838 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
flag 23647 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47111 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
flag 42200 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 25553 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
flag 68829 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 20037 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
flag 98259 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94843 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2976464156014652662 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3356288033808909288 (index 2) to leader 0
flag 65037 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 85392 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2976464156014652662 1 1} {3356288033808909288 1 2}]
------------------------------------------------------
flag 22962 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 43913 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2976464156014652662 1 1} {3356288033808909288 1 2}]
------------------------------------------------------
client write log 388334757352354003 (index 3) to leader 0
client write log 2518893496798830207 (index 4) to leader 0
client write log 4267721562177185757 (index 5) to leader 0
client write log 3971385168827343713 (index 6) to leader 0
client write log 770275285526256138 (index 7) to leader 0
client write log 2842420479920285948 (index 8) to leader 0
client write log 7442000643941362209 (index 9) to leader 0
client write log 8044800790795291022 (index 10) to leader 0
flag 34351 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 62132 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {2976464156014652662 1 1} {3356288033808909288 1 2} {388334757352354003 1 3} {2518893496798830207 1 4} {4267721562177185757 1 5} {3971385168827343713 1 6} {770275285526256138 1 7} {2842420479920285948 1 8} {7442000643941362209 1 9} {8044800790795291022 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 6310 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2272538015705628221 (index 11) to leader 0
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 40871 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 2 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 1
term 3 server 0 become leader
------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 0 get outdate rpc reply from server 2
flag 87627 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 34213 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 17493 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 43627 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 98805 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 24031 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 90132 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 55353 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 55385 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 22922 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 80520 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 2 not vote for server 1, 任期不够新
term 3 server 1 get outdate rpc reply from server 2
flag 42541 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 45701 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 13247 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 10245 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 73752 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 80854 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 60648 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99718 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 29009 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 80389 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 11943 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 58574 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 70082 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 27859 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 20097 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 77 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 76025 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 42890 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 8891 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 38664 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 78762 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 17735 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 33732 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 30012 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
flag 33024 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51192 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11}]
------------------------------------------------------
client write log 2272538015705628221 (index 12) to leader 0
flag 79768 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31990 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
flag 88565 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 14024 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
flag 43677 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 7470 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
flag 7490 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 8508 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
flag 86581 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 70596 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
flag 7035 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 64363 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 25747 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 7137 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 18089 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 23768 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58853 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 4278 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 3485 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 39508 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12}]
------------------------------------------------------
client write log 7418547656040379462 (index 13) to leader 1
flag 55602 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 42085 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 29643 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 63433 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12} {7418547656040379462 4 13}]
------------------------------------------------------
flag 72785 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 31674 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 91380 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 78074 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12} {7418547656040379462 4 13}]
------------------------------------------------------
client write log 8525377669742625602 (index 14) to leader 1
client write log 276945844415172087 (index 15) to leader 1
client write log 4188190250171813519 (index 16) to leader 1
client write log 862363721899992276 (index 17) to leader 1
client write log 2125423933984291041 (index 18) to leader 1
client write log 7394209435281274860 (index 19) to leader 1
client write log 952463913619524031 (index 20) to leader 1
client write log 801516023481818708 (index 21) to leader 1
client write log 6436500278176055373 (index 22) to leader 1
flag 23131 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 5117 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 60954 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 27635 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {8044800790795291022 1 10} {2272538015705628221 1 11} {2272538015705628221 3 12} {7418547656040379462 4 13} {8525377669742625602 4 14} {276945844415172087 4 15} {4188190250171813519 4 16} {862363721899992276 4 17} {2125423933984291041 4 18} {7394209435281274860 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
flag 28133 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 40449 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 406 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
flag 31211 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 23283 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
!!!!!!connect server 0
client write log 3462803563186922758 (index 23) to leader 1
term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 48958 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 83768 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 99677 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
flag 24406 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 16335 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
flag 44599 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 97055 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
flag 47964 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 15993 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
flag 72047 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 92962 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
flag 60839 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 71151 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
term 4 server 0 not vote for server 1, 日志不够新
term 4 server 1 get outdate rpc reply from server 0
flag 19035 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 89412 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4723334022309200343 (index 24) to leader 1
flag 37955 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 42454 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23} {4723334022309200343 4 24}]
------------------------------------------------------
flag 69267 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 69913 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23} {4723334022309200343 4 24}]
------------------------------------------------------
client write log 8899799607116081779 (index 25) to leader 1
client write log 6988546816379538483 (index 26) to leader 1
client write log 4140170267590978063 (index 27) to leader 1
client write log 6531385768792896820 (index 28) to leader 1
client write log 4915641278864422947 (index 29) to leader 1
client write log 2665843123055355613 (index 30) to leader 1
client write log 5118421189107613372 (index 31) to leader 1
client write log 8513226765535219331 (index 32) to leader 1
client write log 7075645833875614537 (index 33) to leader 1
flag 51498 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 36432 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {952463913619524031 4 20} {801516023481818708 4 21} {6436500278176055373 4 22} {3462803563186922758 4 23} {4723334022309200343 4 24} {8899799607116081779 4 25} {6988546816379538483 4 26} {4140170267590978063 4 27} {6531385768792896820 4 28} {4915641278864422947 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
flag 39851 term 4 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1076654670101035438 (index 34) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42540 term 4 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 85429 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 78004 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 35->34
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2448 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 82923 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 67103 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 20927 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 87076 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 84368 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 87555 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33003 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 22151 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 61716 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 18350 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64691 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 57529 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 42795 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 51971 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 26917 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 3641 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62533 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 73551 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 48467 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 6681 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81436 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 56690 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 23276 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 88439 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 48596 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 53366 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 52535 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 62983 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 78371 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 98059 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84664 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 91177 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
flag 18648 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 55709 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
client write log 1076654670101035438 (index 35) to leader 1
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
flag 81861 term 6 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 33413 term 6 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 6 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
flag 79707 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 74301 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61698 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 78634 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
flag 4782 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 64732 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15483 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 2110 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
flag 64720 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 62880 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5428201871831724789 (index 36) to leader 1
flag 31862 term 6 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 37816 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35} {5428201871831724789 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27079 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 43124 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35} {5428201871831724789 6 36}]
------------------------------------------------------
client write log 5979493909376891768 (index 37) to leader 1
client write log 8576411030341959096 (index 38) to leader 1
client write log 3946814819948583831 (index 39) to leader 1
client write log 861527855377039276 (index 40) to leader 1
client write log 5633171043284504437 (index 41) to leader 1
client write log 4837459962060948125 (index 42) to leader 1
client write log 6950367336380751919 (index 43) to leader 1
client write log 8673832453948240150 (index 44) to leader 1
client write log 1430882543850314828 (index 45) to leader 1
client write log 3495997451568715742 (index 46) to leader 1
client write log 3048986552567433773 (index 47) to leader 1
client write log 8186131077402117986 (index 48) to leader 1
flag 43818 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 33440 term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 29} {2665843123055355613 4 30} {5118421189107613372 4 31} {8513226765535219331 4 32} {7075645833875614537 4 33} {1076654670101035438 4 34} {1076654670101035438 6 35} {5428201871831724789 6 36} {5979493909376891768 6 37} {8576411030341959096 6 38} {3946814819948583831 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
flag 32779 term 6 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6522135298588299361 (index 49) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11525 term 6 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 1 not vote for server 2, 日志不够新
term 7 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 47056 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 68019 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95331 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 36  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 72976 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 80561 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87027 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 66456 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 98278 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 44331 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19546 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 28105 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 77356 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 47900 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75306 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 35202 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 93866 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 77217 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43585 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 44156 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 1521 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 92719 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53980 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 34948 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 60301 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 54163 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 72784 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 60081 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97776 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 71575 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 58670 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 95288 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 18217 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 20579 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 75723 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 56848 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
flag 64582 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 49798 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49}]
------------------------------------------------------
client write log 6522135298588299361 (index 50) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44712 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 59445 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {861527855377039276 6 40} {5633171043284504437 6 41} {4837459962060948125 6 42} {6950367336380751919 6 43} {8673832453948240150 6 44} {1430882543850314828 6 45} {3495997451568715742 6 46} {3048986552567433773 6 47} {8186131077402117986 6 48} {6522135298588299361 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16064 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 15275 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 70788 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 47501 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
flag 90887 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 31677 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67236 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 53029 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
flag 63986 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 22833 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 83958 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 50664 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 44706 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 58261 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 94520 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 45567 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 37862 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 42662 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {6522135298588299361 8 50}]
------------------------------------------------------
client write log 2024793703167012182 (index 51) to leader 2
flag 33530 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 69755 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 67071 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 69826 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {6522135298588299361 8 50} {2024793703167012182 9 51}]
------------------------------------------------------
flag 93310 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 77792 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 43768 term 9 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 3648 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {6522135298588299361 8 50} {2024793703167012182 9 51}]
------------------------------------------------------
client write log 8460487957399106127 (index 52) to leader 2
client write log 4066297206552053288 (index 53) to leader 2
client write log 8648841747843226186 (index 54) to leader 2
client write log 5157504879171830192 (index 55) to leader 2
client write log 807967097141397453 (index 56) to leader 2
client write log 109697723102080903 (index 57) to leader 2
client write log 5014757324229007357 (index 58) to leader 2
client write log 4044368201884205709 (index 59) to leader 2
client write log 7511654100504482641 (index 60) to leader 2
client write log 5046352877898927234 (index 61) to leader 2
client write log 1776344891861391988 (index 62) to leader 2
client write log 8012607975990050010 (index 63) to leader 2
client write log 7175355338112623248 (index 64) to leader 2
flag 28805 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 55402 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 24129 term 9 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 17099 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 6 49} {6522135298588299361 8 50} {2024793703167012182 9 51} {8460487957399106127 9 52} {4066297206552053288 9 53} {8648841747843226186 9 54} {5157504879171830192 9 55} {807967097141397453 9 56} {109697723102080903 9 57} {5014757324229007357 9 58} {4044368201884205709 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
flag 72261 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 58317 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 18627 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1382482513667849091 (index 51) to leader 1
flag 26951 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 29939 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25097 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
flag 66118 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 67976 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 41604 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 77787 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63638 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 85253 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 78988 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 30218 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 80374 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 12086 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75150 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 95567 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 2894 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 31813 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 81504 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 12671 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95843 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 37880 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81693 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 13487 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 81290 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 85266 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 55301 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 30659 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31446 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 3850 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 65->64
------------------------------------------------------
flag 98675 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 64
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 64 args.LastIncludedIndex 59
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 95648 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 39988 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 8421 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 2381 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 3751 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 4641 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
flag 99468 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 41795 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59390 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 60618 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64}]
------------------------------------------------------
client write log 1382482513667849091 (index 65) to leader 2
flag 96868 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 4419 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
flag 80217 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 49589 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42227 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 24865 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
flag 22388 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 40866 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20880 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 84007 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
flag 81637 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 38081 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
flag 61233 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 65 args.LastIncludedIndex 59
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 3462465919404845255 (index 66) to leader 2
flag 71556 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 79185 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65} {3462465919404845255 9 66}]
------------------------------------------------------
flag 83547 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 86276 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65} {3462465919404845255 9 66}]
------------------------------------------------------
client write log 1586383484653734568 (index 67) to leader 2
client write log 818688306406181300 (index 68) to leader 2
client write log 261449526721554366 (index 69) to leader 2
client write log 7349953118829122787 (index 70) to leader 2
client write log 3255744541460607741 (index 71) to leader 2
client write log 7010708158717886528 (index 72) to leader 2
client write log 6841602561316695231 (index 73) to leader 2
client write log 8811745638156200654 (index 74) to leader 2
client write log 6352757563766734332 (index 75) to leader 2
client write log 3535775004073094693 (index 76) to leader 2
client write log 3283124212839194184 (index 77) to leader 2
client write log 5976751917063493229 (index 78) to leader 2
client write log 1403960148651899816 (index 79) to leader 2
flag 81027 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 86247 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 59} {7511654100504482641 9 60} {5046352877898927234 9 61} {1776344891861391988 9 62} {8012607975990050010 9 63} {7175355338112623248 9 64} {1382482513667849091 9 65} {3462465919404845255 9 66} {1586383484653734568 9 67} {818688306406181300 9 68} {261449526721554366 9 69} {7349953118829122787 9 70} {3255744541460607741 9 71} {7010708158717886528 9 72} {6841602561316695231 9 73} {8811745638156200654 9 74} {6352757563766734332 9 75} {3535775004073094693 9 76} {3283124212839194184 9 77} {5976751917063493229 9 78} {1403960148651899816 9 79}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=79
-------------------------------------------------------------
term 9 Server2 start snapshot! index=79
term 9 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 29086 term 9 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 9 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 79 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 79}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=79
-------------------------------------------------------------
term 9 Server1 start snapshot! index=79
term 9 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3974664020718072720 (index 80) to leader 2
term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 75528 term 9 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 9 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 79 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40307 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 81290 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 73658 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
term 11 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 65325 term 11 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 11 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 70903 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
flag 14192 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 2993 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
flag 23697 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 75075 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
flag 94649 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 32715 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
flag 65099 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 69308 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22546 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 75032 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {3974664020718072720 9 80}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5109519501231984460 (index 81) to leader 2
flag 23730 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 67860 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32094 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 96106 term 11 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 11 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81}]
------------------------------------------------------
client write log 5181238845746840087 (index 82) to leader 2
client write log 209975109278973574 (index 83) to leader 2
client write log 4630129633861582275 (index 84) to leader 2
client write log 1098233078316279026 (index 85) to leader 2
client write log 26335988582911471 (index 86) to leader 2
client write log 6102386924371231434 (index 87) to leader 2
client write log 2646212910958246986 (index 88) to leader 2
flag 61037 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 12745 term 11 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 11 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88}]
------------------------------------------------------
flag 42166 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 96008 term 11 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 11 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1239229346173890244 (index 89) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24340 term 11 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 55095 term 11 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 11 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get outdate rpc reply from server 0
flag 38435 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 46050 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 1 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60070 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 5703 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 78272 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 82831 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 76757 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 33275 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 41083 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 34889 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49818 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 80101 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 11931 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 82503 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 81947 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 7659 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 83001 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 48078 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47686 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 50127 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 53574 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 35488 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5791 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 43802 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 89432 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 94291 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 68048 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 77353 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 3962 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 99204 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
flag 21598 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 6747 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89}]
------------------------------------------------------
client write log 1239229346173890244 (index 90) to leader 1
flag 13377 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 17269 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 79} {3974664020718072720 9 80} {5109519501231984460 11 81} {5181238845746840087 11 82} {209975109278973574 11 83} {4630129633861582275 11 84} {1098233078316279026 11 85} {26335988582911471 11 86} {6102386924371231434 11 87} {2646212910958246986 11 88} {1239229346173890244 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92496 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 16464 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 5290 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 41673 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
flag 15420 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 41832 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
flag 25121 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 62735 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
flag 67537 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 73767 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 88333 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 52791 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 2443 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 77679 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 37155 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 35905 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 50767 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 67379 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
flag 63663 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 34211 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1239229346173890244 14 90}]
------------------------------------------------------
client write log 2279169274341569765 (index 91) to leader 2
flag 81919 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 89483 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 78882 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 53178 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {1239229346173890244 14 90} {2279169274341569765 15 91}]
------------------------------------------------------
flag 86369 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 76744 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24478 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 23744 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {1239229346173890244 14 90} {2279169274341569765 15 91}]
------------------------------------------------------
client write log 7803410203681505031 (index 92) to leader 2
client write log 8240370414013823183 (index 93) to leader 2
client write log 4968231429577382915 (index 94) to leader 2
client write log 2693553772187985855 (index 95) to leader 2
client write log 3241695597406532272 (index 96) to leader 2
client write log 3463870741956598232 (index 97) to leader 2
client write log 3462255860419293562 (index 98) to leader 2
client write log 6363130811026204537 (index 99) to leader 2
client write log 4065057316236165530 (index 100) to leader 2
client write log 1059528912179765827 (index 101) to leader 2
client write log 1600621423721747451 (index 102) to leader 2
client write log 3523174968607904616 (index 103) to leader 2
client write log 6768733839743602137 (index 104) to leader 2
client write log 1845751451860909292 (index 105) to leader 2
flag 19685 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 95154 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 44387 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 89311 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 89} {1239229346173890244 14 90} {2279169274341569765 15 91} {7803410203681505031 15 92} {8240370414013823183 15 93} {4968231429577382915 15 94} {2693553772187985855 15 95} {3241695597406532272 15 96} {3463870741956598232 15 97} {3462255860419293562 15 98} {6363130811026204537 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 Server2 start snapshot! index=99
term 15 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
flag 34989 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 9355 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 24891 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 Server0 start snapshot! index=99
term 15 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7823649725808502028 (index 91) to leader 1
flag 8935 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 61712 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2221 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 66382 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 21321 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 23727 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 57848 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 30128 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 33539 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 10004 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 99097 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 40515 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 76244 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 33338 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 52068 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 65816 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 54652 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31903 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 82855 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 27548 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 14009 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 44262 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 51135 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
update nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6559 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 15914 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 34234 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 62827 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15423 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 2635 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69903 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 34529 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57119 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 43821 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
flag 40446 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 9843 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3706 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 815 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 12052 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 94064 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25053 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 2321 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105}]
------------------------------------------------------
client write log 7823649725808502028 (index 106) to leader 2
flag 79233 term 15 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
flag 71305 term 15 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 15 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 15 leaderCommit: 105 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
flag 52667 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 8185 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
flag 16383 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 67355 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 日志不够新
term 15 server 2 get outdate rpc reply from server 1
flag 99256 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 12875 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69413 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 35736 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1945 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 74722 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
flag 36839 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 28169 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6188121857722092439 (index 107) to leader 2
flag 80707 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
flag 25945 term 15 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 106 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106} {6188121857722092439 15 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82527 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 71945 term 15 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 15 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106} {6188121857722092439 15 107}]
------------------------------------------------------
client write log 4281195316744255472 (index 108) to leader 2
client write log 4641649201107845230 (index 109) to leader 2
client write log 1042301059547152740 (index 110) to leader 2
client write log 1182749116975530680 (index 111) to leader 2
client write log 2665030689233034311 (index 112) to leader 2
client write log 3918162556594109993 (index 113) to leader 2
client write log 3261379130990584186 (index 114) to leader 2
client write log 2152266240731859359 (index 115) to leader 2
client write log 4388777195482534055 (index 116) to leader 2
client write log 2047389422000791361 (index 117) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 108->107
------------------------------------------------------
flag 11956 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 107
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 107 args.LastIncludedIndex 99
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 100->99
------------------------------------------------------
flag 46617 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 99
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 107 args.LastIncludedIndex 99
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 82465 term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
flag 18517 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 107 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 15 99} {4065057316236165530 15 100} {1059528912179765827 15 101} {1600621423721747451 15 102} {3523174968607904616 15 103} {6768733839743602137 15 104} {1845751451860909292 15 105} {7823649725808502028 15 106} {6188121857722092439 15 107} {4281195316744255472 15 108} {4641649201107845230 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117}]
------------------------------------------------------
term 15 Server2 start snapshot! index=109
term 15 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=117
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
flag 19122 term 15 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 15 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 15 leaderCommit: 117 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117}]
------------------------------------------------------
term 15 Server1 start snapshot! index=109
term 15 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=117
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8509353146247654018 (index 118) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
flag 99752 term 15 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 15 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 15 leaderCommit: 117 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 0
term 17 server 2 become leader
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get outdate rpc reply from server 1
flag 6201 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 40376 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 107  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
flag 96548 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 15 rf.commitIndex 109 rf.lastApplied 109
flag 37469 term 17 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 17 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 21288 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
flag 58813 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 58625 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
flag 23619 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 76888 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
term 17 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 2 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 2
flag 49869 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 9288 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
flag 81360 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 75182 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
flag 62837 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 90234 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6352946927242775313 (index 119) to leader 2
flag 22769 term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 13510 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 109} {1042301059547152740 15 110} {1182749116975530680 15 111} {2665030689233034311 15 112} {3918162556594109993 15 113} {3261379130990584186 15 114} {2152266240731859359 15 115} {4388777195482534055 15 116} {2047389422000791361 15 117} {8509353146247654018 15 118} {6352946927242775313 17 119}]
------------------------------------------------------
term 17 Server2 start snapshot! index=119
term 17 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 63167 term 17 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 17 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 119 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 17 119}]
------------------------------------------------------
term 17 Server1 start snapshot! index=119
term 17 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 3322984708725492068 (index 120) to leader 2
client write log 3257720970493429449 (index 121) to leader 2
client write log 4130786516519119695 (index 122) to leader 2
client write log 6466261077213584910 (index 123) to leader 2
client write log 7587573208288935899 (index 124) to leader 2
client write log 788532525179538480 (index 125) to leader 2
client write log 5639352420492871017 (index 126) to leader 2
client write log 7935881230542197948 (index 127) to leader 2
client write log 3841090888840199670 (index 128) to leader 2
client write log 7870611883387322665 (index 129) to leader 2
client write log 1901301644562310807 (index 130) to leader 2
client write log 6834833262284324386 (index 131) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 118
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 96314 term 17 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 17 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 119 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 17 119} {3322984708725492068 17 120} {3257720970493429449 17 121} {4130786516519119695 17 122} {6466261077213584910 17 123} {7587573208288935899 17 124} {788532525179538480 17 125} {5639352420492871017 17 126} {7935881230542197948 17 127} {3841090888840199670 17 128} {7870611883387322665 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131}]
------------------------------------------------------
term 17 Server2 start snapshot! index=129
term 17 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=131
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 118
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 17
------------------------------------------------------
flag 34456 term 17 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 17 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 17 leaderCommit: 131 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131}]
------------------------------------------------------
term 17 Server1 start snapshot! index=129
term 17 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=131
-------------------------------------------------------------
!!!!!!connect server 0
client write log 17201810907511076 (index 132) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 118
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 17
------------------------------------------------------
flag 10019 term 17 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 17 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 17 leaderCommit: 131 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 1
flag 79880 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 41389 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 133->132
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 17
------------------------------------------------------
flag 14066 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
rf.lastIncludedIndex 129 rf.lastIncludedTerm 17 rf.commitIndex 129 rf.lastApplied 129
flag 1313 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 14766 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
flag 87738 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 57109 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
flag 70108 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 94344 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27240 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 72043 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
flag 94637 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 97219 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 74471 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 47697 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 55993 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 27183 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 44426 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 83469 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26490 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 70305 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
flag 62347 term 20 leader 0 nextIndex[1]: 133  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 17047 term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132}]
------------------------------------------------------
flag 49055 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 20847 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 744144591230558310 (index 133) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70554 term 20 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 81535 term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132} {744144591230558310 20 133}]
------------------------------------------------------
flag 66172 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 80821 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 62664 term 20 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 20 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 133 
------------------------------------------------------
flag 51769 term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 133 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132} {744144591230558310 20 133}]
------------------------------------------------------
flag 66582 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 53741 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
client write log 4389361773069739061 (index 134) to leader 0
client write log 906344646629234354 (index 135) to leader 0
client write log 9217896090696663479 (index 136) to leader 0
client write log 7474588657750457320 (index 137) to leader 0
client write log 8605933338800846155 (index 138) to leader 0
client write log 6535715498301000349 (index 139) to leader 0
client write log 3760758482523988352 (index 140) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59868 term 20 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 20 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 20 leaderCommit: 133 
------------------------------------------------------
flag 47651 term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 133 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 17 129} {1901301644562310807 17 130} {6834833262284324386 17 131} {17201810907511076 17 132} {744144591230558310 20 133} {4389361773069739061 20 134} {906344646629234354 20 135} {9217896090696663479 20 136} {7474588657750457320 20 137} {8605933338800846155 20 138} {6535715498301000349 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 Server0 start snapshot! index=139
term 20 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
flag 67928 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 60739 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 52380 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 Server1 start snapshot! index=139
term 20 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
flag 59893 term 19 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
flag 75359 term 19 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 17 leaderCommit: 132 
------------------------------------------------------
!!!!!!connect server 2
client write log 5160250371203849582 (index 133) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 133->132
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 86812 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 20 rf.commitIndex 139 rf.lastApplied 139
flag 30954 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 28480 term 20 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 20 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 46120 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 81584 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 99603 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 48463 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 33619 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 81863 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 14733 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 99502 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 86885 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 31258 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94363 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 24844 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28482 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 9253 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 95336 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 21468 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 75783 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 41977 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 141->140
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22385 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 140
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 140 args.LastIncludedIndex 139
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63713 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 139
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 140 args.LastIncludedIndex 139
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20109 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 51515 term 20 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 20 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 2631 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 53920 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86030 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 98517 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 13364 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 75670 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 94907 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 2775 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34481 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 85583 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
flag 43292 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 46033 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 20 139} {3760758482523988352 20 140}]
------------------------------------------------------
client write log 5160250371203849582 (index 141) to leader 0
flag 3028 term 20 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
flag 13071 term 20 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 20 leaderCommit: 140 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
flag 81849 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 99670 term 20 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 54747 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 95459 term 20 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 20 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
flag 32209 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 6918 term 20 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
flag 40210 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 69163 term 20 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
flag 93926 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 99269 term 20 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4762861753979391850 (index 142) to leader 0
flag 69153 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 67568 term 20 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141} {4762861753979391850 20 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65152 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 41429 term 20 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141} {4762861753979391850 20 142}]
------------------------------------------------------
client write log 1260208892210744040 (index 143) to leader 0
client write log 8054515495362621689 (index 144) to leader 0
client write log 5982800984526878231 (index 145) to leader 0
client write log 5028276622948772394 (index 146) to leader 0
client write log 3319716933183893508 (index 147) to leader 0
client write log 8308294883821322412 (index 148) to leader 0
client write log 7959281443902584899 (index 149) to leader 0
client write log 5195686976854961144 (index 150) to leader 0
client write log 6304420179711659676 (index 151) to leader 0
flag 87331 term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 81620 term 20 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 20 139} {3760758482523988352 20 140} {5160250371203849582 20 141} {4762861753979391850 20 142} {1260208892210744040 20 143} {8054515495362621689 20 144} {5982800984526878231 20 145} {5028276622948772394 20 146} {3319716933183893508 20 147} {8308294883821322412 20 148} {7959281443902584899 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151}]
------------------------------------------------------
term 20 Server0 start snapshot! index=149
term 20 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 20
------------------------------------------------------
flag 48046 term 20 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 20 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151}]
------------------------------------------------------
term 20 Server2 start snapshot! index=149
term 20 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6078443703712956490 (index 152) to leader 0
term 20 server 2 not vote for server 1, 日志不够新
term 20 server 0 not vote for server 1, 日志不够新
term 22 server 2 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
term 22 server 1 vote for server 0
term 22 server 0 get outdate rpc reply from server 1
flag 89058 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 48546 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 153->152
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 20
------------------------------------------------------
flag 37584 term 22 leader 0 nextIndex[2]: 152  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 20 rf.commitIndex 149 rf.lastApplied 149
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36261 term 22 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 22 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 39259 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57884 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 55346 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16119 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 95540 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76233 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 94914 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 7509 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 9899 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 1
flag 46395 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 28266 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 56360 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 56927 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 57372 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 33810 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 2 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 2
flag 15322 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 7336 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 79607 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 96248 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57892 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 85672 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 82659 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 3498 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 7037 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 79843 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 83886 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 90037 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96856 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 32294 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 38604 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 85420 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 41837 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 6068 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
flag 50118 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 12491 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152}]
------------------------------------------------------
client write log 6078443703712956490 (index 153) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51247 term 22 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
flag 44226 term 22 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 20 leaderCommit: 151 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62215 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 48283 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62752 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 37843 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
flag 50784 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 52654 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
flag 84535 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 66720 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19251 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 79371 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
flag 31943 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 24138 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 389252783663867176 (index 154) to leader 0
flag 98747 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 92576 term 22 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153} {389252783663867176 22 154}]
------------------------------------------------------
flag 68965 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 84875 term 22 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 22 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153} {389252783663867176 22 154}]
------------------------------------------------------
client write log 468804326095632593 (index 155) to leader 0
client write log 4591810916717893308 (index 156) to leader 0
client write log 2382675524450549752 (index 157) to leader 0
client write log 7781948715303090013 (index 158) to leader 0
client write log 4840464746479062045 (index 159) to leader 0
client write log 7116119382556585479 (index 160) to leader 0
client write log 8735150931316772375 (index 161) to leader 0
client write log 139150886044057629 (index 162) to leader 0
client write log 677842646728129339 (index 163) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36613 term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 66146 term 22 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 22 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 20 149} {5195686976854961144 20 150} {6304420179711659676 20 151} {6078443703712956490 20 152} {6078443703712956490 22 153} {389252783663867176 22 154} {468804326095632593 22 155} {4591810916717893308 22 156} {2382675524450549752 22 157} {7781948715303090013 22 158} {4840464746479062045 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163}]
------------------------------------------------------
term 22 Server0 start snapshot! index=159
term 22 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 91673 term 22 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 22 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 22 leaderCommit: 163 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163}]
------------------------------------------------------
term 22 Server2 start snapshot! index=159
term 22 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1120558997404863116 (index 164) to leader 0
term 22 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 1752 term 22 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 22 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 22 leaderCommit: 163 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
term 23 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get outdate rpc reply from server 1
flag 73075 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 12798 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 165->164
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 154  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 13489 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 22 rf.commitIndex 159 rf.lastApplied 159
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
flag 46440 term 24 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 41275 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19838 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 5266 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
flag 42974 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 92208 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 79603 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 50056 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
flag 48597 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 12052 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
flag 60746 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 46166 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 83454 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 27516 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 71359 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 9630 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 57426 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 90548 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 8318 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 98809 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
client write log 1746628171652933811 (index 165) to leader 2
flag 84799 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 8573 term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165}]
------------------------------------------------------
flag 17933 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 81373 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 40913 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 165 
------------------------------------------------------
flag 89679 term 25 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165}]
------------------------------------------------------
client write log 3595123848518914936 (index 166) to leader 2
flag 34803 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 15706 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 51752 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 165 
------------------------------------------------------
flag 34199 term 25 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166}]
------------------------------------------------------
flag 59988 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 98569 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 86734 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 166 
------------------------------------------------------
flag 58404 term 25 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 25 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8513774954727035569 (index 167) to leader 2
flag 41025 term 24 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 94868 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 25 server 2 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 25 server 1 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51460 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 166 
------------------------------------------------------
flag 87990 term 25 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 25 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27783 term 25 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 42489 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32805 term 25 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 36466 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
flag 9520 term 25 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 13199 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
flag 95787 term 25 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 4238 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
flag 80230 term 25 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 44370 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 168->167
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 167
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 67385 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
term 25 server 0 InstallSnapshot fail
rf.commitIndex 167 args.LastIncludedIndex 159
------------------------------------------------------
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7494086146390695729 (index 168) to leader 2
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 39929 term 25 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 25 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167} {7494086146390695729 25 168}]
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 74597 term 25 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 25 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167} {7494086146390695729 25 168}]
------------------------------------------------------
client write log 2453189803544509853 (index 169) to leader 2
client write log 2917563260866018776 (index 170) to leader 2
client write log 7064074194226246321 (index 171) to leader 2
client write log 7333196113986988431 (index 172) to leader 2
client write log 2228495725776382706 (index 173) to leader 2
client write log 313045032055137918 (index 174) to leader 2
client write log 7106844200764029383 (index 175) to leader 2
client write log 1869750193626815135 (index 176) to leader 2
client write log 5680142372810463377 (index 177) to leader 2
client write log 2995136861992437363 (index 178) to leader 2
client write log 8329201588026520494 (index 179) to leader 2
client write log 8815307117041411932 (index 180) to leader 2
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 48807 term 25 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 25 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 25 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 22 159} {7116119382556585479 22 160} {8735150931316772375 22 161} {139150886044057629 22 162} {677842646728129339 22 163} {1120558997404863116 22 164} {1746628171652933811 25 165} {3595123848518914936 25 166} {8513774954727035569 25 167} {7494086146390695729 25 168} {2453189803544509853 25 169} {2917563260866018776 25 170} {7064074194226246321 25 171} {7333196113986988431 25 172} {2228495725776382706 25 173} {313045032055137918 25 174} {7106844200764029383 25 175} {1869750193626815135 25 176} {5680142372810463377 25 177} {2995136861992437363 25 178} {8329201588026520494 25 179} {8815307117041411932 25 180}]
------------------------------------------------------
term 25 Server2 start snapshot! index=169
term 25 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=180
-------------------------------------------------------------
term 25 Server2 start snapshot! index=179
term 25 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 25
------------------------------------------------------
flag 80800 term 25 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 25 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 25 leaderCommit: 180 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 25 179} {8815307117041411932 25 180}]
------------------------------------------------------
term 25 Server1 start snapshot! index=169
term 25 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=180
-------------------------------------------------------------
term 25 Server1 start snapshot! index=179
term 25 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4495279877083041241 (index 181) to leader 2
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 25
------------------------------------------------------
flag 19319 term 25 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 25 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 25 leaderCommit: 180 
------------------------------------------------------
term 26 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get outdate rpc reply from server 0
flag 51938 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 91173 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 182->181
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 168  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 25
------------------------------------------------------
flag 97586 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 25 rf.commitIndex 179 rf.lastApplied 179
flag 39448 term 27 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 27 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 42228 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
flag 98369 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 80271 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
flag 93922 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 36336 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
flag 90321 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 98563 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 0
flag 24935 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 5085 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
flag 35009 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 79645 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7342970923317935628 (index 182) to leader 2
flag 44683 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
flag 77957 term 27 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 181 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14987 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 182 
------------------------------------------------------
flag 31303 term 27 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 27 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 182 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182}]
------------------------------------------------------
client write log 313144651553715719 (index 183) to leader 2
client write log 5661999788574149116 (index 184) to leader 2
client write log 8851953234677385636 (index 185) to leader 2
client write log 7007042955960907516 (index 186) to leader 2
client write log 8009290612258336755 (index 187) to leader 2
client write log 5083731384785908526 (index 188) to leader 2
flag 90821 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 182 
------------------------------------------------------
flag 63629 term 27 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 27 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 27 leaderCommit: 182 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188}]
------------------------------------------------------
flag 88870 term 27 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 27 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 92714 term 27 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 27 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2205754908411075681 (index 189) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get outdate rpc reply from server 0
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
flag 88279 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 93157 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
flag 95162 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 32070 term 29 leader 2 nextIndex[1]: 189  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 29123 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 29231 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 45946 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 53506 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 11568 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 41963 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14306 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 21732 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 97211 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 63243 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 18458 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 58797 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 2029 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 16985 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 93228 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 97274 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 71764 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 9738 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 99746 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 65237 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
flag 8912 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 42972 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9109 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 81712 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89557 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 44815 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
flag 10584 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 21106 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60753 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 2503 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80674 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 224 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31576 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 24168 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2205754908411075681 (index 190) to leader 2
flag 54843 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
flag 93145 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 179} {8815307117041411932 25 180} {4495279877083041241 25 181} {7342970923317935628 27 182} {313144651553715719 27 183} {5661999788574149116 27 184} {8851953234677385636 27 185} {7007042955960907516 27 186} {8009290612258336755 27 187} {5083731384785908526 27 188} {2205754908411075681 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 6334 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 78866 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 11305 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 11913 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
flag 94098 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 16261 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
flag 50789 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 35220 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4378 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 29638 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75029 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 15063 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37379 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 46647 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 37830 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 45533 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 78119 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 14537 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 0
term 30 server 1 become leader
------------------------------------------------------
flag 61559 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 15043 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 27 189} {2205754908411075681 29 190}]
------------------------------------------------------
flag 58300 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 11586 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
client write log 4748722120812840151 (index 191) to leader 1
flag 31087 term 30 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 68703 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191}]
------------------------------------------------------
flag 42730 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 46264 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 191->190
------------------------------------------------------
flag 5841 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 53283 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 191 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191}]
------------------------------------------------------
client write log 8833583974173432654 (index 192) to leader 1
flag 99679 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 190
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
flag 84914 term 30 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 30 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 18272 term 30 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 191 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192}]
------------------------------------------------------
flag 5976 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 190
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52225 term 30 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192}]
------------------------------------------------------
flag 64715 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 190
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
!!!!!!connect server 2
client write log 5792256335664585505 (index 193) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74511 term 30 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 27
------------------------------------------------------
term 30 server 2 InstallSnapshot fail
rf.commitIndex 190 args.LastIncludedIndex 189
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
flag 66260 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 42888 term 30 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 27 leaderCommit: 193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80750 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 28739 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
flag 15299 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 59414 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
flag 53475 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 78622 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
flag 55156 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 75295 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
flag 48212 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 18847 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
flag 89652 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 82318 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
update nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1161219386392752921 (index 194) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8163 term 30 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
flag 98482 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 193 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193} {1161219386392752921 30 194}]
------------------------------------------------------
flag 60004 term 30 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 30 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 3212 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193} {1161219386392752921 30 194}]
------------------------------------------------------
client write log 2024232625137572782 (index 195) to leader 1
client write log 3404253923568894818 (index 196) to leader 1
client write log 1377233736288832978 (index 197) to leader 1
client write log 5947629668158175775 (index 198) to leader 1
client write log 6372990721451123100 (index 199) to leader 1
client write log 1463772816458377098 (index 200) to leader 1
client write log 3443078169289893293 (index 201) to leader 1
client write log 58971530570744179 (index 202) to leader 1
client write log 8742436068953366572 (index 203) to leader 1
client write log 5315663445273840195 (index 204) to leader 1
client write log 9195556538315454133 (index 205) to leader 1
client write log 3085304726285255163 (index 206) to leader 1
client write log 4333792937480536295 (index 207) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28184 term 30 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 30 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 29351 term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 27 189} {2205754908411075681 29 190} {4748722120812840151 30 191} {8833583974173432654 30 192} {5792256335664585505 30 193} {1161219386392752921 30 194} {2024232625137572782 30 195} {3404253923568894818 30 196} {1377233736288832978 30 197} {5947629668158175775 30 198} {6372990721451123100 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207}]
------------------------------------------------------
term 30 Server1 start snapshot! index=199
term 30 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=207
-------------------------------------------------------------
flag 76404 term 30 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 30 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207}]
------------------------------------------------------
term 30 Server0 start snapshot! index=199
term 30 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=207
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7809773700141757537 (index 208) to leader 1
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1393 term 30 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 30 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 0 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 1 get outdate rpc reply from server 0
flag 99408 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 94263 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 209->208
------------------------------------------------------
flag 16981 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 194  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 30 rf.commitIndex 199 rf.lastApplied 199
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17680 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 92667 term 32 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43367 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 56917 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 1 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 1
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45932 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 26314 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82524 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 3796 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 68771 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 25111 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11151 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 7702 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45828 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 94923 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 55905 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 15148 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 4783 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 84561 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2956 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 51340 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68829 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 79061 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 37923 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 79413 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 95976 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 80653 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 62254 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 19235 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 82186 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 76394 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 871 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 68593 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
flag 94131 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 41581 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208}]
------------------------------------------------------
client write log 7809773700141757537 (index 209) to leader 1
flag 48342 term 32 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
flag 69211 term 32 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 30 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208} {7809773700141757537 32 209}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 30 199} {1463772816458377098 30 200} {3443078169289893293 30 201} {58971530570744179 30 202} {8742436068953366572 30 203} {5315663445273840195 30 204} {9195556538315454133 30 205} {3085304726285255163 30 206} {4333792937480536295 30 207} {7809773700141757537 30 208} {7809773700141757537 32 209}]
------------------------------------------------------
term 32 Server1 start snapshot! index=209
term 32 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 7074 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 50416 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 Server2 start snapshot! index=209
term 32 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 32 Server0 start snapshot! index=209
term 32 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
flag 60661 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 50742 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
flag 9456 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 15100 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
flag 88099 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 75168 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68387 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 65775 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
flag 60123 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 66479 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6903840237920478994 (index 210) to leader 1
flag 89740 term 32 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
flag 67255 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {6903840237920478994 32 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80434 term 32 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 32 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 15956 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 209} {6903840237920478994 32 210}]
------------------------------------------------------
client write log 3635383885721074717 (index 211) to leader 1
client write log 3897502667064080334 (index 212) to leader 1
client write log 7778646049357332038 (index 213) to leader 1
client write log 6047578881719679177 (index 214) to leader 1
client write log 5578819593603371478 (index 215) to leader 1
client write log 4902480483234048335 (index 216) to leader 1
client write log 1680402776686987747 (index 217) to leader 1
client write log 4296999629835464056 (index 218) to leader 1
flag 11244 term 32 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 32 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
flag 60292 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 210 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65080 term 32 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 32 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 11448 term 32 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1360522745932956032 (index 219) to leader 1
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 0 not vote for server 2, 日志不够新
term 34 server 2 vote for server 1
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 1 get outdate rpc reply from server 0
flag 81209 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 2569 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
flag 7979 term 34 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 93776 term 34 leader 1 nextIndex[2]: 210  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22683 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 62357 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 167 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 23773 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36077 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 39881 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 59982 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 30588 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 47124 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 72817 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 6580 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 31428 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 21376 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 17168 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75874 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 92030 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8025 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 55144 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73917 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 7017 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 26607 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 65581 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 34457 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 78847 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 14810 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 10616 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 67386 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 90135 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74949 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 58373 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 66011 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 2983 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
flag 99975 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 51310 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1360522745932956032 (index 220) to leader 1
flag 6787 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
flag 41256 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 209} {6903840237920478994 32 210} {3635383885721074717 32 211} {3897502667064080334 32 212} {7778646049357332038 32 213} {6047578881719679177 32 214} {5578819593603371478 32 215} {4902480483234048335 32 216} {1680402776686987747 32 217} {4296999629835464056 32 218} {1360522745932956032 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
flag 92493 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 95949 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23261 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 70113 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
flag 21512 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 61645 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
flag 26706 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 43320 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
flag 82169 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 37845 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
flag 16043 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 30175 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 219} {1360522745932956032 34 220}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 67369 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 59503 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 82444 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 50207 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 38950 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 96595 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 0
term 35 server 2 become leader
------------------------------------------------------
client write log 3592811382214002006 (index 221) to leader 2
flag 28310 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 45118 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 32 219} {1360522745932956032 34 220} {3592811382214002006 35 221}]
------------------------------------------------------
flag 67215 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 9491 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 98859 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 25699 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 32 219} {1360522745932956032 34 220} {3592811382214002006 35 221}]
------------------------------------------------------
flag 66744 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 10752 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
client write log 1524093582434767038 (index 222) to leader 2
client write log 2326271018988156086 (index 223) to leader 2
client write log 7312342461340177639 (index 224) to leader 2
client write log 2602805254025944831 (index 225) to leader 2
client write log 8908809355753181141 (index 226) to leader 2
client write log 7082647607781413126 (index 227) to leader 2
client write log 6099650587936755490 (index 228) to leader 2
client write log 2867193157706757631 (index 229) to leader 2
client write log 7220125216026234955 (index 230) to leader 2
client write log 4905337242951975920 (index 231) to leader 2
flag 52491 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 19011 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 32 219} {1360522745932956032 34 220} {3592811382214002006 35 221} {1524093582434767038 35 222} {2326271018988156086 35 223} {7312342461340177639 35 224} {2602805254025944831 35 225} {8908809355753181141 35 226} {7082647607781413126 35 227} {6099650587936755490 35 228} {2867193157706757631 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 Server2 start snapshot! index=229
term 35 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=231
-------------------------------------------------------------
flag 81073 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 53871 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 72506 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 33976 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 81480 term 34 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 35 Server0 start snapshot! index=229
term 35 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=231
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7605621140578339628 (index 221) to leader 1
flag 17271 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 86166 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 91392 term 35 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 35993 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 7844 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 93517 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 18721 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35278 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 65154 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 26103 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 13197 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 93210 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 74259 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 98401 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 10892 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61994 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 83691 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 9387 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 61832 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 78786 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 45555 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9658 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 25470 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 56244 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 12619 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54155 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 77748 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 232->231
------------------------------------------------------
flag 84139 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 231
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 231 args.LastIncludedIndex 229
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 29665 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 96665 term 35 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 28022 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 27888 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 26418 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 76544 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 61545 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 52658 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
flag 8545 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 94113 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231}]
------------------------------------------------------
client write log 7605621140578339628 (index 232) to leader 2
flag 71149 term 35 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 50788 term 35 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
flag 5112 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 7764 term 35 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
flag 15659 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 83780 term 35 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
flag 2147 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 12001 term 35 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
flag 48644 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 71531 term 35 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 233->232
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33755 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 232
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 232 args.LastIncludedIndex 229
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4020018362012824593 (index 233) to leader 2
flag 28434 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 81856 term 35 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232} {4020018362012824593 35 233}]
------------------------------------------------------
flag 54078 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 1975 term 35 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 35 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232} {4020018362012824593 35 233}]
------------------------------------------------------
client write log 3147722945825933823 (index 234) to leader 2
client write log 646139529810612016 (index 235) to leader 2
client write log 4680465521846664144 (index 236) to leader 2
client write log 2752100011439834522 (index 237) to leader 2
client write log 4469936206455735701 (index 238) to leader 2
client write log 4295994169461677657 (index 239) to leader 2
client write log 7853068214797308159 (index 240) to leader 2
client write log 4460675761089338019 (index 241) to leader 2
client write log 2391053509512435708 (index 242) to leader 2
client write log 6385254751050548253 (index 243) to leader 2
client write log 5232634030313116866 (index 244) to leader 2
client write log 981821933542683609 (index 245) to leader 2
client write log 8385376687433552158 (index 246) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39201 term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 29535 term 35 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 35 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 35 229} {7220125216026234955 35 230} {4905337242951975920 35 231} {7605621140578339628 35 232} {4020018362012824593 35 233} {3147722945825933823 35 234} {646139529810612016 35 235} {4680465521846664144 35 236} {2752100011439834522 35 237} {4469936206455735701 35 238} {4295994169461677657 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246}]
------------------------------------------------------
term 35 Server2 start snapshot! index=239
term 35 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 1844 term 35 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 35 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 35 leaderCommit: 246 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246}]
------------------------------------------------------
term 35 Server1 start snapshot! index=239
term 35 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1151764111824031364 (index 247) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 98508 term 35 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 35 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 35 leaderCommit: 246 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 58839 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 99219 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 233  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 85204 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 35 rf.commitIndex 239 rf.lastApplied 239
flag 85371 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 94053 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
flag 86892 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 83223 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
flag 35282 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 18363 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81842 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 61240 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
flag 30420 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 31233 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56607 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 28541 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5897012425874902658 (index 248) to leader 2
flag 6603 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
flag 54216 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247} {5897012425874902658 37 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62570 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 248 
------------------------------------------------------
flag 29789 term 37 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 37 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247} {5897012425874902658 37 248}]
------------------------------------------------------
client write log 8329082025103592266 (index 249) to leader 2
client write log 3808205694072848653 (index 250) to leader 2
client write log 8361568731731819115 (index 251) to leader 2
client write log 1514701413258377788 (index 252) to leader 2
client write log 4816828237211806411 (index 253) to leader 2
client write log 1616083194984104427 (index 254) to leader 2
client write log 3677628174150865782 (index 255) to leader 2
flag 27836 term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 35 leaderCommit: 248 
------------------------------------------------------
flag 3133 term 37 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 37 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 239} {7853068214797308159 35 240} {4460675761089338019 35 241} {2391053509512435708 35 242} {6385254751050548253 35 243} {5232634030313116866 35 244} {981821933542683609 35 245} {8385376687433552158 35 246} {1151764111824031364 35 247} {5897012425874902658 37 248} {8329082025103592266 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255}]
------------------------------------------------------
term 37 Server2 start snapshot! index=249
term 37 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 51199 term 37 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 37 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255}]
------------------------------------------------------
term 37 Server1 start snapshot! index=249
term 37 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6754718088813538793 (index 256) to leader 2
term 37 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 90216 term 37 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 37 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 81687 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 89136 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 257->256
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 248  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 9386 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
flag 91746 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 44077 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 37967 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 41863 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 57374 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 12221 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58763 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 72173 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22338 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 50469 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 74844 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 96887 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 47250 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 78417 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 78363 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 32989 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 58248 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 91423 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 94156 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 49670 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69053 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 72236 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 55400 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 65403 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7647 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 10658 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45638 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 72718 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 62159 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 67627 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 48937 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 45977 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
flag 55600 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 37144 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256}]
------------------------------------------------------
client write log 6754718088813538793 (index 257) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9870 term 39 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 9824 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
flag 70062 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 96766 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76167 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 57979 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93158 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 45488 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
flag 52349 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 71466 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76350 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 27156 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
flag 91137 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 76088 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42555 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 25147 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 54680 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 12120 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 89377 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 94279 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 4999 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 31836 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 0
term 40 server 1 become leader
------------------------------------------------------
flag 73933 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 46327 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257}]
------------------------------------------------------
client write log 6506419737155571258 (index 258) to leader 1
flag 98436 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 21776 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 39174 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 51942 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257} {6506419737155571258 40 258}]
------------------------------------------------------
flag 72247 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 71467 term 39 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 33803 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 67806 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257} {6506419737155571258 40 258}]
------------------------------------------------------
client write log 2144793311396084086 (index 259) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 258->257
------------------------------------------------------
flag 51156 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 257
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 63864 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 70778 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 37 249} {3808205694072848653 37 250} {8361568731731819115 37 251} {1514701413258377788 37 252} {4816828237211806411 37 253} {1616083194984104427 37 254} {3677628174150865782 37 255} {6754718088813538793 37 256} {6754718088813538793 39 257} {6506419737155571258 40 258} {2144793311396084086 40 259}]
------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 77630 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 257
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 26501 term 40 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3641469370117699941 (index 260) to leader 1
flag 66801 term 39 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 257
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68100 term 40 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
term 40 server 1 not vote for server 2, 日志不够新
term 40 server 0 not vote for server 2, 日志不够新
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55642 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 55570 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
flag 96643 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 4892 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
flag 91452 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 87541 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98459 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 54302 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
flag 501 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 93365 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
flag 4610 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 31658 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
flag 58631 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 10385 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
flag 14378 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 8450 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {3641469370117699941 40 260}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3112567644857360483 (index 261) to leader 1
flag 37596 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 7527 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261}]
------------------------------------------------------
flag 84422 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 32014 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261}]
------------------------------------------------------
client write log 7635186465873090200 (index 262) to leader 1
client write log 8599310372635037896 (index 263) to leader 1
client write log 935375053354251028 (index 264) to leader 1
client write log 6648890401195744485 (index 265) to leader 1
client write log 8017552678723751287 (index 266) to leader 1
client write log 3270868795115513538 (index 267) to leader 1
flag 9350 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 50327 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21230 term 42 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 72024 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3738449163252004301 (index 268) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
flag 14242 term 42 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 95382 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 0 not vote for server 2, 日志不够新
term 43 server 1 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 1
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 41252 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 75422 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 269->268
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 4627 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 13669 term 45 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 54754 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 29102 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73247 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 94381 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 67970 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 59638 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 54602 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 6441 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 34025 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 66750 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 18238 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 69395 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 79370 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 1890 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 16136 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 61302 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 91383 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 33193 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 51634 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 71261 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 62492 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 51703 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16988 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 31901 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 74925 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 94152 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
flag 59278 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 82510 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268}]
------------------------------------------------------
client write log 3738449163252004301 (index 269) to leader 1
flag 21912 term 45 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 28927 term 45 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268} {3738449163252004301 45 269}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 40 259} {3641469370117699941 40 260} {3112567644857360483 42 261} {7635186465873090200 42 262} {8599310372635037896 42 263} {935375053354251028 42 264} {6648890401195744485 42 265} {8017552678723751287 42 266} {3270868795115513538 42 267} {3738449163252004301 42 268} {3738449163252004301 45 269}]
------------------------------------------------------
term 45 Server1 start snapshot! index=269
term 45 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 21994 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 70968 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 45 Server0 start snapshot! index=269
term 45 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26726 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 37094 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
flag 4368 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 68579 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
flag 25910 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 68785 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
flag 2362 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 56285 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 980675534818452581 (index 270) to leader 1
flag 88479 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
flag 13649 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {980675534818452581 45 270}]
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2655 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 36852 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {980675534818452581 45 270}]
------------------------------------------------------
client write log 4705348940215648498 (index 271) to leader 1
client write log 8383503954846410804 (index 272) to leader 1
client write log 6967591492692731786 (index 273) to leader 1
client write log 8771408079156463332 (index 274) to leader 1
client write log 7701063774665497236 (index 275) to leader 1
client write log 4800853351586253980 (index 276) to leader 1
flag 23361 term 45 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 45 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 539 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276}]
------------------------------------------------------
flag 18532 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 55034 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1152684196661659999 (index 277) to leader 1
flag 26015 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 56420 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 0 not vote for server 2, 日志不够新
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 0 not vote for server 2, 日志不够新
term 47 server 2 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 2
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get outdate rpc reply from server 0
flag 65529 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 80837 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 278->277
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67502 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 72288 term 48 leader 1 nextIndex[2]: 270  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59806 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 60681 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 24011 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 93904 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5220 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 66669 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15283 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 66163 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 75943 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 24473 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12730 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 25660 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 39259 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 51757 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 74129 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 40771 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 57167 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 63806 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 41802 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 95100 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86191 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 60267 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 20865 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 8007 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 19300 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 54911 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
flag 82130 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 66465 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1152684196661659999 (index 278) to leader 1
flag 6325 term 48 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 77418 term 48 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 48 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29704 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 81163 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
flag 64921 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 74241 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
flag 71391 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 41788 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
flag 42993 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 12384 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
flag 46733 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 92398 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
flag 82190 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 41669 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 87611 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 31773 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 19127 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 860 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 28183 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 48415 term 48 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 279->278
------------------------------------------------------
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
flag 61712 term 49 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 72587 term 49 leader 0 nextIndex[2]: 279  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278}]
------------------------------------------------------
client write log 3155383234812284383 (index 279) to leader 0
flag 39617 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 53768 term 49 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 63951 term 49 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 49 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 269} {980675534818452581 45 270} {4705348940215648498 45 271} {8383503954846410804 45 272} {6967591492692731786 45 273} {8771408079156463332 45 274} {7701063774665497236 45 275} {4800853351586253980 45 276} {1152684196661659999 45 277} {1152684196661659999 48 278} {3155383234812284383 49 279}]
------------------------------------------------------
term 49 Server0 start snapshot! index=279
term 49 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 26602 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 93928 term 49 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 49 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 49 leaderCommit: 279 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 49 279}]
------------------------------------------------------
term 49 Server2 start snapshot! index=279
term 49 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 50142 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
client write log 5561459565411157319 (index 280) to leader 0
term 49 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 35316 term 49 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 49 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 49 leaderCommit: 279 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 44182 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 43204 term 49 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 49 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4914185406958880856 (index 279) to leader 1
flag 31088 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 278
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 68415 term 49 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 49 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 49 rf.commitIndex 279 rf.lastApplied 279
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 0 get outdate rpc reply from server 2
flag 28228 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 94592 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 281->280
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29794 term 51 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 5660 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35581 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 77492 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76998 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 69731 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 17655 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 34920 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 50852 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 53544 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68976 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 49077 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99219 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 7251 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
flag 7385 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 89403 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 39944 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 2470 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 53847 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 40293 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 21710 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 64391 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 90817 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 50498 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 66183 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 90453 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 58641 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 78376 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 31324 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 42256 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 15732 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 71860 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
flag 63501 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 7851 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 49 279} {5561459565411157319 49 280}]
------------------------------------------------------
client write log 4914185406958880856 (index 281) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91768 term 51 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
flag 99149 term 51 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 51 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 49 leaderCommit: 280 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
flag 49698 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 18190 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31088 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 20451 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
flag 2860 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 43927 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
flag 33348 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 62052 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
flag 89760 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 74306 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
flag 98979 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 65782 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6229461740676813783 (index 282) to leader 0
flag 58567 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
flag 75356 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281} {6229461740676813783 51 282}]
------------------------------------------------------
flag 81098 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
flag 50607 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281} {6229461740676813783 51 282}]
------------------------------------------------------
client write log 8736887755424404975 (index 283) to leader 0
client write log 5477270886288352562 (index 284) to leader 0
client write log 6867028338399551410 (index 285) to leader 0
client write log 4385709258525204490 (index 286) to leader 0
client write log 2042497860989365702 (index 287) to leader 0
client write log 6797121180463648193 (index 288) to leader 0
client write log 2830818513340711069 (index 289) to leader 0
client write log 415985881603520589 (index 290) to leader 0
client write log 1742217239820769422 (index 291) to leader 0
client write log 3518182302535181228 (index 292) to leader 0
client write log 4213105007121070789 (index 293) to leader 0
client write log 2405720478611978920 (index 294) to leader 0
client write log 572738278605150777 (index 295) to leader 0
client write log 303321263720504229 (index 296) to leader 0
client write log 1265114438525485826 (index 297) to leader 0
flag 67879 term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
flag 77938 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 51 leaderCommit: 282 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 49 279} {5561459565411157319 49 280} {4914185406958880856 51 281} {6229461740676813783 51 282} {8736887755424404975 51 283} {5477270886288352562 51 284} {6867028338399551410 51 285} {4385709258525204490 51 286} {2042497860989365702 51 287} {6797121180463648193 51 288} {2830818513340711069 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297}]
------------------------------------------------------
term 51 Server0 start snapshot! index=289
term 51 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 24951 term 51 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 51 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297}]
------------------------------------------------------
term 51 Server2 start snapshot! index=289
term 51 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5810776907264455663 (index 298) to leader 0
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get outdate rpc reply from server 1
flag 28398 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 66227 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 299->298
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 299->298
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 282  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 6213 term 53 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 51 rf.commitIndex 289 rf.lastApplied 289
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 63594 term 53 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 53 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 15926 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 46013 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 40129 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38138 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 6491 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 40588 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 55777 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 48086 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 77889 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 35163 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 96630 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 47352 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 39738 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 9020 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 54968 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32099 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 861 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 86892 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 31704 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 69921 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 6077 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 22739 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 30555 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 5672 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 25650 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84862 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 34100 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50485 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 825 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 41377 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 30916 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
flag 52123 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 98541 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298}]
------------------------------------------------------
client write log 5810776907264455663 (index 299) to leader 0
flag 15878 term 53 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 57378 term 53 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 53 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298} {5810776907264455663 53 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 289} {415985881603520589 51 290} {1742217239820769422 51 291} {3518182302535181228 51 292} {4213105007121070789 51 293} {2405720478611978920 51 294} {572738278605150777 51 295} {303321263720504229 51 296} {1265114438525485826 51 297} {5810776907264455663 51 298} {5810776907264455663 53 299}]
------------------------------------------------------
term 53 Server0 start snapshot! index=299
term 53 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 77721 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
flag 93166 term 53 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
term 53 Server1 start snapshot! index=299
term 53 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 53 Server2 start snapshot! index=299
term 53 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 82379 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
flag 88371 term 53 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
flag 41810 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
flag 58951 term 53 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
flag 3283 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
flag 26230 term 53 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
flag 30946 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
flag 98439 term 53 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 299}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1090803071572890189 (index 300) to leader 0
flag 43745 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
flag 32312 term 53 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 299 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 53 299} {1090803071572890189 53 300}]
------------------------------------------------------
flag 82957 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 300 
------------------------------------------------------
flag 48404 term 53 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 53 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 53 leaderCommit: 300 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 53 299} {1090803071572890189 53 300}]
------------------------------------------------------
client write log 2506895335792746466 (index 301) to leader 0
client write log 2285282550939293581 (index 302) to leader 0
client write log 1544977194720018067 (index 303) to leader 0
client write log 2747727526273792547 (index 304) to leader 0
client write log 8713516239194438669 (index 305) to leader 0
client write log 8898380739082323955 (index 306) to leader 0
client write log 2235820320995082026 (index 307) to leader 0
client write log 9025324716123494509 (index 308) to leader 0
flag 22857 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 300 
------------------------------------------------------
flag 74294 term 53 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 53 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 53 leaderCommit: 300 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {1090803071572890189 53 300} {2506895335792746466 53 301} {2285282550939293581 53 302} {1544977194720018067 53 303} {2747727526273792547 53 304} {8713516239194438669 53 305} {8898380739082323955 53 306} {2235820320995082026 53 307} {9025324716123494509 53 308}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51187 term 53 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 53 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
flag 96972 term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {1090803071572890189 53 300} {2506895335792746466 53 301} {2285282550939293581 53 302} {1544977194720018067 53 303} {2747727526273792547 53 304} {8713516239194438669 53 305} {8898380739082323955 53 306} {2235820320995082026 53 307} {9025324716123494509 53 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
!!!!!!connect server 1
client write log 3946632816259810350 (index 309) to leader 0
term 54 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 299
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 80398 term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 299} {1090803071572890189 53 300} {2506895335792746466 53 301} {2285282550939293581 53 302} {1544977194720018067 53 303} {2747727526273792547 53 304} {8713516239194438669 53 305} {8898380739082323955 53 306} {2235820320995082026 53 307} {9025324716123494509 53 308} {3946632816259810350 53 309}]
------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 Server0 start snapshot! index=309
term 54 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get outdate rpc reply from server 1
flag 38614 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 88742 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 310->309
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 55 Server2 start snapshot! index=309
term 55 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 55 leader 0 nextIndex[1]: 300  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
flag 38244 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 53 rf.commitIndex 309 rf.lastApplied 309
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 65858 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 89530 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88900 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 957 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
flag 50412 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 79459 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72216 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 34828 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 51069 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 74779 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 33752 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 71535 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 28616 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 61428 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
flag 81790 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 26545 term 56 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
client write log 918549425806064005 (index 310) to leader 2
flag 21310 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 46499 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70131 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 83496 term 56 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {918549425806064005 56 310}]
------------------------------------------------------
flag 18423 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 66604 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 32783 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 310 
------------------------------------------------------
flag 14557 term 56 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 56 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 56 leaderCommit: 310 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {918549425806064005 56 310}]
------------------------------------------------------
client write log 105697161424420829 (index 311) to leader 2
flag 17387 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 65973 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 56 server 2 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 2
flag 13912 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 310 
------------------------------------------------------
flag 46270 term 56 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 56 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 56 leaderCommit: 310 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311}]
------------------------------------------------------
flag 47225 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 81754 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 310->309
------------------------------------------------------
flag 10596 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 77121 term 56 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 56 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 56 leaderCommit: 311 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311}]
------------------------------------------------------
flag 84982 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 55 leader 0 nextIndex[2]: 0  matchIndex[2]: 309
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
!!!!!!connect server 0
client write log 8761356896926020489 (index 312) to leader 2
flag 68604 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
flag 42361 term 56 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 56 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 56 leaderCommit: 311 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 313->312
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 0  matchIndex[0]: 312
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
flag 32319 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
term 56 server 0 InstallSnapshot fail
rf.commitIndex 309 args.LastIncludedIndex 309
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 3170 term 56 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 56 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 312 
------------------------------------------------------
flag 40884 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
flag 72969 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
flag 912 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
term 56 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6855 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
flag 95705 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
flag 13430 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
flag 92974 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96211 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
flag 67313 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 710576053831944897 (index 313) to leader 2
flag 48182 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
flag 29815 term 56 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 312 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312} {710576053831944897 56 313}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71347 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 313 
------------------------------------------------------
flag 10141 term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 56 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 56 leaderCommit: 313 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312} {710576053831944897 56 313}]
------------------------------------------------------
client write log 6427965368923715427 (index 314) to leader 2
client write log 1423161244031139410 (index 315) to leader 2
client write log 2465752013461871887 (index 316) to leader 2
client write log 1594331843277613533 (index 317) to leader 2
client write log 6995971393889917437 (index 318) to leader 2
client write log 8126981789051613324 (index 319) to leader 2
client write log 7166735882079258085 (index 320) to leader 2
client write log 3773188908984353189 (index 321) to leader 2
client write log 5003624383745850990 (index 322) to leader 2
client write log 7948008504847553239 (index 323) to leader 2
client write log 2735096957765605635 (index 324) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74920 term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 56 leaderCommit: 313 
------------------------------------------------------
flag 75587 term 56 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 56 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 56 leaderCommit: 313 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 53 309} {918549425806064005 56 310} {105697161424420829 56 311} {8761356896926020489 56 312} {710576053831944897 56 313} {6427965368923715427 56 314} {1423161244031139410 56 315} {2465752013461871887 56 316} {1594331843277613533 56 317} {6995971393889917437 56 318} {8126981789051613324 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324}]
------------------------------------------------------
term 56 Server2 start snapshot! index=319
term 56 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=324
-------------------------------------------------------------
term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
flag 65349 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324}]
------------------------------------------------------
term 56 Server1 start snapshot! index=319
term 56 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=324
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5896874342623002697 (index 325) to leader 2
term 56 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
flag 38677 term 56 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 56 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 56 leaderCommit: 324 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 57 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 58 server 1 vote for server 2
term 58 server 2 get vote from server 1
term 58 server 0 vote for server 2
term 58 server 2 become leader
------------------------------------------------------
term 58 server 2 get outdate rpc reply from server 0
flag 71535 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 60165 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 326->325
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 leader 2 nextIndex[0]: 313  matchIndex[0]: 0
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
flag 45245 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 0 InstallSnapshot success
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 56 rf.commitIndex 319 rf.lastApplied 319
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93771 term 58 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 58 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 77530 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
flag 33286 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 6536 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
flag 74549 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 52158 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
flag 15954 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 73150 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
flag 63051 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 8737 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10284 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 99982 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
flag 27960 term 58 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
flag 13576 term 58 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 58 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 56 leaderCommit: 325 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 56 319} {7166735882079258085 56 320} {3773188908984353189 56 321} {5003624383745850990 56 322} {7948008504847553239 56 323} {2735096957765605635 56 324} {5896874342623002697 56 325}]
------------------------------------------------------
  ... Passed --  73.3  3 1696  730217  325
--- PASS: TestSnapshotInstall2D (73.30s)
PASS
