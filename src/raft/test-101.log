=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 72503 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 3363 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 4462343027799719946 (index 1) to leader 0
flag 11187 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 60025 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
flag 81706 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95361 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
flag 73156 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94403 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
flag 72965 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 97480 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
flag 79966 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 36007 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
flag 43563 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 60389 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
flag 22261 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63950 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4462343027799719946 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5156500752705209742 (index 2) to leader 0
flag 92674 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 38222 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4462343027799719946 1 1} {5156500752705209742 1 2}]
------------------------------------------------------
flag 88099 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 75209 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4462343027799719946 1 1} {5156500752705209742 1 2}]
------------------------------------------------------
client write log 524320529285314564 (index 3) to leader 0
client write log 148362152738797905 (index 4) to leader 0
client write log 3673059281808561547 (index 5) to leader 0
client write log 1778825358363023390 (index 6) to leader 0
client write log 4285419076363898725 (index 7) to leader 0
client write log 7185109019137205045 (index 8) to leader 0
client write log 303464201672438557 (index 9) to leader 0
client write log 5787753168829563991 (index 10) to leader 0
client write log 1313187590471616529 (index 11) to leader 0
client write log 80045312651388481 (index 12) to leader 0
client write log 9123820399629625162 (index 13) to leader 0
client write log 2945649955078561987 (index 14) to leader 0
flag 26153 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 25334 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {4462343027799719946 1 1} {5156500752705209742 1 2} {524320529285314564 1 3} {148362152738797905 1 4} {3673059281808561547 1 5} {1778825358363023390 1 6} {4285419076363898725 1 7} {7185109019137205045 1 8} {303464201672438557 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 6622 term 1 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 1 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4723371773996039793 (index 15) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 85333 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 79232 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 16->15
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 96624 term 3 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 86024 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 34909 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 83342 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 21258 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 4294 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 84843 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69514 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 4912 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 6478 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 6654 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 923 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 20664 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 97128 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 98585 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 39447 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 69252 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 56875 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 86594 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 75090 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 1851 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 45529 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 92394 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 21646 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 53445 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 31112 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 42816 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 66868 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 3192 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39687 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 90460 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 66938 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 95745 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 16655 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 71326 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
flag 70445 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 74726 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15}]
------------------------------------------------------
client write log 4723371773996039793 (index 16) to leader 0
flag 53367 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 25771 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
flag 7 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 96507 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
flag 99010 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 86839 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
flag 14487 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 16217 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
flag 79959 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 47772 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
flag 66068 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 53942 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 38489 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 2799 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 22565 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 55821 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 96248 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 60482 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 16354 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
client write log 1293088263544069576 (index 17) to leader 1
flag 63398 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 18350 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16} {1293088263544069576 4 17}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 59421 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 88722 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 4842 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16} {1293088263544069576 4 17}]
------------------------------------------------------
client write log 7953985175036495284 (index 18) to leader 1
client write log 7434909618311358635 (index 19) to leader 1
client write log 3723673697089324047 (index 20) to leader 1
client write log 5748658160671759484 (index 21) to leader 1
client write log 259656646035456718 (index 22) to leader 1
client write log 4982459896345418982 (index 23) to leader 1
client write log 6964421280743614455 (index 24) to leader 1
client write log 1344266066588071226 (index 25) to leader 1
client write log 1237948541244636158 (index 26) to leader 1
client write log 4965297318909005226 (index 27) to leader 1
client write log 4317327156379265609 (index 28) to leader 1
client write log 8387967419390819461 (index 29) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 74725 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 85216 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 44456 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 1 9} {5787753168829563991 1 10} {1313187590471616529 1 11} {80045312651388481 1 12} {9123820399629625162 1 13} {2945649955078561987 1 14} {4723371773996039793 1 15} {4723371773996039793 3 16} {1293088263544069576 4 17} {7953985175036495284 4 18} {7434909618311358635 4 19} {3723673697089324047 4 20} {5748658160671759484 4 21} {259656646035456718 4 22} {4982459896345418982 4 23} {6964421280743614455 4 24} {1344266066588071226 4 25} {1237948541244636158 4 26} {4965297318909005226 4 27} {4317327156379265609 4 28} {8387967419390819461 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=29
-------------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 93509 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 61933 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=29
-------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5335544089084708810 (index 30) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 34161 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 3367 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
flag 80501 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 67381 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
flag 18266 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 51823 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
flag 51713 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 52628 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
flag 38150 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 7926 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46389 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 7415 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
flag 46565 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 20732 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5335544089084708810 4 30}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7991569229169097659 (index 31) to leader 1
flag 80924 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 67371 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31}]
------------------------------------------------------
flag 35837 term 4 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 4 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 39131 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31}]
------------------------------------------------------
client write log 2177745423393516322 (index 32) to leader 1
client write log 5719484580160658272 (index 33) to leader 1
client write log 8159580803820947106 (index 34) to leader 1
client write log 4535873300467051218 (index 35) to leader 1
client write log 8778693586994438664 (index 36) to leader 1
client write log 6229049081993207285 (index 37) to leader 1
client write log 4635665230241477089 (index 38) to leader 1
flag 14569 term 4 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 4 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 39578 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38}]
------------------------------------------------------
flag 48223 term 4 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 26438 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3872614338851384926 (index 39) to leader 1
flag 62892 term 4 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 37788 term 4 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 5 server 2 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 7 server 2 vote for server 0
term 7 server 1 vote for server 0
term 7 server 0 get vote from server 1
term 7 server 0 become leader
------------------------------------------------------
term 7 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95235 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 85333 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 41929 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 56983 term 7 leader 0 nextIndex[2]: 31  matchIndex[2]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
term 7 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 0 not vote for server 2, 任期不够新
term 7 server 2 get outdate rpc reply from server 0
flag 99651 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 67616 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 20179 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 34932 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74228 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 68996 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 55957 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 55634 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 98907 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 78737 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86700 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 92014 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7165 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 48355 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 14723 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 37469 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 15025 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 1215 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37750 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 10939 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 74080 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 61544 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 90735 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 65596 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 75565 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 39739 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
flag 72927 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 55385 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39}]
------------------------------------------------------
client write log 3872614338851384926 (index 40) to leader 0
flag 23460 term 7 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 22015 term 7 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 7 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {5335544089084708810 4 30} {7991569229169097659 4 31} {2177745423393516322 4 32} {5719484580160658272 4 33} {8159580803820947106 4 34} {4535873300467051218 4 35} {8778693586994438664 4 36} {6229049081993207285 4 37} {4635665230241477089 4 38} {3872614338851384926 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 Server0 start snapshot! index=39
term 7 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 7 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67773 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 18895 term 7 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 Server1 start snapshot! index=39
term 7 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 7 Server2 start snapshot! index=39
term 7 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64158 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 57645 term 7 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 server 1 not vote for server 2, 任期不够新
term 7 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9260 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 89252 term 7 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
flag 35637 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 58695 term 7 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
flag 5410 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 61452 term 7 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3872614338851384926 7 40}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 345962217799030375 (index 41) to leader 0
flag 55848 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 30643 term 7 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41}]
------------------------------------------------------
flag 29545 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 41 
------------------------------------------------------
flag 80286 term 7 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 7 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 7 leaderCommit: 41 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41}]
------------------------------------------------------
client write log 4887547769453388872 (index 42) to leader 0
client write log 5852524553739388774 (index 43) to leader 0
client write log 282899541350851128 (index 44) to leader 0
client write log 4749324175007988012 (index 45) to leader 0
client write log 7611752017132802338 (index 46) to leader 0
client write log 1855148768864332267 (index 47) to leader 0
client write log 6040080534152464956 (index 48) to leader 0
flag 26076 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 41 
------------------------------------------------------
flag 6706 term 7 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 7 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 7 leaderCommit: 41 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74492 term 7 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 7 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 65588 term 7 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 7 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7567562393970569386 (index 49) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
term 7 leader 0 nextIndex[1]: 0  matchIndex[1]: 40
term 7 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 63503 term 7 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 7 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
term 9 server 0 get outdate rpc reply from server 1
flag 91534 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 36247 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
flag 3154 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 46331 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 92596 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 79355 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 24282 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 40602 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 40717 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 19868 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20028 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 38199 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 73590 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 46647 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 36805 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 26417 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 82838 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 4464 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47735 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 93943 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3452 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 39727 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10304 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 43373 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 44155 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 76252 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
term 9 server 0 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 0
flag 42832 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 53394 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 74641 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 12794 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 53014 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 11269 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 16340 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 4841 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 75610 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 74133 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49}]
------------------------------------------------------
flag 83502 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 23819 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
client write log 7567562393970569386 (index 50) to leader 0
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
flag 12754 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 54902 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 39} {3872614338851384926 7 40} {345962217799030375 7 41} {4887547769453388872 7 42} {5852524553739388774 7 43} {282899541350851128 7 44} {4749324175007988012 7 45} {7611752017132802338 7 46} {1855148768864332267 7 47} {6040080534152464956 7 48} {7567562393970569386 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 75598 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 73329 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 2
flag 65202 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 22032 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
flag 14209 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 91730 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
flag 10662 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 89843 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
flag 73798 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 48192 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
flag 52113 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 5602 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 97342 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 17416 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77495 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 14573 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 17403 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 61409 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 vote for server 1
term 10 server 1 get vote from server 2
term 10 server 1 become leader
------------------------------------------------------
flag 29906 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 74219 term 10 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {7567562393970569386 9 50}]
------------------------------------------------------
flag 61009 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 76493 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
client write log 5014366570400448557 (index 51) to leader 1
flag 14150 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 86329 term 10 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 7 49} {7567562393970569386 9 50} {5014366570400448557 10 51}]
------------------------------------------------------
flag 38221 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 731 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 39924 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 91166 term 10 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 7 49} {7567562393970569386 9 50} {5014366570400448557 10 51}]
------------------------------------------------------
flag 57467 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 9156 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
client write log 1408029232059569728 (index 52) to leader 1
client write log 7955822936737448772 (index 53) to leader 1
client write log 7242669153464848640 (index 54) to leader 1
client write log 2965630599645765218 (index 55) to leader 1
client write log 7584769058799209525 (index 56) to leader 1
client write log 5220363694714422484 (index 57) to leader 1
client write log 6101060234562766573 (index 58) to leader 1
flag 8051 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 68784 term 10 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 7 49} {7567562393970569386 9 50} {5014366570400448557 10 51} {1408029232059569728 10 52} {7955822936737448772 10 53} {7242669153464848640 10 54} {2965630599645765218 10 55} {7584769058799209525 10 56} {5220363694714422484 10 57} {6101060234562766573 10 58}]
------------------------------------------------------
flag 84909 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 40907 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
flag 92264 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 74576 term 10 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 7 49} {7567562393970569386 9 50} {5014366570400448557 10 51} {1408029232059569728 10 52} {7955822936737448772 10 53} {7242669153464848640 10 54} {2965630599645765218 10 55} {7584769058799209525 10 56} {5220363694714422484 10 57} {6101060234562766573 10 58}]
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 84053 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
!!!!!!connect server 0
client write log 9094235170677414739 (index 59) to leader 1
flag 88852 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 79113 term 10 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 7 49} {7567562393970569386 9 50} {5014366570400448557 10 51} {1408029232059569728 10 52} {7955822936737448772 10 53} {7242669153464848640 10 54} {2965630599645765218 10 55} {7584769058799209525 10 56} {5220363694714422484 10 57} {6101060234562766573 10 58} {9094235170677414739 10 59}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 7 49} {7567562393970569386 9 50} {5014366570400448557 10 51} {1408029232059569728 10 52} {7955822936737448772 10 53} {7242669153464848640 10 54} {2965630599645765218 10 55} {7584769058799209525 10 56} {5220363694714422484 10 57} {6101060234562766573 10 58} {9094235170677414739 10 59}]
------------------------------------------------------
term 10 Server1 start snapshot! index=59
term 10 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 67110 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 89196 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 14766 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 48529 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 16245 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 23742 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 7876 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 84458 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 60->59
------------------------------------------------------
term 10 leader 1 nextIndex[0]: 0  matchIndex[0]: 59
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 61318 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 0 InstallSnapshot fail
rf.commitIndex 59 args.LastIncludedIndex 59
------------------------------------------------------
term 10 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
flag 98423 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 68222 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3546622929406277391 (index 60) to leader 1
flag 67496 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 55788 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3546622929406277391 10 60}]
------------------------------------------------------
flag 80716 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 76842 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3546622929406277391 10 60}]
------------------------------------------------------
client write log 5342033366652879865 (index 61) to leader 1
client write log 7569078413063862281 (index 62) to leader 1
client write log 2174065067643064559 (index 63) to leader 1
client write log 1771046258137123215 (index 64) to leader 1
client write log 6809940502370333376 (index 65) to leader 1
client write log 7068536605657345443 (index 66) to leader 1
client write log 7244401989224796858 (index 67) to leader 1
client write log 4675064282767181467 (index 68) to leader 1
client write log 8153074940679859509 (index 69) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36462 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 34481 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 10 59} {3546622929406277391 10 60} {5342033366652879865 10 61} {7569078413063862281 10 62} {2174065067643064559 10 63} {1771046258137123215 10 64} {6809940502370333376 10 65} {7068536605657345443 10 66} {7244401989224796858 10 67} {4675064282767181467 10 68} {8153074940679859509 10 69}]
------------------------------------------------------
term 10 Server1 start snapshot! index=69
term 10 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 9510 term 10 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 10 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 10 69}]
------------------------------------------------------
term 10 Server0 start snapshot! index=69
term 10 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5168013897030085562 (index 70) to leader 1
flag 68823 term 10 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 10 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
term 11 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 not vote for server 2, 日志不够新
term 12 server 2 vote for server 1
term 12 server 0 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 0
flag 49014 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 84722 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 71->70
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 48666 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
term 12 server 2 InstallSnapshot success
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 10 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 47590 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 8393 term 12 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96939 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 34454 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 17861 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 75427 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 7250 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 70033 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11163 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 70538 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4387 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 97457 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 0 not vote for server 2, 任期不够新
term 12 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29199 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 73730 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 58576 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 5351 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 47235 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 92117 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 76378 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 99460 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 24418 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 71723 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99250 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 17455 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44947 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 98592 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 39303 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 71689 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 5633 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 23094 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 60185 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 39415 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
flag 38657 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 73671 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {5168013897030085562 10 70}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5168013897030085562 (index 71) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75232 term 12 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 72820 term 12 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
flag 1180 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 28264 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97395 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 33780 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71516 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 78668 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
flag 4351 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 12205 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
flag 71250 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 62083 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3965578388859032458 (index 72) to leader 1
flag 30036 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 33456 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30308 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
flag 45034 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72}]
------------------------------------------------------
client write log 2871127297543325256 (index 73) to leader 1
client write log 1612710699274075226 (index 74) to leader 1
client write log 3495625918890176816 (index 75) to leader 1
client write log 699361818984874743 (index 76) to leader 1
client write log 5898991540684117794 (index 77) to leader 1
client write log 3585433823083994559 (index 78) to leader 1
flag 27011 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
flag 25225 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78}]
------------------------------------------------------
flag 71119 term 12 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 12 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 44270 term 12 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1216425370228815527 (index 79) to leader 1
term 12 server 1 not vote for server 2, 日志不够新
term 12 server 0 not vote for server 2, 日志不够新
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get outdate rpc reply from server 0
flag 39471 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 70445 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 80->79
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
flag 94529 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 36552 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45664 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 32109 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 8675 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 33274 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 91674 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 56741 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59939 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 80815 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 79217 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 73995 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 6126 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 66251 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 31749 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 22182 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 37998 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 31029 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62826 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 74238 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 0
flag 78534 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 55371 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 2300 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 17450 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 84675 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 33543 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 8919 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 29494 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 93427 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 35040 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 44372 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 51091 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 20608 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 21721 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
flag 92621 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 88911 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79}]
------------------------------------------------------
client write log 1216425370228815527 (index 80) to leader 1
flag 12726 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
flag 25386 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 10 69} {5168013897030085562 10 70} {5168013897030085562 12 71} {3965578388859032458 12 72} {2871127297543325256 12 73} {1612710699274075226 12 74} {3495625918890176816 12 75} {699361818984874743 12 76} {5898991540684117794 12 77} {3585433823083994559 12 78} {1216425370228815527 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 50765 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 94385 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 Server2 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 85272 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 45185 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
flag 30208 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 45385 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
flag 718 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 26570 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
flag 6768 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 13850 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
flag 74758 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 17830 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 54353 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 3417 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88937 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 66518 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 90794 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 61239 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64975 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 42566 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 81->80
------------------------------------------------------
flag 83514 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 20463 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1216425370228815527 14 80}]
------------------------------------------------------
client write log 1273837000546936138 (index 81) to leader 2
flag 78391 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 80
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 62803 term 15 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 40470 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1216425370228815527 14 80} {1273837000546936138 15 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 35796 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 80
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 9389 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 58844 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {1216425370228815527 14 80} {1273837000546936138 15 81}]
------------------------------------------------------
client write log 413895224545230288 (index 82) to leader 2
client write log 1343057625385233142 (index 83) to leader 2
client write log 2523107356140574882 (index 84) to leader 2
client write log 4953876792085658550 (index 85) to leader 2
client write log 55818338449160345 (index 86) to leader 2
client write log 5813872057609618325 (index 87) to leader 2
client write log 5593582004602143210 (index 88) to leader 2
client write log 6899793530522614161 (index 89) to leader 2
client write log 5426365169514685727 (index 90) to leader 2
client write log 8879633845220580745 (index 91) to leader 2
client write log 4771724247681193295 (index 92) to leader 2
flag 83331 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 80
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 99228 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 11873 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 12 79} {1216425370228815527 14 80} {1273837000546936138 15 81} {413895224545230288 15 82} {1343057625385233142 15 83} {2523107356140574882 15 84} {4953876792085658550 15 85} {55818338449160345 15 86} {5813872057609618325 15 87} {5593582004602143210 15 88} {6899793530522614161 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=92
-------------------------------------------------------------
flag 27536 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 80
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 40014 term 15 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 15 Server0 start snapshot! index=89
term 15 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5407945687909790278 (index 81) to leader 1
flag 17686 term 14 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 80
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28666 term 15 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:92 
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
term 15 server 2 not vote for server 1, 日志不够新
term 15 server 0 not vote for server 1, 日志不够新
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 21271 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 35525 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 93->92
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 70563 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 11965 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 32124 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 11995 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 45327 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 82023 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 38408 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 98661 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6252 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 6551 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 77919 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 15055 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 20731 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 62838 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95202 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 17148 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
flag 21952 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 15728 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 20666 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 29727 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 69459 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 13732 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 99157 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 90387 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62868 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 69262 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 78223 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 74440 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 86292 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 89311 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94918 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 11196 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
flag 34145 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 77712 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91129 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 82907 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92}]
------------------------------------------------------
client write log 5407945687909790278 (index 93) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54995 term 17 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 39550 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
flag 81428 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 12218 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82179 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 50678 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
flag 64138 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 34349 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
flag 81272 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 97259 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
flag 86118 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 18518 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
flag 20947 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 8295 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 918120045219796884 (index 94) to leader 2
flag 88722 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 22092 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93} {918120045219796884 17 94}]
------------------------------------------------------
flag 83231 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 90471 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93} {918120045219796884 17 94}]
------------------------------------------------------
client write log 3323164816615001320 (index 95) to leader 2
client write log 6962819900880617060 (index 96) to leader 2
client write log 6703669417784271561 (index 97) to leader 2
client write log 1521044231259386386 (index 98) to leader 2
client write log 472632636155700101 (index 99) to leader 2
client write log 2295769048546982778 (index 100) to leader 2
client write log 7493667683241221854 (index 101) to leader 2
client write log 1578044956699223506 (index 102) to leader 2
client write log 2616646751364867427 (index 103) to leader 2
flag 45221 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 75873 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 15 89} {5426365169514685727 15 90} {8879633845220580745 15 91} {4771724247681193295 15 92} {5407945687909790278 17 93} {918120045219796884 17 94} {3323164816615001320 17 95} {6962819900880617060 17 96} {6703669417784271561 17 97} {1521044231259386386 17 98} {472632636155700101 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=103
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
flag 68766 term 17 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 17 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103}]
------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=103
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1567765065189885203 (index 104) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 40743 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 67668 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 105->104
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 105->104
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 94  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
flag 28525 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 17 rf.commitIndex 99 rf.lastApplied 99
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44678 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 99241 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 13594 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 82180 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59446 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 20302 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 55795 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 16614 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 73425 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 25995 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 59174 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 38224 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11564 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 55744 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 37104 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 50931 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47341 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 79533 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 8079 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 86377 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 79120 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 59759 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63964 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 23146 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 2668 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 17264 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97339 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 5207 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 51251 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 59713 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 74618 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 34999 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 87433 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 61931 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
flag 23230 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 89328 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1567765065189885203 (index 105) to leader 2
flag 13587 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 38794 term 19 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
flag 8341 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 27422 term 19 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
flag 34244 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 29714 term 19 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
flag 62461 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 27543 term 19 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
flag 26597 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 688 term 19 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34132 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 46395 term 19 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3002158528937890160 (index 106) to leader 2
flag 39442 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 56344 term 19 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105} {3002158528937890160 19 106}]
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3597 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 63329 term 19 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105} {3002158528937890160 19 106}]
------------------------------------------------------
client write log 5163105162198378617 (index 107) to leader 2
client write log 9149850711638819056 (index 108) to leader 2
client write log 3900124549348397569 (index 109) to leader 2
client write log 7491585910890305205 (index 110) to leader 2
client write log 1602256493770623847 (index 111) to leader 2
client write log 4185111265963678453 (index 112) to leader 2
client write log 5917275105950550611 (index 113) to leader 2
client write log 8444248680686498409 (index 114) to leader 2
client write log 880166231950405980 (index 115) to leader 2
client write log 371740632214891118 (index 116) to leader 2
client write log 7911810772651919779 (index 117) to leader 2
client write log 4384254834098165747 (index 118) to leader 2
client write log 6891643236326361828 (index 119) to leader 2
flag 17684 term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 35397 term 19 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 17 99} {2295769048546982778 17 100} {7493667683241221854 17 101} {1578044956699223506 17 102} {2616646751364867427 17 103} {1567765065189885203 17 104} {1567765065189885203 19 105} {3002158528937890160 19 106} {5163105162198378617 19 107} {9149850711638819056 19 108} {3900124549348397569 19 109} {7491585910890305205 19 110} {1602256493770623847 19 111} {4185111265963678453 19 112} {5917275105950550611 19 113} {8444248680686498409 19 114} {880166231950405980 19 115} {371740632214891118 19 116} {7911810772651919779 19 117} {4384254834098165747 19 118} {6891643236326361828 19 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 45518 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4787889573299416797 (index 120) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
term 21 server 2 get outdate rpc reply from server 1
flag 28719 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 78528 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 121->120
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 106  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 1032 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 52207 term 21 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 85964 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66672 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 59905 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 33465 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 81834 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 55089 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 59000 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 84332 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 49921 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 67091 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 74225 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 65404 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 62793 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 199 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 85894 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 22471 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 33957 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 55651 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 3672 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1247 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 22760 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 27641 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 74032 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 73651 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 98962 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 29960 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 15491 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 41729 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 53494 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 72669 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 81380 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 75639 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 83860 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
flag 28334 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 79413 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {4787889573299416797 19 120}]
------------------------------------------------------
client write log 4787889573299416797 (index 121) to leader 2
flag 9824 term 21 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 97031 term 21 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
flag 57507 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 12594 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
flag 67492 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 52180 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63115 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 20719 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
flag 69272 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 41886 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
flag 60866 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 10970 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7651 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 39301 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 47236 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 26560 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 45148 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 47959 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 7534 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 24376 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 76173 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 29428 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 1 vote for server 0
term 22 server 0 get vote from server 1
term 22 server 0 become leader
------------------------------------------------------
flag 31085 term 22 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 69064 term 22 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121}]
------------------------------------------------------
client write log 7592724634256402909 (index 122) to leader 0
flag 45060 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 48863 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 15560 term 22 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 22 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 19509 term 22 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121} {7592724634256402909 22 122}]
------------------------------------------------------
flag 16995 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 57853 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 63614 term 22 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 22 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 53131 term 22 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121} {7592724634256402909 22 122}]
------------------------------------------------------
client write log 2987336162087687352 (index 123) to leader 0
client write log 4612381342229171433 (index 124) to leader 0
client write log 2948289274933564096 (index 125) to leader 0
client write log 3735927351879161676 (index 126) to leader 0
client write log 2861751101731878608 (index 127) to leader 0
client write log 8846698546584685379 (index 128) to leader 0
client write log 1625466150604768670 (index 129) to leader 0
client write log 903305405657520655 (index 130) to leader 0
client write log 8301287564366977157 (index 131) to leader 0
client write log 8306522142062223572 (index 132) to leader 0
client write log 4680640073304120251 (index 133) to leader 0
client write log 2458469406082198880 (index 134) to leader 0
flag 11281 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 70056 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97203 term 22 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 22 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 57228 term 22 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 119} {4787889573299416797 19 120} {4787889573299416797 21 121} {7592724634256402909 22 122} {2987336162087687352 22 123} {4612381342229171433 22 124} {2948289274933564096 22 125} {3735927351879161676 22 126} {2861751101731878608 22 127} {8846698546584685379 22 128} {1625466150604768670 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
flag 52820 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 45780 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 82362 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=134
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2233083089024695053 (index 122) to leader 2
flag 12848 term 21 leader 2 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 68018 term 21 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 22 server 1 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 22 server 0 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13419 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 22 rf.commitIndex 129 rf.lastApplied 129
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
flag 58337 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 0  matchIndex[2]: 129
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 2 InstallSnapshot fail
rf.commitIndex 129 args.LastIncludedIndex 129
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 56178 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 33998 term 22 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 52549 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 4217 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10382 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 46203 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 18098 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 10091 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 26807 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 69654 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 87458 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 30865 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90407 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 3658 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 85598 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 76275 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 71748 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 82204 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 2289 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 13712 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 18741 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 87006 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 2 not vote for server 0, 日志不够新
term 22 server 0 get outdate rpc reply from server 2
flag 36996 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 44755 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31291 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 70625 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72966 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 44496 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 135->134
------------------------------------------------------
flag 8404 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 leader 0 nextIndex[2]: 0  matchIndex[2]: 134
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 2 InstallSnapshot fail
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
rf.commitIndex 134 args.LastIncludedIndex 129
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
flag 26116 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 6521 term 22 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 24525 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 53143 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
flag 73866 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 69227 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134}]
------------------------------------------------------
client write log 2233083089024695053 (index 135) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23197 term 22 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
flag 46091 term 22 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 22 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 22 leaderCommit: 134 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
flag 77289 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 3104 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
flag 23686 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 91705 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53846 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 74650 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
flag 57711 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 1691 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
flag 59763 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 4767 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1558924106019318523 (index 136) to leader 0
flag 64309 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
flag 42996 term 22 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 135 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135} {1558924106019318523 22 136}]
------------------------------------------------------
flag 87135 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
flag 34829 term 22 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 22 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135} {1558924106019318523 22 136}]
------------------------------------------------------
client write log 4419683892607568870 (index 137) to leader 0
client write log 6753509551052624141 (index 138) to leader 0
client write log 1329028791228032844 (index 139) to leader 0
client write log 6350803882164091789 (index 140) to leader 0
client write log 297477329387564287 (index 141) to leader 0
client write log 473168861745776390 (index 142) to leader 0
client write log 8381332263354482172 (index 143) to leader 0
client write log 2832535247646685952 (index 144) to leader 0
client write log 4834310662786430325 (index 145) to leader 0
client write log 3703444761583515395 (index 146) to leader 0
client write log 4001269867386704033 (index 147) to leader 0
client write log 6006402775239045636 (index 148) to leader 0
client write log 5388023757760919437 (index 149) to leader 0
term 22 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
flag 58718 term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88393 term 22 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 136 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 22 129} {903305405657520655 22 130} {8301287564366977157 22 131} {8306522142062223572 22 132} {4680640073304120251 22 133} {2458469406082198880 22 134} {2233083089024695053 22 135} {1558924106019318523 22 136} {4419683892607568870 22 137} {6753509551052624141 22 138} {1329028791228032844 22 139} {6350803882164091789 22 140} {297477329387564287 22 141} {473168861745776390 22 142} {8381332263354482172 22 143} {2832535247646685952 22 144} {4834310662786430325 22 145} {3703444761583515395 22 146} {4001269867386704033 22 147} {6006402775239045636 22 148} {5388023757760919437 22 149}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=149
-------------------------------------------------------------
term 22 Server0 start snapshot! index=149
term 22 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 69263 term 22 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 22 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 22 149}]
------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=149
-------------------------------------------------------------
term 22 Server2 start snapshot! index=149
term 22 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2059619146697295556 (index 150) to leader 0
term 22 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 17289 term 22 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 22 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 23 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get outdate rpc reply from server 1
flag 48859 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 39416 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 151->150
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 64775 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 22 rf.commitIndex 149 rf.lastApplied 149
------------------------------------------------------------------------
flag 89320 term 24 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 96608 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 18670 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 5824 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 12356 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 87858 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18266 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 82452 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 59255 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 44619 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 7121 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 15402 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 70042 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 94750 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50812 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 13070 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75977 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 31539 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17284 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 12400 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 31703 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 43797 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59789 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 7262 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 7512 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 71724 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16684 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 28781 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 12170 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 30144 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 10915 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 34423 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
flag 55189 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 43611 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 22 149} {2059619146697295556 22 150}]
------------------------------------------------------
client write log 2059619146697295556 (index 151) to leader 0
flag 81093 term 24 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
flag 18165 term 24 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 22 leaderCommit: 149 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
flag 84403 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 47292 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56908 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 3209 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
flag 60955 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 56344 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24202 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 74504 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
flag 4727 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 55634 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8579983850964155568 (index 152) to leader 0
flag 20777 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 21000 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151} {8579983850964155568 24 152}]
------------------------------------------------------
flag 84207 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 86439 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151} {8579983850964155568 24 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5198867172123750647 (index 153) to leader 0
client write log 645633408709283789 (index 154) to leader 0
client write log 3269413143041208353 (index 155) to leader 0
client write log 5206425360509626819 (index 156) to leader 0
client write log 5965773824230003864 (index 157) to leader 0
client write log 7560157678635276938 (index 158) to leader 0
client write log 2041541799304350027 (index 159) to leader 0
client write log 8859190404140595584 (index 160) to leader 0
client write log 5048801812433028493 (index 161) to leader 0
client write log 8514617142757665999 (index 162) to leader 0
client write log 4060589308043937845 (index 163) to leader 0
flag 23709 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 92927 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 22 149} {2059619146697295556 22 150} {2059619146697295556 24 151} {8579983850964155568 24 152} {5198867172123750647 24 153} {645633408709283789 24 154} {3269413143041208353 24 155} {5206425360509626819 24 156} {5965773824230003864 24 157} {7560157678635276938 24 158} {2041541799304350027 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 86986 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5556247905639696373 (index 164) to leader 0
term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 87040 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 30159 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 67329 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 165->164
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 152  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 62315 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
flag 21098 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 89335 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34131 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 30819 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
flag 50834 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 98098 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
flag 98179 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 54878 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
flag 95615 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 32205 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
flag 91237 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 96539 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
flag 59087 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 4756 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 76750 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 52239 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 63460 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 77215 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31759 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 95746 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
flag 73124 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
flag 52500 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 59219 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164}]
------------------------------------------------------
client write log 5029631872668214500 (index 165) to leader 1
flag 11134 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 1994 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 8542 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164} {5029631872668214500 27 165}]
------------------------------------------------------
flag 17107 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 310 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 88248 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164} {5029631872668214500 27 165}]
------------------------------------------------------
client write log 8263703612535891413 (index 166) to leader 1
client write log 6160337161077999321 (index 167) to leader 1
client write log 3602686936873349737 (index 168) to leader 1
client write log 2586770027340718145 (index 169) to leader 1
client write log 885925946703964627 (index 170) to leader 1
client write log 7498509403578153752 (index 171) to leader 1
client write log 9218734254866446758 (index 172) to leader 1
client write log 3094682908587213148 (index 173) to leader 1
client write log 5583090939582939833 (index 174) to leader 1
flag 26704 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 57632 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 52933 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 159} {8859190404140595584 24 160} {5048801812433028493 24 161} {8514617142757665999 24 162} {4060589308043937845 24 163} {5556247905639696373 24 164} {5029631872668214500 27 165} {8263703612535891413 27 166} {6160337161077999321 27 167} {3602686936873349737 27 168} {2586770027340718145 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174}]
------------------------------------------------------
term 27 Server1 start snapshot! index=169
term 27 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97294 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 70616 term 27 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 27 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3084461571185361454 (index 175) to leader 1
flag 80658 term 26 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 73644 term 27 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 27 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get outdate rpc reply from server 0
flag 80895 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 48332 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 176->175
------------------------------------------------------
flag 81740 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 4393 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62526 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 96271 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34677 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 17585 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
flag 31415 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 88830 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92198 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 3457 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
flag 10019 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 27738 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
flag 2648 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 11285 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9191567297235959735 (index 176) to leader 1
flag 92027 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 57130 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175} {9191567297235959735 29 176}]
------------------------------------------------------
term 29 server 0 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 0
flag 26751 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 41070 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175} {9191567297235959735 29 176}]
------------------------------------------------------
client write log 106094998466505245 (index 177) to leader 1
client write log 1265690512817357029 (index 178) to leader 1
client write log 5775681217234994007 (index 179) to leader 1
client write log 2917824900725692808 (index 180) to leader 1
client write log 1500465533600951315 (index 181) to leader 1
client write log 4200043173586680978 (index 182) to leader 1
client write log 1511480622458946252 (index 183) to leader 1
client write log 8521956514427837526 (index 184) to leader 1
client write log 6939794387858168368 (index 185) to leader 1
client write log 7238403921187974813 (index 186) to leader 1
client write log 1833736262532137922 (index 187) to leader 1
client write log 910476380353635855 (index 188) to leader 1
client write log 2653825692109804570 (index 189) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96827 term 29 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 29 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 20622 term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 27 169} {885925946703964627 27 170} {7498509403578153752 27 171} {9218734254866446758 27 172} {3094682908587213148 27 173} {5583090939582939833 27 174} {3084461571185361454 27 175} {9191567297235959735 29 176} {106094998466505245 29 177} {1265690512817357029 29 178} {5775681217234994007 29 179} {2917824900725692808 29 180} {1500465533600951315 29 181} {4200043173586680978 29 182} {1511480622458946252 29 183} {8521956514427837526 29 184} {6939794387858168368 29 185} {7238403921187974813 29 186} {1833736262532137922 29 187} {910476380353635855 29 188} {2653825692109804570 29 189}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82074 term 29 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5398980963818788518 (index 190) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 68159 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 43983 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
flag 15872 term 31 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
flag 66772 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 56905 term 31 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 47130 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 15125 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 26592 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 62551 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91641 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 86053 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 96845 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 99916 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 72426 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 23204 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
flag 93721 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 79967 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89726 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 53338 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87065 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 47927 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 98133 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 76426 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93494 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 91331 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 20463 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 62276 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 44652 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 49923 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 5005 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 19663 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52136 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 99212 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18124 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 33613 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
flag 36387 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 63151 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17213 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 32384 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 29 189} {5398980963818788518 29 190}]
------------------------------------------------------
client write log 5398980963818788518 (index 191) to leader 1
flag 57254 term 31 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 34046 term 31 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 31 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 18326 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 2359 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
flag 62461 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 88329 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
flag 26700 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 92824 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
flag 98414 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 1753 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
flag 53628 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 90645 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
flag 96757 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 45247 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2102498629466511004 (index 192) to leader 1
flag 33924 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
flag 36773 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 191 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191} {2102498629466511004 31 192}]
------------------------------------------------------
flag 75880 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 82525 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191} {2102498629466511004 31 192}]
------------------------------------------------------
client write log 1243109391416747451 (index 193) to leader 1
client write log 1120338340220549572 (index 194) to leader 1
client write log 4492428351220909144 (index 195) to leader 1
client write log 2788357945060939918 (index 196) to leader 1
client write log 205424350033593871 (index 197) to leader 1
client write log 5674564865265494281 (index 198) to leader 1
client write log 6746039177948720578 (index 199) to leader 1
client write log 8983607985832238497 (index 200) to leader 1
client write log 6969880183556485896 (index 201) to leader 1
client write log 9092722793389940572 (index 202) to leader 1
flag 4037 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 22411 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 189} {5398980963818788518 29 190} {5398980963818788518 31 191} {2102498629466511004 31 192} {1243109391416747451 31 193} {1120338340220549572 31 194} {4492428351220909144 31 195} {2788357945060939918 31 196} {205424350033593871 31 197} {5674564865265494281 31 198} {6746039177948720578 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
flag 74342 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2742435200191043510 (index 203) to leader 1
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 41078 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 70705 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
flag 64445 term 33 leader 1 nextIndex[0]: 203  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28963 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 52975 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 25944 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 14746 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8085 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 78579 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44627 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 97689 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 94003 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 76683 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 90132 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 19902 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 20880 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 39017 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84003 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 11473 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 89421 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 1138 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6667 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 514 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 2808 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 63718 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19933 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 21552 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 63243 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 95858 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 62863 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 91765 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22270 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 52308 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 51691 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 4226 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
flag 65500 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 10359 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83249 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 90967 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203}]
------------------------------------------------------
client write log 2742435200191043510 (index 204) to leader 1
flag 79173 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 84050 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34441 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 31298 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
flag 44334 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 33575 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
flag 17957 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 96540 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
flag 34483 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 56647 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69317 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 76587 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
flag 47025 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 81108 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 56013 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 66187 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12067 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 446 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 56557 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 43363 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 57247 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 61136 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 35777 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 21126 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204}]
------------------------------------------------------
client write log 4456317726440383581 (index 205) to leader 2
flag 62699 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 87600 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 35087 term 34 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 29777 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204} {4456317726440383581 34 205}]
------------------------------------------------------
flag 58551 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 75143 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 5849 term 34 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 19870 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204} {4456317726440383581 34 205}]
------------------------------------------------------
client write log 3236742705139224006 (index 206) to leader 2
client write log 2358715771447717966 (index 207) to leader 2
client write log 8118928502565051700 (index 208) to leader 2
client write log 4872093060908377223 (index 209) to leader 2
client write log 1253907807000496412 (index 210) to leader 2
client write log 4441653312567438280 (index 211) to leader 2
client write log 1378751454185052744 (index 212) to leader 2
client write log 1347595103619824766 (index 213) to leader 2
client write log 8789603550264267485 (index 214) to leader 2
client write log 3081019122817280425 (index 215) to leader 2
client write log 7612231170313190095 (index 216) to leader 2
client write log 5921203570208571134 (index 217) to leader 2
client write log 3263155611641066852 (index 218) to leader 2
client write log 9182539267212231871 (index 219) to leader 2
client write log 1759909636572414818 (index 220) to leader 2
flag 58497 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 5386 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 81354 term 34 leader 2 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 85524 term 34 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 199} {8983607985832238497 31 200} {6969880183556485896 31 201} {9092722793389940572 31 202} {2742435200191043510 31 203} {2742435200191043510 33 204} {4456317726440383581 34 205} {3236742705139224006 34 206} {2358715771447717966 34 207} {8118928502565051700 34 208} {4872093060908377223 34 209} {1253907807000496412 34 210} {4441653312567438280 34 211} {1378751454185052744 34 212} {1347595103619824766 34 213} {8789603550264267485 34 214} {3081019122817280425 34 215} {7612231170313190095 34 216} {5921203570208571134 34 217} {3263155611641066852 34 218} {9182539267212231871 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=220
-------------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
flag 75230 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 24798 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 98799 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=220
-------------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3358710349210232135 (index 205) to leader 1
flag 96957 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 60748 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45561 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
flag 62693 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 43716 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 97643 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 38931 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
flag 97215 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 220
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 220 args.LastIncludedIndex 219
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65736 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 20767 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 81264 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 9520 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 67836 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 25651 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 67746 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 33135 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 12454 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 37445 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 66082 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 66316 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82406 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 20828 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
flag 52415 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 220
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 220 args.LastIncludedIndex 219
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60001 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 20091 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 31988 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 73294 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 68797 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 71738 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 15497 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 29650 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 86703 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 84155 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 1 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 1
flag 24130 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 81545 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 26969 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 42301 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
------------------------------------------------------
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
flag 26477 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 32109 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1759909636572414818 34 220}]
------------------------------------------------------
client write log 3358710349210232135 (index 221) to leader 2
flag 18701 term 34 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 55945 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
flag 1852 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 86166 term 34 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
flag 60781 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 67058 term 34 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
flag 18634 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 92847 term 34 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
flag 56037 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 23435 term 34 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 222->221
------------------------------------------------------
flag 96573 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 221
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 221 args.LastIncludedIndex 219
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
flag 74937 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 93037 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2404018833064373044 (index 222) to leader 2
flag 79497 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 99271 term 34 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221} {2404018833064373044 34 222}]
------------------------------------------------------
flag 81701 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 55582 term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221} {2404018833064373044 34 222}]
------------------------------------------------------
client write log 8303922326423772655 (index 223) to leader 2
client write log 6331615455797517237 (index 224) to leader 2
client write log 9067294213147791235 (index 225) to leader 2
client write log 8214583842507834608 (index 226) to leader 2
client write log 8938368015358180153 (index 227) to leader 2
client write log 6083386212289233893 (index 228) to leader 2
client write log 4262264145466899544 (index 229) to leader 2
client write log 7895362008630595460 (index 230) to leader 2
client write log 5185577867085159318 (index 231) to leader 2
client write log 4155653604032036900 (index 232) to leader 2
client write log 412860465248877130 (index 233) to leader 2
client write log 4088667279777635369 (index 234) to leader 2
client write log 4623688568130593533 (index 235) to leader 2
client write log 486742722439706971 (index 236) to leader 2
client write log 1043810947283838286 (index 237) to leader 2
flag 28783 term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 69514 term 34 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 34 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 219} {1759909636572414818 34 220} {3358710349210232135 34 221} {2404018833064373044 34 222} {8303922326423772655 34 223} {6331615455797517237 34 224} {9067294213147791235 34 225} {8214583842507834608 34 226} {8938368015358180153 34 227} {6083386212289233893 34 228} {4262264145466899544 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=237
-------------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
term 34 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 99237 term 34 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 34 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=237
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4283391702543753053 (index 238) to leader 2
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 12276 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 90698 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 239->238
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 239->238
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 34444 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 38534 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 38683 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33636 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 31641 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36635 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 85961 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 72954 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 93546 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 44181 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 94310 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 8744 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 27821 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63878 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 54745 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88724 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 74695 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 70742 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 22177 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 65439 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 45404 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 65411 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 88513 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 69781 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 81718 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 70090 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 358 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85074 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 43666 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 19120 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 28999 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7819 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 45620 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
flag 3276 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 96264 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238}]
------------------------------------------------------
client write log 4283391702543753053 (index 239) to leader 2
flag 85572 term 36 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 69679 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238} {4283391702543753053 36 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 34 229} {7895362008630595460 34 230} {5185577867085159318 34 231} {4155653604032036900 34 232} {412860465248877130 34 233} {4088667279777635369 34 234} {4623688568130593533 34 235} {486742722439706971 34 236} {1043810947283838286 34 237} {4283391702543753053 34 238} {4283391702543753053 36 239}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6941 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 36028 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 158 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 83445 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
flag 68348 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 47710 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
flag 55392 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 93228 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29715 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 37264 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 373959577332970764 (index 240) to leader 2
flag 80364 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 16344 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {373959577332970764 36 240}]
------------------------------------------------------
flag 98935 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 75900 term 36 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 36 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {373959577332970764 36 240}]
------------------------------------------------------
client write log 7632228566086999635 (index 241) to leader 2
client write log 7868594274818320332 (index 242) to leader 2
client write log 7641987155526849685 (index 243) to leader 2
client write log 5889398830589755061 (index 244) to leader 2
client write log 4089473076688879210 (index 245) to leader 2
client write log 8038246089222969103 (index 246) to leader 2
client write log 3494493432868382850 (index 247) to leader 2
client write log 3847540604061056701 (index 248) to leader 2
client write log 9144552899614780225 (index 249) to leader 2
client write log 7033476275188242504 (index 250) to leader 2
client write log 7653826378755572979 (index 251) to leader 2
client write log 1224176214625416854 (index 252) to leader 2
flag 63229 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 70804 term 36 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 36 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 239} {373959577332970764 36 240} {7632228566086999635 36 241} {7868594274818320332 36 242} {7641987155526849685 36 243} {5889398830589755061 36 244} {4089473076688879210 36 245} {8038246089222969103 36 246} {3494493432868382850 36 247} {3847540604061056701 36 248} {9144552899614780225 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252}]
------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=252
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 239
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 83848 term 36 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 36 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=252
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8518714610676990617 (index 253) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 63901 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 13481 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 254->253
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 254->253
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 70640 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
flag 54033 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 92650 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 9588 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 67963 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 50248 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 64750 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 13488 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 50839 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63680 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 89141 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 93299 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 28204 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19916 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 3531 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 92982 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 64615 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 66839 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 49613 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 158 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 60241 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 67073 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 71041 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 84658 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 31104 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 8939 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 79460 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 48390 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 12426 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 39612 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 17584 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 89783 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 79075 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75838 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 95085 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
flag 50807 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 53735 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253}]
------------------------------------------------------
client write log 8518714610676990617 (index 254) to leader 2
flag 32118 term 38 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 88543 term 38 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 38 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
flag 95333 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 66968 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9242 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 36659 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11986 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 86814 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
flag 35295 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 72954 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
flag 28562 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 88753 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
flag 51523 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 7838 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 46323 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 70349 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 29648 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 77560 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 29528 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 39088 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24362 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 87541 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 1
term 39 server 0 become leader
------------------------------------------------------
flag 7055 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 11309 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254}]
------------------------------------------------------
client write log 4033256283375854182 (index 255) to leader 0
flag 39355 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 33197 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 20022 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 84476 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254} {4033256283375854182 39 255}]
------------------------------------------------------
flag 90357 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 30317 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 49934 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 74385 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254} {4033256283375854182 39 255}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 530606387615449865 (index 256) to leader 0
client write log 5896883750066985223 (index 257) to leader 0
client write log 564344448224767180 (index 258) to leader 0
client write log 268081545278517359 (index 259) to leader 0
client write log 2037412640559314891 (index 260) to leader 0
client write log 2809137666701402459 (index 261) to leader 0
client write log 7867425372885380694 (index 262) to leader 0
client write log 133457599820365186 (index 263) to leader 0
flag 23214 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 63907 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 81301 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 69352 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 249} {7033476275188242504 36 250} {7653826378755572979 36 251} {1224176214625416854 36 252} {8518714610676990617 36 253} {8518714610676990617 38 254} {4033256283375854182 39 255} {530606387615449865 39 256} {5896883750066985223 39 257} {564344448224767180 39 258} {268081545278517359 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=263
-------------------------------------------------------------
flag 25780 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 36630 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 41127 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 Server1 start snapshot! index=259
term 39 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3247184850139317636 (index 255) to leader 2
flag 60457 term 38 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
flag 1727 term 38 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 38 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12016 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61267 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 45743 term 39 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86938 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 50159 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40158 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 52167 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 27904 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 37637 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 48434 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 35868 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
flag 96280 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 263 args.LastIncludedIndex 259
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 6942 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 58427 term 39 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 58901 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 82697 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 61902 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 40739 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 41538 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 18111 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 78029 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 13489 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 52017 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 52153 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35247 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 263
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 263 args.LastIncludedIndex 259
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 0 get outdate rpc reply from server 2
flag 34318 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 3890 term 39 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 83534 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 12078 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 93132 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 46665 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 39999 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 6324 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 60679 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 11671 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
flag 93858 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 76852 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263}]
------------------------------------------------------
client write log 3247184850139317636 (index 264) to leader 0
flag 67524 term 39 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 6517 term 39 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 39 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
flag 23965 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 42950 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
flag 89917 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 3691 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26817 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 80972 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
flag 43257 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 97722 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
flag 9695 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 92651 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
flag 70728 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 36229 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4519597342717589446 (index 265) to leader 0
flag 23243 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 47783 term 39 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264} {4519597342717589446 39 265}]
------------------------------------------------------
flag 11791 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
flag 86381 term 39 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 39 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264} {4519597342717589446 39 265}]
------------------------------------------------------
client write log 7633318983168277606 (index 266) to leader 0
client write log 4042716745355854777 (index 267) to leader 0
client write log 5731468798866228154 (index 268) to leader 0
client write log 4611277542462905717 (index 269) to leader 0
client write log 4721819068078690672 (index 270) to leader 0
client write log 8035993239861394938 (index 271) to leader 0
client write log 5642019354989171919 (index 272) to leader 0
client write log 8391724000139318159 (index 273) to leader 0
client write log 263565058004653016 (index 274) to leader 0
client write log 1328383503318866066 (index 275) to leader 0
client write log 9185790853000631118 (index 276) to leader 0
client write log 9125333701124588174 (index 277) to leader 0
client write log 5600209524574949856 (index 278) to leader 0
flag 24734 term 39 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
flag 96866 term 39 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 39 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 259} {2037412640559314891 39 260} {2809137666701402459 39 261} {7867425372885380694 39 262} {133457599820365186 39 263} {3247184850139317636 39 264} {4519597342717589446 39 265} {7633318983168277606 39 266} {4042716745355854777 39 267} {5731468798866228154 39 268} {4611277542462905717 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278}]
------------------------------------------------------
term 39 Server0 start snapshot! index=269
term 39 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 264
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 82122 term 39 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 39 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278}]
------------------------------------------------------
term 39 Server2 start snapshot! index=269
term 39 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1420690158588084109 (index 279) to leader 0
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
term 41 server 2 vote for server 0
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 88496 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 2678 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 280->279
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 28572 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
term 41 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51163 term 41 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 82403 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 53296 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 54352 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
update nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 69421 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 61628 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 88382 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 23119 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 61149 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 79498 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49852 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 51034 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 14770 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 60105 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 48876 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 19472 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65118 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 69807 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 81929 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 51156 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32556 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 76989 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 75914 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 24441 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 22680 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 17729 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 34055 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 10969 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 26267 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 20290 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51665 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 70664 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
flag 45569 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 73790 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279}]
------------------------------------------------------
client write log 1420690158588084109 (index 280) to leader 0
flag 72837 term 41 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 47410 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 269} {4721819068078690672 39 270} {8035993239861394938 39 271} {5642019354989171919 39 272} {8391724000139318159 39 273} {263565058004653016 39 274} {1328383503318866066 39 275} {9185790853000631118 39 276} {9125333701124588174 39 277} {5600209524574949856 39 278} {1420690158588084109 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
term 41 Server0 start snapshot! index=279
term 41 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 89978 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 8092 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
term 41 Server1 start snapshot! index=279
term 41 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 57023 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 97109 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
flag 60243 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 66532 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46304 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 58013 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
flag 56277 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 69194 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 39 279} {1420690158588084109 41 280}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5771428676392783221 (index 281) to leader 0
flag 69136 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 89755 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {1420690158588084109 41 280} {5771428676392783221 41 281}]
------------------------------------------------------
flag 2269 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 50601 term 41 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {1420690158588084109 41 280} {5771428676392783221 41 281}]
------------------------------------------------------
client write log 5360955353371121910 (index 282) to leader 0
client write log 4514935403689460524 (index 283) to leader 0
client write log 6846652232313536303 (index 284) to leader 0
client write log 7684464827618008330 (index 285) to leader 0
client write log 6468077036394179062 (index 286) to leader 0
client write log 5911378680294991226 (index 287) to leader 0
client write log 1594706128782675352 (index 288) to leader 0
client write log 7948471778549923810 (index 289) to leader 0
client write log 8483069514142234854 (index 290) to leader 0
client write log 6707237075722191689 (index 291) to leader 0
client write log 4037763873636577924 (index 292) to leader 0
client write log 109403944360823422 (index 293) to leader 0
flag 62390 term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 63705 term 41 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 279} {1420690158588084109 41 280} {5771428676392783221 41 281} {5360955353371121910 41 282} {4514935403689460524 41 283} {6846652232313536303 41 284} {7684464827618008330 41 285} {6468077036394179062 41 286} {5911378680294991226 41 287} {1594706128782675352 41 288} {7948471778549923810 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293}]
------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 52551 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293}]
------------------------------------------------------
term 41 Server2 start snapshot! index=289
term 41 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2346833093799497778 (index 294) to leader 0
term 41 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 8477 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 84462 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 88073 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 281  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 85508 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67665 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 82068 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
flag 11623 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 20164 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11029 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 64024 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
flag 11905 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 68025 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
flag 89554 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 5991 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10220 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 98062 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75438 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 83764 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 23876 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 44313 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 62017 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 79349 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
flag 59608 term 44 leader 1 nextIndex[0]: 295  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 34154 term 44 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294}]
------------------------------------------------------
flag 58781 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 16577 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
client write log 8624205952790018413 (index 295) to leader 1
flag 43500 term 44 leader 1 nextIndex[0]: 295  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 8961 term 44 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 44 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294} {8624205952790018413 44 295}]
------------------------------------------------------
flag 62753 term 43 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
flag 57095 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
flag 6600 term 44 leader 1 nextIndex[0]: 295  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 295 
------------------------------------------------------
flag 77500 term 44 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 44 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294} {8624205952790018413 44 295}]
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 294
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 16240 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
client write log 6331596579969913358 (index 296) to leader 1
client write log 4002791456871885326 (index 297) to leader 1
client write log 110119957189284111 (index 298) to leader 1
client write log 1936656956198344286 (index 299) to leader 1
client write log 4957665245411788370 (index 300) to leader 1
client write log 5820921783080097827 (index 301) to leader 1
client write log 5037525250979198972 (index 302) to leader 1
client write log 3277914389386042632 (index 303) to leader 1
client write log 5740748816221619193 (index 304) to leader 1
client write log 3210040974975381681 (index 305) to leader 1
client write log 3877505216441492873 (index 306) to leader 1
client write log 2589887263672212931 (index 307) to leader 1
client write log 5359420188543687505 (index 308) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 295->294
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 86173 term 44 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 44 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 41 289} {8483069514142234854 41 290} {6707237075722191689 41 291} {4037763873636577924 41 292} {109403944360823422 41 293} {2346833093799497778 41 294} {8624205952790018413 44 295} {6331596579969913358 44 296} {4002791456871885326 44 297} {110119957189284111 44 298} {1936656956198344286 44 299} {4957665245411788370 44 300} {5820921783080097827 44 301} {5037525250979198972 44 302} {3277914389386042632 44 303} {5740748816221619193 44 304} {3210040974975381681 44 305} {3877505216441492873 44 306} {2589887263672212931 44 307} {5359420188543687505 44 308}]
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 294
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 98366 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 5541 term 44 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 44 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {4957665245411788370 44 300} {5820921783080097827 44 301} {5037525250979198972 44 302} {3277914389386042632 44 303} {5740748816221619193 44 304} {3210040974975381681 44 305} {3877505216441492873 44 306} {2589887263672212931 44 307} {5359420188543687505 44 308}]
------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=308
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 294
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 72308 term 43 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
!!!!!!connect server 0
client write log 5429959802019007264 (index 309) to leader 1
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 17972 term 44 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 44 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 299} {4957665245411788370 44 300} {5820921783080097827 44 301} {5037525250979198972 44 302} {3277914389386042632 44 303} {5740748816221619193 44 304} {3210040974975381681 44 305} {3877505216441492873 44 306} {2589887263672212931 44 307} {5359420188543687505 44 308} {5429959802019007264 44 309}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
term 44 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
term 44 Server1 start snapshot! index=309
term 44 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 44 server 0 not vote for server 1, 日志不够新
term 44 server 1 get outdate rpc reply from server 0
term 44 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 11814 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
term 44 Server2 start snapshot! index=309
term 44 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 164 term 44 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 98368 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
flag 2891 term 44 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 14788 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55272 term 44 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 16052 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
flag 55917 term 44 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 35059 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
flag 95737 term 44 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 25650 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5974169101907920620 (index 310) to leader 1
term 44 server 0 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 0
flag 5098 term 44 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 13211 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {5974169101907920620 44 310}]
------------------------------------------------------
flag 81057 term 44 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 79846 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {5974169101907920620 44 310}]
------------------------------------------------------
client write log 4379438053965257831 (index 311) to leader 1
client write log 7067749763536315387 (index 312) to leader 1
client write log 4734049487309972033 (index 313) to leader 1
client write log 2026096572032553720 (index 314) to leader 1
client write log 3185034697796210562 (index 315) to leader 1
client write log 7150946179704975186 (index 316) to leader 1
client write log 918533053154077730 (index 317) to leader 1
client write log 8484939511559830812 (index 318) to leader 1
client write log 7697672032937211997 (index 319) to leader 1
client write log 8933789551053413071 (index 320) to leader 1
client write log 6172916308216692703 (index 321) to leader 1
client write log 9047542558510282631 (index 322) to leader 1
client write log 771410877799489142 (index 323) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24101 term 44 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 69138 term 44 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 44 309} {5974169101907920620 44 310} {4379438053965257831 44 311} {7067749763536315387 44 312} {4734049487309972033 44 313} {2026096572032553720 44 314} {3185034697796210562 44 315} {7150946179704975186 44 316} {918533053154077730 44 317} {8484939511559830812 44 318} {7697672032937211997 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323}]
------------------------------------------------------
term 44 Server1 start snapshot! index=319
term 44 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 310->309
------------------------------------------------------
flag 84759 term 44 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 44 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 309
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323}]
------------------------------------------------------
term 44 Server0 start snapshot! index=319
term 44 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4254338880289942463 (index 324) to leader 1
flag 16488 term 44 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 44 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 0  matchIndex[2]: 309
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get outdate rpc reply from server 0
flag 20452 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 5068 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 325->324
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1914 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 44 rf.commitIndex 319 rf.lastApplied 319
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19542 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 17632 term 46 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 46 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89060 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 54790 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 13041 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 19565 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 54127 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 41876 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14352 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 46620 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 44143 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 17560 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 20238 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 98529 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 75547 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 97976 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 42814 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 72401 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 2 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 2
flag 22707 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 40405 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 7136 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 2220 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 10491 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 921 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 37326 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 70794 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31046 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 27662 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45607 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 65493 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53098 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 453 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
flag 39282 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 3309 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=323
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324}]
------------------------------------------------------
client write log 4254338880289942463 (index 325) to leader 1
flag 57680 term 46 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
flag 26085 term 46 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 46 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 44 leaderCommit: 323 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
flag 69237 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 6288 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31345 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 82687 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
flag 53354 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 72890 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
flag 7841 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 65610 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67495 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 65095 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
flag 23966 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 65825 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5440821108904963905 (index 326) to leader 1
flag 11290 term 46 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
flag 86934 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 325 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325} {5440821108904963905 46 326}]
------------------------------------------------------
flag 84896 term 46 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 46 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 23570 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325} {5440821108904963905 46 326}]
------------------------------------------------------
client write log 348341542844252119 (index 327) to leader 1
client write log 2729410648491633180 (index 328) to leader 1
client write log 319658194282136467 (index 329) to leader 1
client write log 7521413240024549661 (index 330) to leader 1
client write log 3491299222135985301 (index 331) to leader 1
client write log 1880961210970315942 (index 332) to leader 1
client write log 5600688614314286 (index 333) to leader 1
flag 47489 term 46 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 46 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 31583 term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 44 319} {8933789551053413071 44 320} {6172916308216692703 44 321} {9047542558510282631 44 322} {771410877799489142 44 323} {4254338880289942463 44 324} {4254338880289942463 46 325} {5440821108904963905 46 326} {348341542844252119 46 327} {2729410648491633180 46 328} {319658194282136467 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333}]
------------------------------------------------------
term 46 Server1 start snapshot! index=329
term 46 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
flag 74054 term 46 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 46 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333}]
------------------------------------------------------
term 46 Server0 start snapshot! index=329
term 46 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4207127827896862372 (index 334) to leader 1
flag 52501 term 46 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 46 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 46388 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 623 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 335->334
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47338 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 46 rf.commitIndex 329 rf.lastApplied 329
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
flag 48267 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 16865 term 48 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 48 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67351 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 12324 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72469 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 1584 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68159 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 95434 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34172 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 76286 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99380 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 74056 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 0
flag 3991 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 85771 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91122 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 84547 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
flag 52131 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 806 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 0
flag 20402 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 83978 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72709 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 61500 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
flag 44829 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 43386 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
flag 2293 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 2965 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60546 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 60952 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
flag 73620 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 92151 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
flag 56618 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 34415 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56551 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 79147 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334}]
------------------------------------------------------
client write log 4207127827896862372 (index 335) to leader 1
flag 87072 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 25303 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
flag 68534 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 50522 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
flag 80086 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 9270 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
flag 47012 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 54023 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
flag 40166 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 37211 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
flag 30061 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 15000 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
flag 89521 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 90242 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 90056 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 19499 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 11596 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 75092 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 2352 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 75116 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
flag 54997 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 67270 term 49 leader 0 nextIndex[2]: 336  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335}]
------------------------------------------------------
client write log 2917794164692684714 (index 336) to leader 0
flag 75002 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 60221 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 938 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 51216 term 49 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336}]
------------------------------------------------------
flag 54980 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 61712 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 46808 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 37562 term 49 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 49 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336}]
------------------------------------------------------
client write log 396689176767333274 (index 337) to leader 0
flag 76781 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 98040 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 96231 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 60312 term 49 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 49 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 56760 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 78288 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 66058 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 337 
------------------------------------------------------
flag 56693 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7769654602125629523 (index 336) to leader 1
flag 16665 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 18548 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85353 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 337 
------------------------------------------------------
flag 46192 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 73520 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 5252 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33415 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 11746 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 69670 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 42122 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71515 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 61216 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 42360 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 74136 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 33602 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 99880 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 337
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 48405 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 337 args.LastIncludedIndex 329
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 330->329
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 329
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 29556 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 337 args.LastIncludedIndex 329
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 330->329
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 329
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 69763 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 337 args.LastIncludedIndex 329
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 75106 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 337 
------------------------------------------------------
flag 27619 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43839 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 4639 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 20394 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 71275 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 12951 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 17493 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 48024 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 93966 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 824 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 79816 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 12123 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 93429 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 43198 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 22891 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
flag 5224 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 25195 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21367 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 25486 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337}]
------------------------------------------------------
client write log 7769654602125629523 (index 338) to leader 0
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38110 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 61374 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
flag 14882 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 34771 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1121 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 30557 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
flag 50882 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 67925 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 339->338
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 71586 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 338 args.LastIncludedIndex 329
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 49744 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 338 
------------------------------------------------------
flag 20909 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3419708452225907782 (index 339) to leader 0
flag 61717 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 21798 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 46 329} {7521413240024549661 46 330} {3491299222135985301 46 331} {1880961210970315942 46 332} {5600688614314286 46 333} {4207127827896862372 46 334} {4207127827896862372 48 335} {2917794164692684714 49 336} {396689176767333274 49 337} {7769654602125629523 49 338} {3419708452225907782 49 339}]
------------------------------------------------------
term 49 Server0 start snapshot! index=339
term 49 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 52462 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
term 49 Server2 start snapshot! index=339
term 49 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
client write log 5649531997895278882 (index 340) to leader 0
client write log 3268227811565173017 (index 341) to leader 0
client write log 6865376551253506761 (index 342) to leader 0
client write log 412331993215592480 (index 343) to leader 0
client write log 2791703615961293517 (index 344) to leader 0
client write log 8563697568149922799 (index 345) to leader 0
client write log 1355837577814074091 (index 346) to leader 0
client write log 3530786037379734676 (index 347) to leader 0
client write log 108599433677811107 (index 348) to leader 0
client write log 437080509506636969 (index 349) to leader 0
client write log 5465322246455807991 (index 350) to leader 0
client write log 8098426068032950522 (index 351) to leader 0
client write log 3108695925742005034 (index 352) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 68025 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=352
leader log:
[{snapshot 49 339} {5649531997895278882 49 340} {3268227811565173017 49 341} {6865376551253506761 49 342} {412331993215592480 49 343} {2791703615961293517 49 344} {8563697568149922799 49 345} {1355837577814074091 49 346} {3530786037379734676 49 347} {108599433677811107 49 348} {437080509506636969 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352}]
------------------------------------------------------
term 49 Server0 start snapshot! index=349
term 49 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
flag 29821 term 49 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 49 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 49 leaderCommit: 352 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=352
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352}]
------------------------------------------------------
term 49 Server2 start snapshot! index=349
term 49 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=352
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5405149407958663730 (index 353) to leader 0
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
flag 6003 term 49 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 49 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 49 leaderCommit: 352 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get outdate rpc reply from server 1
flag 29945 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 72298 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 354->353
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 339  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
flag 96389 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 49 rf.commitIndex 349 rf.lastApplied 349
flag 83858 term 51 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 77766 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
flag 41696 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 9640 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
flag 90578 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 42854 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
flag 47698 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 95198 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
flag 59654 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 50168 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91772 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 51363 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59639 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 89758 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4131017755941017265 (index 354) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45252 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 13561 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353} {4131017755941017265 51 354}]
------------------------------------------------------
flag 41106 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 354 
------------------------------------------------------
flag 2965 term 51 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 51 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353} {4131017755941017265 51 354}]
------------------------------------------------------
client write log 375130035433823763 (index 355) to leader 0
client write log 6667312083895441419 (index 356) to leader 0
client write log 436584595835768927 (index 357) to leader 0
client write log 6406184438740790032 (index 358) to leader 0
client write log 2792844475965655098 (index 359) to leader 0
client write log 6973640277369236374 (index 360) to leader 0
client write log 5726351519966524527 (index 361) to leader 0
client write log 5620059822842390750 (index 362) to leader 0
client write log 1861382788195552176 (index 363) to leader 0
flag 55221 term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 354 
------------------------------------------------------
flag 18743 term 51 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 51 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 49 349} {5465322246455807991 49 350} {8098426068032950522 49 351} {3108695925742005034 49 352} {5405149407958663730 49 353} {4131017755941017265 51 354} {375130035433823763 51 355} {6667312083895441419 51 356} {436584595835768927 51 357} {6406184438740790032 51 358} {2792844475965655098 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363}]
------------------------------------------------------
term 51 Server0 start snapshot! index=359
term 51 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=363
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
flag 52872 term 51 leader 0 nextIndex[2]: 364  matchIndex[2]: 363
term 51 leader 0 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363}]
------------------------------------------------------
term 51 Server2 start snapshot! index=359
term 51 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=363
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7981647376916824173 (index 364) to leader 0
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 2405 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 87817 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 365->364
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 365->364
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 354  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
flag 97492 term 53 leader 0 nextIndex[2]: 364  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 51 rf.commitIndex 359 rf.lastApplied 359
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 80993 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 23768 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 48431 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 2961 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 14405 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 61707 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 8699 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 41170 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62334 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 84456 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 90401 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 78262 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57869 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 16016 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23866 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 58622 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 33623 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 64622 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 8816 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 80115 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 31256 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 55537 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 69483 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 96455 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32239 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 72265 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 729 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 9157 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 2362 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 80740 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 16997 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 98277 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
flag 50338 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 40193 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7981647376916824173 (index 365) to leader 0
flag 42942 term 53 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
flag 71253 term 53 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 53 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 363 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 65540 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 37688 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 44267 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 14335 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 8997 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 56274 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 4761 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 75201 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 2837 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 59814 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 27840 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 16754 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 3747 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 84581 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 36513 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 8655 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 17383 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 11354 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
flag 31845 term 54 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 23007 term 54 leader 2 nextIndex[1]: 366  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365}]
------------------------------------------------------
flag 54462 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 14804 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
client write log 3230622547243988058 (index 366) to leader 2
flag 16406 term 54 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 14447 term 54 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366}]
------------------------------------------------------
flag 68977 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 26541 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 65705 term 54 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 73256 term 54 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 54 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 54 leaderCommit: 366 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366}]
------------------------------------------------------
flag 47903 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 86738 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
client write log 5286705185080344989 (index 367) to leader 2
flag 88450 term 54 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 93229 term 54 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 54 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 54 leaderCommit: 366 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367}]
------------------------------------------------------
flag 32167 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 58220 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 12842 term 54 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 367 
------------------------------------------------------
flag 49770 term 54 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 54 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 54 leaderCommit: 367 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367}]
------------------------------------------------------
flag 41037 term 53 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 92126 term 53 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
!!!!!!connect server 0
client write log 3342675677399512247 (index 368) to leader 2
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 52881 term 54 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 367 
------------------------------------------------------
flag 40403 term 54 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 54 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 54 leaderCommit: 367 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
flag 94933 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 87551 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:368 
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31729 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 54030 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86210 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 75434 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
term 54 server 0 not vote for server 2, 日志不够新
term 54 server 2 get outdate rpc reply from server 0
flag 48076 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 51032 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43716 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 36223 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98413 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 34886 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=369
update matchIndex[1]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=369
update matchIndex[0]=368
update leader CommitIndex=368
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3830036540114410287 (index 369) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24243 term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
flag 61167 term 54 leader 2 nextIndex[1]: 369  matchIndex[1]: 368
term 54 leader 2 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 54 leaderCommit: 368 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=369
leader log:
[{snapshot 51 359} {6973640277369236374 51 360} {5726351519966524527 51 361} {5620059822842390750 51 362} {1861382788195552176 51 363} {7981647376916824173 51 364} {7981647376916824173 53 365} {3230622547243988058 54 366} {5286705185080344989 54 367} {3342675677399512247 54 368} {3830036540114410287 54 369}]
------------------------------------------------------
term 54 Server2 start snapshot! index=369
term 54 server2 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
flag 21937 term 54 leader 2 nextIndex[1]: 370  matchIndex[1]: 369
term 54 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 54 leaderCommit: 369 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=369
leader log:
[{snapshot 54 369}]
------------------------------------------------------
term 54 Server1 start snapshot! index=369
term 54 server1 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
client write log 3411792603942618839 (index 370) to leader 2
client write log 5058883059451590037 (index 371) to leader 2
client write log 2860806130630045275 (index 372) to leader 2
client write log 420748606565083191 (index 373) to leader 2
client write log 6453192550375311320 (index 374) to leader 2
client write log 1337524140268099339 (index 375) to leader 2
client write log 7129689012332496306 (index 376) to leader 2
client write log 332042223835634102 (index 377) to leader 2
client write log 6382690186181461132 (index 378) to leader 2
term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
flag 11456 term 54 leader 2 nextIndex[1]: 370  matchIndex[1]: 369
term 54 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 54 leaderCommit: 369 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=379
update matchIndex[1]=378
update leader CommitIndex=378
leader log:
[{snapshot 54 369} {3411792603942618839 54 370} {5058883059451590037 54 371} {2860806130630045275 54 372} {420748606565083191 54 373} {6453192550375311320 54 374} {1337524140268099339 54 375} {7129689012332496306 54 376} {332042223835634102 54 377} {6382690186181461132 54 378}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
flag 80984 term 54 leader 2 nextIndex[1]: 379  matchIndex[1]: 378
term 54 leader 2 sendAppendEntries PrevLogIndex: 378  PrevLogTerm: 54 leaderCommit: 378 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:378 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=379
update matchIndex[1]=378
update leader CommitIndex=378
leader log:
[{snapshot 54 369} {3411792603942618839 54 370} {5058883059451590037 54 371} {2860806130630045275 54 372} {420748606565083191 54 373} {6453192550375311320 54 374} {1337524140268099339 54 375} {7129689012332496306 54 376} {332042223835634102 54 377} {6382690186181461132 54 378}]
------------------------------------------------------
!!!!!!connect server 0
client write log 540876534286369485 (index 379) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 369  matchIndex[0]: 368
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
flag 70401 term 54 leader 2 nextIndex[1]: 379  matchIndex[1]: 378
term 54 leader 2 sendAppendEntries PrevLogIndex: 378  PrevLogTerm: 54 leaderCommit: 378 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:378 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 369} {3411792603942618839 54 370} {5058883059451590037 54 371} {2860806130630045275 54 372} {420748606565083191 54 373} {6453192550375311320 54 374} {1337524140268099339 54 375} {7129689012332496306 54 376} {332042223835634102 54 377} {6382690186181461132 54 378} {540876534286369485 54 379}]
------------------------------------------------------
term 55 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 Server2 start snapshot! index=379
term 55 server2 snapshot success
lastIncludedIndex=379 lastApplied=379 lastIndex=379
-------------------------------------------------------------
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get outdate rpc reply from server 0
flag 23467 term 56 leader 2 nextIndex[0]: 380  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
flag 46771 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 380->379
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
term 56 Server1 start snapshot! index=379
term 56 server1 snapshot success
lastIncludedIndex=379 lastApplied=379 lastIndex=379
-------------------------------------------------------------
term 56 leader 2 nextIndex[0]: 369  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 379  LastIncludedTerm: 54
------------------------------------------------------
flag 51987 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 379 rf.lastIncludedTerm 54 rf.commitIndex 379 rf.lastApplied 379
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 380 matchIndex[0] 379 
------------------------------------------------------------------------
flag 23329 term 56 leader 2 nextIndex[0]: 380  matchIndex[0]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
flag 52126 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2878 term 56 leader 2 nextIndex[0]: 380  matchIndex[0]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
flag 19932 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
flag 52582 term 56 leader 2 nextIndex[0]: 380  matchIndex[0]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
flag 43172 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
flag 64563 term 56 leader 2 nextIndex[0]: 380  matchIndex[0]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
flag 37639 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50518 term 56 leader 2 nextIndex[0]: 380  matchIndex[0]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
flag 3533 term 56 leader 2 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 2 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 379 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=380
update matchIndex[1]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=380
update matchIndex[0]=379
update leader CommitIndex=379
leader log:
[{snapshot 54 379}]
------------------------------------------------------
  ... Passed --  80.5  3 1839  843532  379
--- PASS: TestSnapshotInstall2D (80.54s)
PASS
